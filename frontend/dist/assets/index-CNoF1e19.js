function RI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const r=Object.getOwnPropertyDescriptor(i,a);r&&Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function gS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var aM={exports:{}},rg={};var _3;function NI(){if(_3)return rg;_3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,r){var o=null;if(r!==void 0&&(o=""+r),a.key!==void 0&&(o=""+a.key),"key"in a){r={};for(var c in a)c!=="key"&&(r[c]=a[c])}else r=a;return a=r.ref,{$$typeof:n,type:i,key:o,ref:a!==void 0?a:null,props:r}}return rg.Fragment=e,rg.jsx=t,rg.jsxs=t,rg}var S3;function DI(){return S3||(S3=1,aM.exports=NI()),aM.exports}var A=DI(),rM={exports:{}},un={};var M3;function OI(){if(M3)return un;M3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(K){return K===null||typeof K!="object"?null:(K=y&&K[y]||K["@@iterator"],typeof K=="function"?K:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function S(K,le,_e){this.props=K,this.context=le,this.refs=E,this.updater=_e||_}S.prototype.isReactComponent={},S.prototype.setState=function(K,le){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,le,"setState")},S.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=S.prototype;function D(K,le,_e){this.props=K,this.context=le,this.refs=E,this.updater=_e||_}var U=D.prototype=new R;U.constructor=D,T(U,S.prototype),U.isPureReactComponent=!0;var F=Array.isArray;function P(){}var L={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function I(K,le,_e){var Se=_e.ref;return{$$typeof:n,type:K,key:le,ref:Se!==void 0?Se:null,props:_e}}function V(K,le){return I(K.type,le,K.props)}function W(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function te(K){var le={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(_e){return le[_e]})}var ne=/\/+/g;function ie(K,le){return typeof K=="object"&&K!==null&&K.key!=null?te(""+K.key):le.toString(36)}function oe(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(P,P):(K.status="pending",K.then(function(le){K.status==="pending"&&(K.status="fulfilled",K.value=le)},function(le){K.status==="pending"&&(K.status="rejected",K.reason=le)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function H(K,le,_e,Se,je){var ve=typeof K;(ve==="undefined"||ve==="boolean")&&(K=null);var pe=!1;if(K===null)pe=!0;else switch(ve){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(K.$$typeof){case n:case e:pe=!0;break;case m:return pe=K._init,H(pe(K._payload),le,_e,Se,je)}}if(pe)return je=je(K),pe=Se===""?"."+ie(K,0):Se,F(je)?(_e="",pe!=null&&(_e=pe.replace(ne,"$&/")+"/"),H(je,le,_e,"",function(gt){return gt})):je!=null&&(W(je)&&(je=V(je,_e+(je.key==null||K&&K.key===je.key?"":(""+je.key).replace(ne,"$&/")+"/")+pe)),le.push(je)),1;pe=0;var Je=Se===""?".":Se+":";if(F(K))for(var ct=0;ct<K.length;ct++)Se=K[ct],ve=Je+ie(Se,ct),pe+=H(Se,le,_e,ve,je);else if(ct=b(K),typeof ct=="function")for(K=ct.call(K),ct=0;!(Se=K.next()).done;)Se=Se.value,ve=Je+ie(Se,ct++),pe+=H(Se,le,_e,ve,je);else if(ve==="object"){if(typeof K.then=="function")return H(oe(K),le,_e,Se,je);throw le=String(K),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return pe}function q(K,le,_e){if(K==null)return K;var Se=[],je=0;return H(K,Se,"","",function(ve){return le.call(_e,ve,je++)}),Se}function G(K){if(K._status===-1){var le=K._result;le=le(),le.then(function(_e){(K._status===0||K._status===-1)&&(K._status=1,K._result=_e)},function(_e){(K._status===0||K._status===-1)&&(K._status=2,K._result=_e)}),K._status===-1&&(K._status=0,K._result=le)}if(K._status===1)return K._result.default;throw K._result}var ee=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ue={map:q,forEach:function(K,le,_e){q(K,function(){le.apply(this,arguments)},_e)},count:function(K){var le=0;return q(K,function(){le++}),le},toArray:function(K){return q(K,function(le){return le})||[]},only:function(K){if(!W(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return un.Activity=g,un.Children=ue,un.Component=S,un.Fragment=t,un.Profiler=a,un.PureComponent=D,un.StrictMode=i,un.Suspense=f,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,un.__COMPILER_RUNTIME={__proto__:null,c:function(K){return L.H.useMemoCache(K)}},un.cache=function(K){return function(){return K.apply(null,arguments)}},un.cacheSignal=function(){return null},un.cloneElement=function(K,le,_e){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Se=T({},K.props),je=K.key;if(le!=null)for(ve in le.key!==void 0&&(je=""+le.key),le)!B.call(le,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&le.ref===void 0||(Se[ve]=le[ve]);var ve=arguments.length-2;if(ve===1)Se.children=_e;else if(1<ve){for(var pe=Array(ve),Je=0;Je<ve;Je++)pe[Je]=arguments[Je+2];Se.children=pe}return I(K.type,je,Se)},un.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:r,_context:K},K},un.createElement=function(K,le,_e){var Se,je={},ve=null;if(le!=null)for(Se in le.key!==void 0&&(ve=""+le.key),le)B.call(le,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(je[Se]=le[Se]);var pe=arguments.length-2;if(pe===1)je.children=_e;else if(1<pe){for(var Je=Array(pe),ct=0;ct<pe;ct++)Je[ct]=arguments[ct+2];je.children=Je}if(K&&K.defaultProps)for(Se in pe=K.defaultProps,pe)je[Se]===void 0&&(je[Se]=pe[Se]);return I(K,ve,je)},un.createRef=function(){return{current:null}},un.forwardRef=function(K){return{$$typeof:c,render:K}},un.isValidElement=W,un.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:G}},un.memo=function(K,le){return{$$typeof:d,type:K,compare:le===void 0?null:le}},un.startTransition=function(K){var le=L.T,_e={};L.T=_e;try{var Se=K(),je=L.S;je!==null&&je(_e,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(P,ee)}catch(ve){ee(ve)}finally{le!==null&&_e.types!==null&&(le.types=_e.types),L.T=le}},un.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},un.use=function(K){return L.H.use(K)},un.useActionState=function(K,le,_e){return L.H.useActionState(K,le,_e)},un.useCallback=function(K,le){return L.H.useCallback(K,le)},un.useContext=function(K){return L.H.useContext(K)},un.useDebugValue=function(){},un.useDeferredValue=function(K,le){return L.H.useDeferredValue(K,le)},un.useEffect=function(K,le){return L.H.useEffect(K,le)},un.useEffectEvent=function(K){return L.H.useEffectEvent(K)},un.useId=function(){return L.H.useId()},un.useImperativeHandle=function(K,le,_e){return L.H.useImperativeHandle(K,le,_e)},un.useInsertionEffect=function(K,le){return L.H.useInsertionEffect(K,le)},un.useLayoutEffect=function(K,le){return L.H.useLayoutEffect(K,le)},un.useMemo=function(K,le){return L.H.useMemo(K,le)},un.useOptimistic=function(K,le){return L.H.useOptimistic(K,le)},un.useReducer=function(K,le,_e){return L.H.useReducer(K,le,_e)},un.useRef=function(K){return L.H.useRef(K)},un.useState=function(K){return L.H.useState(K)},un.useSyncExternalStore=function(K,le,_e){return L.H.useSyncExternalStore(K,le,_e)},un.useTransition=function(){return L.H.useTransition()},un.version="19.2.0",un}var E3;function ym(){return E3||(E3=1,rM.exports=OI()),rM.exports}var O=ym();const pr=gS(O),hT=RI({__proto__:null,default:pr},[O]);var sM={exports:{}},sg={},oM={exports:{}},lM={};var w3;function LI(){return w3||(w3=1,(function(n){function e(H,q){var G=H.length;H.push(q);e:for(;0<G;){var ee=G-1>>>1,ue=H[ee];if(0<a(ue,q))H[ee]=q,H[G]=ue,G=ee;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],G=H.pop();if(G!==q){H[0]=G;e:for(var ee=0,ue=H.length,K=ue>>>1;ee<K;){var le=2*(ee+1)-1,_e=H[le],Se=le+1,je=H[Se];if(0>a(_e,G))Se<ue&&0>a(je,_e)?(H[ee]=je,H[Se]=G,ee=Se):(H[ee]=_e,H[le]=G,ee=le);else if(Se<ue&&0>a(je,G))H[ee]=je,H[Se]=G,ee=Se;else break e}}return q}function a(H,q){var G=H.sortIndex-q.sortIndex;return G!==0?G:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,T=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(H){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function F(H){if(T=!1,U(H),!_)if(t(f)!==null)_=!0,P||(P=!0,te());else{var q=t(d);q!==null&&oe(F,q.startTime-H)}}var P=!1,L=-1,B=5,I=-1;function V(){return E?!0:!(n.unstable_now()-I<B)}function W(){if(E=!1,P){var H=n.unstable_now();I=H;var q=!0;try{e:{_=!1,T&&(T=!1,R(L),L=-1),b=!0;var G=y;try{t:{for(U(H),g=t(f);g!==null&&!(g.expirationTime>H&&V());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var ue=ee(g.expirationTime<=H);if(H=n.unstable_now(),typeof ue=="function"){g.callback=ue,U(H),q=!0;break t}g===t(f)&&i(f),U(H)}else i(f);g=t(f)}if(g!==null)q=!0;else{var K=t(d);K!==null&&oe(F,K.startTime-H),q=!1}}break e}finally{g=null,y=G,b=!1}q=void 0}}finally{q?te():P=!1}}}var te;if(typeof D=="function")te=function(){D(W)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ie=ne.port2;ne.port1.onmessage=W,te=function(){ie.postMessage(null)}}else te=function(){S(W,0)};function oe(H,q){L=S(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var G=y;y=q;try{return H()}finally{y=G}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=y;y=H;try{return q()}finally{y=G}},n.unstable_scheduleCallback=function(H,q,G){var ee=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,H){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=G+ue,H={id:m++,callback:q,priorityLevel:H,startTime:G,expirationTime:ue,sortIndex:-1},G>ee?(H.sortIndex=G,e(d,H),t(f)===null&&H===t(d)&&(T?(R(L),L=-1):T=!0,oe(F,G-ee))):(H.sortIndex=ue,e(f,H),_||b||(_=!0,P||(P=!0,te()))),H},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(H){var q=y;return function(){var G=y;y=q;try{return H.apply(this,arguments)}finally{y=G}}}})(lM)),lM}var T3;function UI(){return T3||(T3=1,oM.exports=LI()),oM.exports}var cM={exports:{}},ur={};var A3;function PI(){if(A3)return ur;A3=1;var n=ym();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ur.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(f,d,null,m)},ur.flushSync=function(f){var d=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=d,i.p=m,i.d.f()}},ur.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},ur.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ur.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ur.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},ur.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ur.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},ur.requestFormReset=function(f){i.d.r(f)},ur.unstable_batchedUpdates=function(f,d){return f(d)},ur.useFormState=function(f,d,m){return o.H.useFormState(f,d,m)},ur.useFormStatus=function(){return o.H.useHostTransitionStatus()},ur.version="19.2.0",ur}var C3;function bO(){if(C3)return cM.exports;C3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cM.exports=PI(),cM.exports}var R3;function zI(){if(R3)return sg;R3=1;var n=UI(),e=ym(),t=bO();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(r(s)!==s)throw Error(i(188))}function d(s){var l=s.alternate;if(!l){if(l=r(s),l===null)throw Error(i(188));return l!==s?null:s}for(var p=s,x=l;;){var M=p.return;if(M===null)break;var C=M.alternate;if(C===null){if(x=M.return,x!==null){p=x;continue}break}if(M.child===C.child){for(C=M.child;C;){if(C===p)return f(M),s;if(C===x)return f(M),l;C=C.sibling}throw Error(i(188))}if(p.return!==x.return)p=M,x=C;else{for(var k=!1,Y=M.child;Y;){if(Y===p){k=!0,p=M,x=C;break}if(Y===x){k=!0,x=M,p=C;break}Y=Y.sibling}if(!k){for(Y=C.child;Y;){if(Y===p){k=!0,p=C,x=M;break}if(Y===x){k=!0,x=C,p=M;break}Y=Y.sibling}if(!k)throw Error(i(189))}}if(p.alternate!==x)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Symbol.for("react.client.reference");function ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ne?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case D:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case U:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return l=s.displayName||null,l!==null?l:ie(s.type)||"Memo";case B:l=s._payload,s=s._init;try{return ie(s(l))}catch{}}return null}var oe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ee=[],ue=-1;function K(s){return{current:s}}function le(s){0>ue||(s.current=ee[ue],ee[ue]=null,ue--)}function _e(s,l){ue++,ee[ue]=s.current,s.current=l}var Se=K(null),je=K(null),ve=K(null),pe=K(null);function Je(s,l){switch(_e(ve,l),_e(je,s),_e(Se,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?GA(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=GA(l),s=XA(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}le(Se),_e(Se,s)}function ct(){le(Se),le(je),le(ve)}function gt(s){s.memoizedState!==null&&_e(pe,s);var l=Se.current,p=XA(l,s.type);l!==p&&(_e(je,s),_e(Se,p))}function wt(s){je.current===s&&(le(Se),le(je)),pe.current===s&&(le(pe),tg._currentValue=G)}var $t,Bt;function ke(s){if($t===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);$t=l&&l[1]||"",Bt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$t+s+Bt}var J=!1;function Ge(s,l){if(!s||J)return"";J=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Le){var Ce=Le}Reflect.construct(s,[],He)}else{try{He.call()}catch(Le){Ce=Le}s.call(He.prototype)}}else{try{throw Error()}catch(Le){Ce=Le}(He=s())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Le){if(Le&&Ce&&typeof Le.stack=="string")return[Le.stack,Ce.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),k=C[0],Y=C[1];if(k&&Y){var se=k.split(`
`),Te=Y.split(`
`);for(M=x=0;x<se.length&&!se[x].includes("DetermineComponentFrameRoot");)x++;for(;M<Te.length&&!Te[M].includes("DetermineComponentFrameRoot");)M++;if(x===se.length||M===Te.length)for(x=se.length-1,M=Te.length-1;1<=x&&0<=M&&se[x]!==Te[M];)M--;for(;1<=x&&0<=M;x--,M--)if(se[x]!==Te[M]){if(x!==1||M!==1)do if(x--,M--,0>M||se[x]!==Te[M]){var Pe=`
`+se[x].replace(" at new "," at ");return s.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",s.displayName)),Pe}while(1<=x&&0<=M);break}}}finally{J=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?ke(p):""}function Ze(s,l){switch(s.tag){case 26:case 27:case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return s.child!==l&&l!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ge(s.type,!1);case 11:return Ge(s.type.render,!1);case 1:return Ge(s.type,!0);case 31:return ke("Activity");default:return""}}function it(s){try{var l="",p=null;do l+=Ze(s,p),p=s,s=s.return;while(s);return l}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Ye=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,st=n.unstable_cancelCallback,_t=n.unstable_shouldYield,Q=n.unstable_requestPaint,j=n.unstable_now,be=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,Ie=n.unstable_UserBlockingPriority,Ne=n.unstable_NormalPriority,Lt=n.unstable_LowPriority,ft=n.unstable_IdlePriority,Ht=n.log,Dt=n.unstable_setDisableYieldValue,ze=null,qe=null;function Ut(s){if(typeof Ht=="function"&&Dt(s),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ze,s)}catch{}}var At=Math.clz32?Math.clz32:ce,pt=Math.log,Yt=Math.LN2;function ce(s){return s>>>=0,s===0?32:31-(pt(s)/Yt|0)|0}var ut=256,nt=262144,ot=4194304;function We(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ve(s,l,p){var x=s.pendingLanes;if(x===0)return 0;var M=0,C=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var Y=x&134217727;return Y!==0?(x=Y&~C,x!==0?M=We(x):(k&=Y,k!==0?M=We(k):p||(p=Y&~s,p!==0&&(M=We(p))))):(Y=x&~C,Y!==0?M=We(Y):k!==0?M=We(k):p||(p=x&~s,p!==0&&(M=We(p)))),M===0?0:l!==0&&l!==M&&(l&C)===0&&(C=M&-M,p=l&-l,C>=p||C===32&&(p&4194048)!==0)?l:M}function St(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Kt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var s=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),s}function Tn(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function $i(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ae(s,l,p,x,M,C){var k=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var Y=s.entanglements,se=s.expirationTimes,Te=s.hiddenUpdates;for(p=k&~p;0<p;){var Pe=31-At(p),He=1<<Pe;Y[Pe]=0,se[Pe]=-1;var Ce=Te[Pe];if(Ce!==null)for(Te[Pe]=null,Pe=0;Pe<Ce.length;Pe++){var Le=Ce[Pe];Le!==null&&(Le.lane&=-536870913)}p&=~He}x!==0&&ye(s,x,0),C!==0&&M===0&&s.tag!==0&&(s.suspendedLanes|=C&~(k&~l))}function ye(s,l,p){s.pendingLanes|=l,s.suspendedLanes&=~l;var x=31-At(l);s.entangledLanes|=l,s.entanglements[x]=s.entanglements[x]|1073741824|p&261930}function Re(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var x=31-At(p),M=1<<x;M&l|s[x]&l&&(s[x]|=l),p&=~M}}function Qe(s,l){var p=l&-l;return p=(p&42)!==0?1:tt(p),(p&(s.suspendedLanes|l))!==0?0:p}function tt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ot(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ct(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:p3(s.type))}function bt(s,l){var p=q.p;try{return q.p=s,l()}finally{q.p=p}}var Mt=Math.random().toString(36).slice(2),at="__reactFiber$"+Mt,ht="__reactProps$"+Mt,Rt="__reactContainer$"+Mt,fn="__reactEvents$"+Mt,ni="__reactListeners$"+Mt,Ti="__reactHandles$"+Mt,Ai="__reactResources$"+Mt,Fn="__reactMarker$"+Mt;function Vn(s){delete s[at],delete s[ht],delete s[fn],delete s[ni],delete s[Ti]}function ii(s){var l=s[at];if(l)return l;for(var p=s.parentNode;p;){if(l=p[Rt]||p[at]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=QA(s);s!==null;){if(p=s[at])return p;s=QA(s)}return l}s=p,p=s.parentNode}return null}function X(s){if(s=s[at]||s[Rt]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function de(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Ee(s){var l=s[Ai];return l||(l=s[Ai]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Me(s){s[Fn]=!0}var he=new Set,$e={};function lt(s,l){mt(s,l),mt(s+"Capture",l)}function mt(s,l){for($e[s]=l,s=0;s<l.length;s++)he.add(l[s])}var Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},Gt={};function Pt(s){return Ye.call(Gt,s)?!0:Ye.call(Tt,s)?!1:Ke.test(s)?Gt[s]=!0:(Tt[s]=!0,!1)}function It(s,l,p){if(Pt(l))if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+p)}}function yn(s,l,p){if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+p)}}function An(s,l,p,x){if(x===null)s.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(l,p,""+x)}}function Mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zn(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Zt(s,l,p){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var M=x.get,C=x.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return M.call(this)},set:function(k){p=""+k,C.call(this,k)}}),Object.defineProperty(s,l,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function ri(s){if(!s._valueTracker){var l=Zn(s)?"checked":"value";s._valueTracker=Zt(s,l,""+s[l])}}function Nn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),x="";return s&&(x=Zn(s)?s.checked?"true":"false":s.value),s=x,s!==p?(l.setValue(s),!0):!1}function Gi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var po=/[\n"\\]/g;function li(s){return s.replace(po,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Os(s,l,p,x,M,C,k,Y){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),l!=null?k==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Mn(l)):s.value!==""+Mn(l)&&(s.value=""+Mn(l)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),l!=null?ea(s,k,Mn(l)):p!=null?ea(s,k,Mn(p)):x!=null&&s.removeAttribute("value"),M==null&&C!=null&&(s.defaultChecked=!!C),M!=null&&(s.checked=M&&typeof M!="function"&&typeof M!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+Mn(Y):s.removeAttribute("name")}function ci(s,l,p,x,M,C,k,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),l!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){ri(s);return}p=p!=null?""+Mn(p):"",l=l!=null?""+Mn(l):p,Y||l===s.value||(s.value=l),s.defaultValue=l}x=x??M,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=Y?s.checked:!!x,s.defaultChecked=!!x,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k),ri(s)}function ea(s,l,p){l==="number"&&Gi(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function ta(s,l,p,x){if(s=s.options,l){l={};for(var M=0;M<p.length;M++)l["$"+p[M]]=!0;for(p=0;p<s.length;p++)M=l.hasOwnProperty("$"+s[p].value),s[p].selected!==M&&(s[p].selected=M),M&&x&&(s[p].defaultSelected=!0)}else{for(p=""+Mn(p),l=null,M=0;M<s.length;M++){if(s[M].value===p){s[M].selected=!0,x&&(s[M].defaultSelected=!0);return}l!==null||s[M].disabled||(l=s[M])}l!==null&&(l.selected=!0)}}function na(s,l,p){if(l!=null&&(l=""+Mn(l),l!==s.value&&(s.value=l),p==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=p!=null?""+Mn(p):""}function Ci(s,l,p,x){if(l==null){if(x!=null){if(p!=null)throw Error(i(92));if(oe(x)){if(1<x.length)throw Error(i(93));x=x[0]}p=x}p==null&&(p=""),l=p}p=Mn(l),s.defaultValue=p,x=s.textContent,x===p&&x!==""&&x!==null&&(s.value=x),ri(s)}function ds(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vf(s,l,p){var x=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":x?s.setProperty(l,p):typeof p!="number"||p===0||qr.has(l)?l==="float"?s.cssFloat=p:s[l]=(""+p).trim():s[l]=p+"px"}function Pm(s,l,p){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var M in l)x=l[M],l.hasOwnProperty(M)&&p[M]!==x&&vf(s,M,x)}else for(var C in l)l.hasOwnProperty(C)&&vf(s,C,l[C])}function bf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _f(s){return ny.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ls(){}var Sf=null;function sh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jl=null,Zo=null;function zm(s){var l=X(s);if(l&&(s=l.stateNode)){var p=s[ht]||null;e:switch(s=l.stateNode,l.type){case"input":if(Os(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+li(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var x=p[l];if(x!==s&&x.form===s.form){var M=x[ht]||null;if(!M)throw Error(i(90));Os(x,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(l=0;l<p.length;l++)x=p[l],x.form===s.form&&Nn(x)}break e;case"textarea":na(s,p.value,p.defaultValue);break e;case"select":l=p.value,l!=null&&ta(s,!!p.multiple,l,!1)}}}var oh=!1;function Bm(s,l,p){if(oh)return s(l,p);oh=!0;try{var x=s(l);return x}finally{if(oh=!1,(Jl!==null||Zo!==null)&&(Z(),Jl&&(l=Jl,s=Zo,Zo=Jl=null,zm(l),s)))for(l=0;l<s.length;l++)zm(s[l])}}function Ql(s,l){var p=s.stateNode;if(p===null)return null;var x=p[ht]||null;if(x===null)return null;p=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(i(231,l,typeof p));return p}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lh=!1;if(Us)try{var Mf={};Object.defineProperty(Mf,"passive",{get:function(){lh=!0}}),window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{lh=!1}var Jo=null,ch=null,Qo=null;function uh(){if(Qo)return Qo;var s,l=ch,p=l.length,x,M="value"in Jo?Jo.value:Jo.textContent,C=M.length;for(s=0;s<p&&l[s]===M[s];s++);var k=p-s;for(x=1;x<=k&&l[p-x]===M[C-x];x++);return Qo=M.slice(s,1<x?1-x:void 0)}function $l(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ef(){return!0}function Im(){return!1}function Na(s){function l(p,x,M,C,k){this._reactName=p,this._targetInst=M,this.type=x,this.nativeEvent=C,this.target=k,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(p=s[Y],this[Y]=p?p(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ef:Im,this.isPropagationStopped=Im,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),l}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Na($o),hs=g({},$o,{view:0,detail:0}),fh=Na(hs),dh,Tf,Kc,Af=g({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Kc&&(Kc&&s.type==="mousemove"?(dh=s.screenX-Kc.screenX,Tf=s.screenY-Kc.screenY):Tf=dh=0,Kc=s),dh)},movementY:function(s){return"movementY"in s?s.movementY:Tf}}),iy=Na(Af),ya=g({},Af,{dataTransfer:0}),ay=Na(ya),ry=g({},hs,{relatedTarget:0}),hh=Na(ry),sy=g({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),oy=Na(sy),Cf=g({},$o,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fm=Na(Cf),ly=g({},$o,{data:0}),Vm=Na(ly),cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Hm[s])?!!l[s]:!1}function Rf(){return uy}var jm=g({},hs,{key:function(s){if(s.key){var l=cy[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=$l(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?km[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(s){return s.type==="keypress"?$l(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$l(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gm=Na(jm),fy=g({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=Na(fy),dy=g({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),mo=Na(dy),Xm=g({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=Na(Xm),hy=g({},Af,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),el=Na(hy),go=g({},$o,{newState:0,oldState:0}),qm=Na(go),Wm=[9,13,27,32],ec=Us&&"CompositionEvent"in window,tl=null;Us&&"documentMode"in document&&(tl=document.documentMode);var tc=Us&&"TextEvent"in window&&!tl,va=Us&&(!ec||tl&&8<tl&&11>=tl),Nf=" ",Ym=!1;function mh(s,l){switch(s){case"keyup":return Wm.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var nl=!1;function gh(s,l){switch(s){case"compositionend":return Zc(l);case"keypress":return l.which!==32?null:(Ym=!0,Nf);case"textInput":return s=l.data,s===Nf&&Ym?null:s;default:return null}}function py(s,l){if(nl)return s==="compositionend"||!ec&&mh(s,l)?(s=uh(),Qo=ch=Jo=null,nl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return va&&l.locale!=="ko"?null:l.data;default:return null}}var _r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!_r[s.type]:l==="textarea"}function xh(s,l,p,x){Jl?Zo?Zo.push(x):Zo=[x]:Jl=x,l=rv(l,"onChange"),0<l.length&&(p=new wf("onChange","change",null,p,x),s.push({event:p,listeners:l}))}var Jc=null,Qc=null;function Zm(s){IA(s,0)}function $c(s){var l=de(s);if(Nn(l))return s}function Jm(s,l){if(s==="change")return l}var Df=!1;if(Us){var nc;if(Us){var xi="oninput"in document;if(!xi){var my=document.createElement("div");my.setAttribute("oninput","return;"),xi=typeof my.oninput=="function"}nc=xi}else nc=!1;Df=nc&&(!document.documentMode||9<document.documentMode)}function gy(){Jc&&(Jc.detachEvent("onpropertychange",Qm),Qc=Jc=null)}function Qm(s){if(s.propertyName==="value"&&$c(Qc)){var l=[];xh(l,Qc,s,sh(s)),Bm(Zm,l)}}function Of(s,l,p){s==="focusin"?(gy(),Jc=l,Qc=p,Jc.attachEvent("onpropertychange",Qm)):s==="focusout"&&gy()}function il(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $c(Qc)}function xy(s,l){if(s==="click")return $c(l)}function yy(s,l){if(s==="input"||s==="change")return $c(l)}function ic(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var yi=typeof Object.is=="function"?Object.is:ic;function eu(s,l){if(yi(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),x=Object.keys(l);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var M=p[x];if(!Ye.call(l,M)||!yi(s[M],l[M]))return!1}return!0}function $m(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function e0(s,l){var p=$m(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=l&&x>=l)return{node:p,offset:l-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=$m(p)}}function yh(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?yh(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function vh(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Gi(s.document);l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=Gi(s.document)}return l}function tu(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var vy=Us&&"documentMode"in document&&11>=document.documentMode,nu=null,bh=null,iu=null,Sr=!1;function _h(s,l,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Sr||nu==null||nu!==Gi(x)||(x=nu,"selectionStart"in x&&tu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),iu&&eu(iu,x)||(iu=x,x=rv(bh,"onSelect"),0<x.length&&(l=new wf("onSelect","select",null,l,p),s.push({event:l,listeners:x}),l.target=nu)))}function al(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var au={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},Lf={},ka={};Us&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function rl(s){if(Lf[s])return Lf[s];if(!au[s])return s;var l=au[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in ka)return Lf[s]=l[p];return s}var $a=rl("animationend"),t0=rl("animationiteration"),Ps=rl("animationstart"),ru=rl("transitionrun"),sl=rl("transitionstart"),n0=rl("transitioncancel"),Sh=rl("transitionend"),xo=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Da(s,l){xo.set(s,l),lt(l,[s])}var ol=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ca=[],ac=0,Eh=0;function ll(){for(var s=ac,l=Eh=ac=0;l<s;){var p=ca[l];ca[l++]=null;var x=ca[l];ca[l++]=null;var M=ca[l];ca[l++]=null;var C=ca[l];if(ca[l++]=null,x!==null&&M!==null){var k=x.pending;k===null?M.next=M:(M.next=k.next,k.next=M),x.pending=M}C!==0&&wh(p,M,C)}}function Uf(s,l,p,x){ca[ac++]=s,ca[ac++]=l,ca[ac++]=p,ca[ac++]=x,Eh|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function su(s,l,p,x){return Uf(s,l,p,x),ou(s)}function cl(s,l){return Uf(s,null,null,l),ou(s)}function wh(s,l,p){s.lanes|=p;var x=s.alternate;x!==null&&(x.lanes|=p);for(var M=!1,C=s.return;C!==null;)C.childLanes|=p,x=C.alternate,x!==null&&(x.childLanes|=p),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(M=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,M&&l!==null&&(M=31-At(p),s=C.hiddenUpdates,x=s[M],x===null?s[M]=[l]:x.push(l),l.lane=p|536870912),C):null}function ou(s){if(50<_c)throw _c=0,Sc=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ul={};function by(s,l,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(s,l,p,x){return new by(s,l,p,x)}function ja(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zs(s,l){var p=s.alternate;return p===null?(p=Ha(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function Oa(s,l){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,l=p.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Pf(s,l,p,x,M,C){var k=0;if(x=s,typeof s=="function")ja(s)&&(k=1);else if(typeof s=="string")k=xI(s,p,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Ha(31,p,l,M),s.elementType=I,s.lanes=C,s;case T:return yo(p.children,M,C,l);case E:k=8,M|=24;break;case S:return s=Ha(12,p,l,M|2),s.elementType=S,s.lanes=C,s;case F:return s=Ha(13,p,l,M),s.elementType=F,s.lanes=C,s;case P:return s=Ha(19,p,l,M),s.elementType=P,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:k=10;break e;case R:k=9;break e;case U:k=11;break e;case L:k=14;break e;case B:k=16,x=null;break e}k=29,p=Error(i(130,s===null?"null":typeof s,"")),x=null}return l=Ha(k,p,l,M),l.elementType=s,l.type=x,l.lanes=C,l}function yo(s,l,p,x){return s=Ha(7,s,x,l),s.lanes=p,s}function Th(s,l,p){return s=Ha(6,s,null,l),s.lanes=p,s}function _y(s){var l=Ha(18,null,null,0);return l.stateNode=s,l}function ps(s,l,p){return l=Ha(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var i0=new WeakMap;function er(s,l){if(typeof s=="object"&&s!==null){var p=i0.get(s);return p!==void 0?p:(l={value:s,source:l,stack:it(l)},i0.set(s,l),l)}return{value:s,source:l,stack:it(l)}}var ms=[],rc=0,zf=null,lu=0,Mr=[],tr=0,Bs=null,Is=1,Fs="";function vo(s,l){ms[rc++]=lu,ms[rc++]=zf,zf=s,lu=l}function a0(s,l,p){Mr[tr++]=Is,Mr[tr++]=Fs,Mr[tr++]=Bs,Bs=s;var x=Is;s=Fs;var M=32-At(x)-1;x&=~(1<<M),p+=1;var C=32-At(l)+M;if(30<C){var k=M-M%5;C=(x&(1<<k)-1).toString(32),x>>=k,M-=k,Is=1<<32-At(l)+M|p<<M|x,Fs=C+s}else Is=1<<C|p<<M|x,Fs=s}function Ah(s){s.return!==null&&(vo(s,1),a0(s,1,0))}function fl(s){for(;s===zf;)zf=ms[--rc],ms[rc]=null,lu=ms[--rc],ms[rc]=null;for(;s===Bs;)Bs=Mr[--tr],Mr[tr]=null,Fs=Mr[--tr],Mr[tr]=null,Is=Mr[--tr],Mr[tr]=null}function Bf(s,l){Mr[tr++]=Is,Mr[tr++]=Fs,Mr[tr++]=Bs,Is=l.id,Fs=l.overflow,Bs=s}var ua=null,di=null,Un=!1,bo=null,fa=!1,Ch=Error(i(519));function Dn(s){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw If(er(l,s)),Ch}function Rh(s){var l=s.stateNode,p=s.type,x=s.memoizedProps;switch(l[at]=s,l[ht]=x,p){case"dialog":Pn("cancel",l),Pn("close",l);break;case"iframe":case"object":case"embed":Pn("load",l);break;case"video":case"audio":for(p=0;p<Z0.length;p++)Pn(Z0[p],l);break;case"source":Pn("error",l);break;case"img":case"image":case"link":Pn("error",l),Pn("load",l);break;case"details":Pn("toggle",l);break;case"input":Pn("invalid",l),ci(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Pn("invalid",l);break;case"textarea":Pn("invalid",l),Ci(l,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||x.suppressHydrationWarning===!0||HA(l.textContent,p)?(x.popover!=null&&(Pn("beforetoggle",l),Pn("toggle",l)),x.onScroll!=null&&Pn("scroll",l),x.onScrollEnd!=null&&Pn("scrollend",l),x.onClick!=null&&(l.onclick=Ls),l=!0):l=!1,l||Dn(s,!0)}function Sy(s){for(ua=s.return;ua;)switch(ua.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:ua=ua.return}}function sc(s){if(s!==ua)return!1;if(!Un)return Sy(s),Un=!0,!1;var l=s.tag,p;if((p=l!==3&&l!==27)&&((p=l===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||j1(s.type,s.memoizedProps)),p=!p),p&&di&&Dn(s),Sy(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));di=JA(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));di=JA(s)}else l===27?(l=di,Au(s.type)?(s=Y1,Y1=null,di=s):di=l):di=ua?Zs(s.stateNode.nextSibling):null;return!0}function oc(){di=ua=null,Un=!1}function r0(){var s=bo;return s!==null&&(Ia===null?Ia=s:Ia.push.apply(Ia,s),bo=null),s}function If(s){bo===null?bo=[s]:bo.push(s)}var s0=K(null),_o=null,La=null;function So(s,l,p){_e(s0,l._currentValue),l._currentValue=p}function Wr(s){s._currentValue=s0.current,le(s0)}function Mo(s,l,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===p)break;s=s.return}}function Nh(s,l,p,x){var M=s.child;for(M!==null&&(M.return=s);M!==null;){var C=M.dependencies;if(C!==null){var k=M.child;C=C.firstContext;e:for(;C!==null;){var Y=C;C=M;for(var se=0;se<l.length;se++)if(Y.context===l[se]){C.lanes|=p,Y=C.alternate,Y!==null&&(Y.lanes|=p),Mo(C.return,p,s),x||(k=null);break e}C=Y.next}}else if(M.tag===18){if(k=M.return,k===null)throw Error(i(341));k.lanes|=p,C=k.alternate,C!==null&&(C.lanes|=p),Mo(k,p,s),k=null}else k=M.child;if(k!==null)k.return=M;else for(k=M;k!==null;){if(k===s){k=null;break}if(M=k.sibling,M!==null){M.return=k.return,k=M;break}k=k.return}M=k}}function dl(s,l,p,x){s=null;for(var M=l,C=!1;M!==null;){if(!C){if((M.flags&524288)!==0)C=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var k=M.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var Y=M.type;yi(M.pendingProps.value,k.value)||(s!==null?s.push(Y):s=[Y])}}else if(M===pe.current){if(k=M.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(s!==null?s.push(tg):s=[tg])}M=M.return}s!==null&&Nh(l,s,p,x),l.flags|=262144}function cu(s){for(s=s.firstContext;s!==null;){if(!yi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function lc(s){_o=s,La=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function da(s){return o0(_o,s)}function Ff(s,l){return _o===null&&lc(s),o0(s,l)}function o0(s,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},La===null){if(s===null)throw Error(i(308));La=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else La=La.next=l;return p}var My=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(p,x){s.push(x)}};this.abort=function(){l.aborted=!0,s.forEach(function(p){return p()})}},Ey=n.unstable_scheduleCallback,l0=n.unstable_NormalPriority,qt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function c0(){return{controller:new My,data:new Map,refCount:0}}function ba(s){s.refCount--,s.refCount===0&&Ey(l0,function(){s.controller.abort()})}var cc=null,u0=0,Eo=0,gs=null;function uu(s,l){if(cc===null){var p=cc=[];u0=0,Eo=U1(),gs={status:"pending",value:void 0,then:function(x){p.push(x)}}}return u0++,l.then(f0,f0),l}function f0(){if(--u0===0&&cc!==null){gs!==null&&(gs.status="fulfilled");var s=cc;cc=null,Eo=0,gs=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function d0(s,l){var p=[],x={status:"pending",value:null,reason:null,then:function(M){p.push(M)}};return s.then(function(){x.status="fulfilled",x.value=l;for(var M=0;M<p.length;M++)(0,p[M])(l)},function(M){for(x.status="rejected",x.reason=M,M=0;M<p.length;M++)(0,p[M])(void 0)}),x}var wy=H.S;H.S=function(s,l){Eu=j(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&uu(s,l),wy!==null&&wy(s,l)};var hl=K(null);function Vs(){var s=hl.current;return s!==null?s:Qn.pooledCache}function fu(s,l){l===null?_e(hl,hl.current):_e(hl,l.pool)}function Dh(){var s=Vs();return s===null?null:{parent:qt._currentValue,pool:s}}var pl=Error(i(460)),Vf=Error(i(474)),xs=Error(i(542)),kf={then:function(){}};function Ty(s){return s=s.status,s==="fulfilled"||s==="rejected"}function h0(s,l,p){switch(p=s[p],p===void 0?s.push(l):p!==l&&(l.then(Ls,Ls),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,p0(s),s;default:if(typeof l.status=="string")l.then(Ls,Ls);else{if(s=Qn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(x){if(l.status==="pending"){var M=l;M.status="fulfilled",M.value=x}},function(x){if(l.status==="pending"){var M=l;M.status="rejected",M.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,p0(s),s}throw Qt=l,pl}}function uc(s){try{var l=s._init;return l(s._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Qt=p,pl):p}}var Qt=null;function Oh(){if(Qt===null)throw Error(i(459));var s=Qt;return Qt=null,s}function p0(s){if(s===pl||s===xs)throw Error(i(483))}var ml=null,gl=0;function Lh(s){var l=gl;return gl+=1,ml===null&&(ml=[]),h0(ml,s,l)}function Hf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function jf(s,l){throw l.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function du(s){function l(ge,fe){if(s){var we=ge.deletions;we===null?(ge.deletions=[fe],ge.flags|=16):we.push(fe)}}function p(ge,fe){if(!s)return null;for(;fe!==null;)l(ge,fe),fe=fe.sibling;return null}function x(ge){for(var fe=new Map;ge!==null;)ge.key!==null?fe.set(ge.key,ge):fe.set(ge.index,ge),ge=ge.sibling;return fe}function M(ge,fe){return ge=zs(ge,fe),ge.index=0,ge.sibling=null,ge}function C(ge,fe,we){return ge.index=we,s?(we=ge.alternate,we!==null?(we=we.index,we<fe?(ge.flags|=67108866,fe):we):(ge.flags|=67108866,fe)):(ge.flags|=1048576,fe)}function k(ge){return s&&ge.alternate===null&&(ge.flags|=67108866),ge}function Y(ge,fe,we,Fe){return fe===null||fe.tag!==6?(fe=Th(we,ge.mode,Fe),fe.return=ge,fe):(fe=M(fe,we),fe.return=ge,fe)}function se(ge,fe,we,Fe){var Jt=we.type;return Jt===T?Pe(ge,fe,we.props.children,Fe,we.key):fe!==null&&(fe.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===B&&uc(Jt)===fe.type)?(fe=M(fe,we.props),Hf(fe,we),fe.return=ge,fe):(fe=Pf(we.type,we.key,we.props,null,ge.mode,Fe),Hf(fe,we),fe.return=ge,fe)}function Te(ge,fe,we,Fe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=ps(we,ge.mode,Fe),fe.return=ge,fe):(fe=M(fe,we.children||[]),fe.return=ge,fe)}function Pe(ge,fe,we,Fe,Jt){return fe===null||fe.tag!==7?(fe=yo(we,ge.mode,Fe,Jt),fe.return=ge,fe):(fe=M(fe,we),fe.return=ge,fe)}function He(ge,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Th(""+fe,ge.mode,we),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return we=Pf(fe.type,fe.key,fe.props,null,ge.mode,we),Hf(we,fe),we.return=ge,we;case _:return fe=ps(fe,ge.mode,we),fe.return=ge,fe;case B:return fe=uc(fe),He(ge,fe,we)}if(oe(fe)||te(fe))return fe=yo(fe,ge.mode,we,null),fe.return=ge,fe;if(typeof fe.then=="function")return He(ge,Lh(fe),we);if(fe.$$typeof===D)return He(ge,Ff(ge,fe),we);jf(ge,fe)}return null}function Ce(ge,fe,we,Fe){var Jt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Jt!==null?null:Y(ge,fe,""+we,Fe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return we.key===Jt?se(ge,fe,we,Fe):null;case _:return we.key===Jt?Te(ge,fe,we,Fe):null;case B:return we=uc(we),Ce(ge,fe,we,Fe)}if(oe(we)||te(we))return Jt!==null?null:Pe(ge,fe,we,Fe,null);if(typeof we.then=="function")return Ce(ge,fe,Lh(we),Fe);if(we.$$typeof===D)return Ce(ge,fe,Ff(ge,we),Fe);jf(ge,we)}return null}function Le(ge,fe,we,Fe,Jt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return ge=ge.get(we)||null,Y(fe,ge,""+Fe,Jt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case b:return ge=ge.get(Fe.key===null?we:Fe.key)||null,se(fe,ge,Fe,Jt);case _:return ge=ge.get(Fe.key===null?we:Fe.key)||null,Te(fe,ge,Fe,Jt);case B:return Fe=uc(Fe),Le(ge,fe,we,Fe,Jt)}if(oe(Fe)||te(Fe))return ge=ge.get(we)||null,Pe(fe,ge,Fe,Jt,null);if(typeof Fe.then=="function")return Le(ge,fe,we,Lh(Fe),Jt);if(Fe.$$typeof===D)return Le(ge,fe,we,Ff(fe,Fe),Jt);jf(fe,Fe)}return null}function zt(ge,fe,we,Fe){for(var Jt=null,ei=null,jt=fe,bn=fe=0,In=null;jt!==null&&bn<we.length;bn++){jt.index>bn?(In=jt,jt=null):In=jt.sibling;var ti=Ce(ge,jt,we[bn],Fe);if(ti===null){jt===null&&(jt=In);break}s&&jt&&ti.alternate===null&&l(ge,jt),fe=C(ti,fe,bn),ei===null?Jt=ti:ei.sibling=ti,ei=ti,jt=In}if(bn===we.length)return p(ge,jt),Un&&vo(ge,bn),Jt;if(jt===null){for(;bn<we.length;bn++)jt=He(ge,we[bn],Fe),jt!==null&&(fe=C(jt,fe,bn),ei===null?Jt=jt:ei.sibling=jt,ei=jt);return Un&&vo(ge,bn),Jt}for(jt=x(jt);bn<we.length;bn++)In=Le(jt,ge,bn,we[bn],Fe),In!==null&&(s&&In.alternate!==null&&jt.delete(In.key===null?bn:In.key),fe=C(In,fe,bn),ei===null?Jt=In:ei.sibling=In,ei=In);return s&&jt.forEach(function(Ou){return l(ge,Ou)}),Un&&vo(ge,bn),Jt}function en(ge,fe,we,Fe){if(we==null)throw Error(i(151));for(var Jt=null,ei=null,jt=fe,bn=fe=0,In=null,ti=we.next();jt!==null&&!ti.done;bn++,ti=we.next()){jt.index>bn?(In=jt,jt=null):In=jt.sibling;var Ou=Ce(ge,jt,ti.value,Fe);if(Ou===null){jt===null&&(jt=In);break}s&&jt&&Ou.alternate===null&&l(ge,jt),fe=C(Ou,fe,bn),ei===null?Jt=Ou:ei.sibling=Ou,ei=Ou,jt=In}if(ti.done)return p(ge,jt),Un&&vo(ge,bn),Jt;if(jt===null){for(;!ti.done;bn++,ti=we.next())ti=He(ge,ti.value,Fe),ti!==null&&(fe=C(ti,fe,bn),ei===null?Jt=ti:ei.sibling=ti,ei=ti);return Un&&vo(ge,bn),Jt}for(jt=x(jt);!ti.done;bn++,ti=we.next())ti=Le(jt,ge,bn,ti.value,Fe),ti!==null&&(s&&ti.alternate!==null&&jt.delete(ti.key===null?bn:ti.key),fe=C(ti,fe,bn),ei===null?Jt=ti:ei.sibling=ti,ei=ti);return s&&jt.forEach(function(CI){return l(ge,CI)}),Un&&vo(ge,bn),Jt}function mi(ge,fe,we,Fe){if(typeof we=="object"&&we!==null&&we.type===T&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case b:e:{for(var Jt=we.key;fe!==null;){if(fe.key===Jt){if(Jt=we.type,Jt===T){if(fe.tag===7){p(ge,fe.sibling),Fe=M(fe,we.props.children),Fe.return=ge,ge=Fe;break e}}else if(fe.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===B&&uc(Jt)===fe.type){p(ge,fe.sibling),Fe=M(fe,we.props),Hf(Fe,we),Fe.return=ge,ge=Fe;break e}p(ge,fe);break}else l(ge,fe);fe=fe.sibling}we.type===T?(Fe=yo(we.props.children,ge.mode,Fe,we.key),Fe.return=ge,ge=Fe):(Fe=Pf(we.type,we.key,we.props,null,ge.mode,Fe),Hf(Fe,we),Fe.return=ge,ge=Fe)}return k(ge);case _:e:{for(Jt=we.key;fe!==null;){if(fe.key===Jt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){p(ge,fe.sibling),Fe=M(fe,we.children||[]),Fe.return=ge,ge=Fe;break e}else{p(ge,fe);break}else l(ge,fe);fe=fe.sibling}Fe=ps(we,ge.mode,Fe),Fe.return=ge,ge=Fe}return k(ge);case B:return we=uc(we),mi(ge,fe,we,Fe)}if(oe(we))return zt(ge,fe,we,Fe);if(te(we)){if(Jt=te(we),typeof Jt!="function")throw Error(i(150));return we=Jt.call(we),en(ge,fe,we,Fe)}if(typeof we.then=="function")return mi(ge,fe,Lh(we),Fe);if(we.$$typeof===D)return mi(ge,fe,Ff(ge,we),Fe);jf(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,fe!==null&&fe.tag===6?(p(ge,fe.sibling),Fe=M(fe,we),Fe.return=ge,ge=Fe):(p(ge,fe),Fe=Th(we,ge.mode,Fe),Fe.return=ge,ge=Fe),k(ge)):p(ge,fe)}return function(ge,fe,we,Fe){try{gl=0;var Jt=mi(ge,fe,we,Fe);return ml=null,Jt}catch(jt){if(jt===pl||jt===xs)throw jt;var ei=Ha(29,jt,null,ge.mode);return ei.lanes=Fe,ei.return=ge,ei}finally{}}}var fc=du(!0),Ay=du(!1),xl=!1;function m0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wo(s,l,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(zn&2)!==0){var M=x.pending;return M===null?l.next=l:(l.next=M.next,M.next=l),x.pending=l,l=ou(s),wh(s,null,p),l}return Uf(s,x,l,p),ou(s)}function yl(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194048)!==0)){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,Re(s,p)}}function Uh(s,l){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var M=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var k={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?M=C=k:C=C.next=k,p=p.next}while(p!==null);C===null?M=C=l:C=C.next=l}else M=C=l;p={baseState:x.baseState,firstBaseUpdate:M,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}var x0=!1;function Gf(){if(x0){var s=gs;if(s!==null)throw s}}function dc(s,l,p,x){x0=!1;var M=s.updateQueue;xl=!1;var C=M.firstBaseUpdate,k=M.lastBaseUpdate,Y=M.shared.pending;if(Y!==null){M.shared.pending=null;var se=Y,Te=se.next;se.next=null,k===null?C=Te:k.next=Te,k=se;var Pe=s.alternate;Pe!==null&&(Pe=Pe.updateQueue,Y=Pe.lastBaseUpdate,Y!==k&&(Y===null?Pe.firstBaseUpdate=Te:Y.next=Te,Pe.lastBaseUpdate=se))}if(C!==null){var He=M.baseState;k=0,Pe=Te=se=null,Y=C;do{var Ce=Y.lane&-536870913,Le=Ce!==Y.lane;if(Le?(On&Ce)===Ce:(x&Ce)===Ce){Ce!==0&&Ce===Eo&&(x0=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var zt=s,en=Y;Ce=l;var mi=p;switch(en.tag){case 1:if(zt=en.payload,typeof zt=="function"){He=zt.call(mi,He,Ce);break e}He=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=en.payload,Ce=typeof zt=="function"?zt.call(mi,He,Ce):zt,Ce==null)break e;He=g({},He,Ce);break e;case 2:xl=!0}}Ce=Y.callback,Ce!==null&&(s.flags|=64,Le&&(s.flags|=8192),Le=M.callbacks,Le===null?M.callbacks=[Ce]:Le.push(Ce))}else Le={lane:Ce,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Pe===null?(Te=Pe=Le,se=He):Pe=Pe.next=Le,k|=Ce;if(Y=Y.next,Y===null){if(Y=M.shared.pending,Y===null)break;Le=Y,Y=Le.next,Le.next=null,M.lastBaseUpdate=Le,M.shared.pending=null}}while(!0);Pe===null&&(se=He),M.baseState=se,M.firstBaseUpdate=Te,M.lastBaseUpdate=Pe,C===null&&(M.shared.lanes=0),Ur|=k,s.lanes=k,s.memoizedState=He}}function Hs(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function _a(s,l){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)Hs(p[s],l)}var Er=K(null),Ga=K(0);function y0(s,l){s=Vi,_e(Ga,s),_e(Er,l),Vi=s|l.baseLanes}function v0(){_e(Ga,Vi),_e(Er,Er.current)}function Ua(){Vi=Ga.current,le(Er),le(Ga)}var ia=K(null),Yr=null;function vl(s){var l=s.alternate;_e(Ri,Ri.current&1),_e(ia,s),Yr===null&&(l===null||Er.current!==null||l.memoizedState!==null)&&(Yr=s)}function b0(s){_e(Ri,Ri.current),_e(ia,s),Yr===null&&(Yr=s)}function Cy(s){s.tag===22?(_e(Ri,Ri.current),_e(ia,s),Yr===null&&(Yr=s)):To()}function To(){_e(Ri,Ri.current),_e(ia,ia.current)}function wr(s){le(ia),Yr===s&&(Yr=null),le(Ri)}var Ri=K(0);function Ph(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||q1(p)||W1(p)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var nr=0,tn=null,si=null,Xi=null,zh=!1,js=!1,hc=!1,Bh=0,Xf=0,Gs=null,E1=0;function Ni(){throw Error(i(321))}function _0(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!yi(s[p],l[p]))return!1;return!0}function S0(s,l,p,x,M,C){return nr=C,tn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=s===null||s.memoizedState===null?Yy:mu,hc=!1,C=p(x,M),hc=!1,js&&(C=Ny(l,p,x,M)),Ry(s),C}function Ry(s){H.H=Zf;var l=si!==null&&si.next!==null;if(nr=0,Xi=si=tn=null,zh=!1,Xf=0,Gs=null,l)throw Error(i(300));s===null||vi||(s=s.dependencies,s!==null&&cu(s)&&(vi=!0))}function Ny(s,l,p,x){tn=s;var M=0;do{if(js&&(Gs=null),Xf=0,js=!1,25<=M)throw Error(i(301));if(M+=1,Xi=si=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}H.H=Jf,C=l(p,x)}while(js);return C}function w1(){var s=H.H,l=s.useState()[0];return l=typeof l.then=="function"?Wf(l):l,s=s.useState()[0],(si!==null?si.memoizedState:null)!==s&&(tn.flags|=1024),l}function M0(){var s=Bh!==0;return Bh=0,s}function E0(s,l,p){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~p}function w0(s){if(zh){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}zh=!1}nr=0,Xi=si=tn=null,js=!1,Xf=Bh=0,Gs=null}function Xa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?tn.memoizedState=Xi=s:Xi=Xi.next=s,Xi}function zi(){if(si===null){var s=tn.alternate;s=s!==null?s.memoizedState:null}else s=si.next;var l=Xi===null?tn.memoizedState:Xi.next;if(l!==null)Xi=l,si=s;else{if(s===null)throw tn.alternate===null?Error(i(467)):Error(i(310));si=s,s={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},Xi===null?tn.memoizedState=Xi=s:Xi=Xi.next=s}return Xi}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wf(s){var l=Xf;return Xf+=1,Gs===null&&(Gs=[]),s=h0(Gs,s,l),l=tn,(Xi===null?l.memoizedState:Xi.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?Yy:mu),s}function Ih(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wf(s);if(s.$$typeof===D)return da(s)}throw Error(i(438,String(s)))}function T0(s){var l=null,p=tn.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var x=tn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(M){return M.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=qf(),tn.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(s),x=0;x<s;x++)p[x]=V;return l.index++,p}function Ao(s,l){return typeof l=="function"?l(s):l}function Fh(s){var l=zi();return A0(l,si,s)}function A0(s,l,p){var x=s.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=p;var M=s.baseQueue,C=x.pending;if(C!==null){if(M!==null){var k=M.next;M.next=C.next,C.next=k}l.baseQueue=M=C,x.pending=null}if(C=s.baseState,M===null)s.memoizedState=C;else{l=M.next;var Y=k=null,se=null,Te=l,Pe=!1;do{var He=Te.lane&-536870913;if(He!==Te.lane?(On&He)===He:(nr&He)===He){var Ce=Te.revertLane;if(Ce===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),He===Eo&&(Pe=!0);else if((nr&Ce)===Ce){Te=Te.next,Ce===Eo&&(Pe=!0);continue}else He={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},se===null?(Y=se=He,k=C):se=se.next=He,tn.lanes|=Ce,Ur|=Ce;He=Te.action,hc&&p(C,He),C=Te.hasEagerState?Te.eagerState:p(C,He)}else Ce={lane:He,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},se===null?(Y=se=Ce,k=C):se=se.next=Ce,tn.lanes|=He,Ur|=He;Te=Te.next}while(Te!==null&&Te!==l);if(se===null?k=C:se.next=Y,!yi(C,s.memoizedState)&&(vi=!0,Pe&&(p=gs,p!==null)))throw p;s.memoizedState=C,s.baseState=k,s.baseQueue=se,x.lastRenderedState=C}return M===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Vh(s){var l=zi(),p=l.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=s;var x=p.dispatch,M=p.pending,C=l.memoizedState;if(M!==null){p.pending=null;var k=M=M.next;do C=s(C,k.action),k=k.next;while(k!==M);yi(C,l.memoizedState)||(vi=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),p.lastRenderedState=C}return[C,x]}function C0(s,l,p){var x=tn,M=zi(),C=Un;if(C){if(p===void 0)throw Error(i(407));p=p()}else p=l();var k=!yi((si||M).memoizedState,p);if(k&&(M.memoizedState=p,vi=!0),M=M.queue,L0(N0.bind(null,x,M,s),[s]),M.getSnapshot!==l||k||Xi!==null&&Xi.memoizedState.tag&1){if(x.flags|=2048,hu(9,{destroy:void 0},R0.bind(null,x,M,p,l),null),Qn===null)throw Error(i(349));C||(nr&127)!==0||Dy(x,l,p)}return p}function Dy(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=tn.updateQueue,l===null?(l=qf(),tn.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function R0(s,l,p,x){l.value=p,l.getSnapshot=x,D0(l)&&kh(s)}function N0(s,l,p){return p(function(){D0(l)&&kh(s)})}function D0(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!yi(s,p)}catch{return!0}}function kh(s){var l=cl(s,2);l!==null&&h(l,s,2)}function Yf(s){var l=Xa();if(typeof s=="function"){var p=s;if(s=p(),hc){Ut(!0);try{p()}finally{Ut(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:s},l}function Oy(s,l,p,x){return s.baseState=p,A0(s,si,typeof x=="function"?x:Ao)}function T1(s,l,p,x,M){if(Co(s))throw Error(i(485));if(s=l.action,s!==null){var C={payload:M,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){C.listeners.push(k)}};H.T!==null?p(!0):C.isTransition=!1,x(C),p=l.pending,p===null?(C.next=l.pending=C,Ly(l,C)):(C.next=p.next,l.pending=p.next=C)}}function Ly(s,l){var p=l.action,x=l.payload,M=s.state;if(l.isTransition){var C=H.T,k={};H.T=k;try{var Y=p(M,x),se=H.S;se!==null&&se(k,Y),Uy(s,l,Y)}catch(Te){Hh(s,l,Te)}finally{C!==null&&k.types!==null&&(C.types=k.types),H.T=C}}else try{C=p(M,x),Uy(s,l,C)}catch(Te){Hh(s,l,Te)}}function Uy(s,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){O0(s,l,x)},function(x){return Hh(s,l,x)}):O0(s,l,p)}function O0(s,l,p){l.status="fulfilled",l.value=p,Py(l),s.state=p,l=s.pending,l!==null&&(p=l.next,p===l?s.pending=null:(p=p.next,l.next=p,Ly(s,p)))}function Hh(s,l,p){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=p,Py(l),l=l.next;while(l!==x)}s.action=null}function Py(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function zy(s,l){return l}function By(s,l){if(Un){var p=Qn.formState;if(p!==null){e:{var x=tn;if(Un){if(di){t:{for(var M=di,C=fa;M.nodeType!==8;){if(!C){M=null;break t}if(M=Zs(M.nextSibling),M===null){M=null;break t}}C=M.data,M=C==="F!"||C==="F"?M:null}if(M){di=Zs(M.nextSibling),x=M.data==="F!";break e}}Dn(x)}x=!1}x&&(l=p[0])}}return p=Xa(),p.memoizedState=p.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:l},p.queue=x,p=Wy.bind(null,tn,x),x.dispatch=p,x=Yf(!1),C=Kf.bind(null,tn,!1,x.queue),x=Xa(),M={state:l,dispatch:null,action:s,pending:null},x.queue=M,p=T1.bind(null,tn,M,C,p),M.dispatch=p,x.memoizedState=s,[l,p,!1]}function Iy(s){var l=zi();return Fy(l,si,s)}function Fy(s,l,p){if(l=A0(s,l,zy)[0],s=Fh(Ao)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=Wf(l)}catch(k){throw k===pl?xs:k}else x=l;l=zi();var M=l.queue,C=M.dispatch;return p!==l.memoizedState&&(tn.flags|=2048,hu(9,{destroy:void 0},A1.bind(null,M,p),null)),[x,C,s]}function A1(s,l){s.action=l}function Vy(s){var l=zi(),p=si;if(p!==null)return Fy(l,p,s);zi(),l=l.memoizedState,p=zi();var x=p.queue.dispatch;return p.memoizedState=s,[l,x,!1]}function hu(s,l,p,x){return s={tag:s,create:p,deps:x,inst:l,next:null},l=tn.updateQueue,l===null&&(l=qf(),tn.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,l.lastEffect=s),s}function ky(){return zi().memoizedState}function jh(s,l,p,x){var M=Xa();tn.flags|=s,M.memoizedState=hu(1|l,{destroy:void 0},p,x===void 0?null:x)}function Gh(s,l,p,x){var M=zi();x=x===void 0?null:x;var C=M.memoizedState.inst;si!==null&&x!==null&&_0(x,si.memoizedState.deps)?M.memoizedState=hu(l,C,p,x):(tn.flags|=s,M.memoizedState=hu(1|l,C,p,x))}function Hy(s,l){jh(8390656,8,s,l)}function L0(s,l){Gh(2048,8,s,l)}function jy(s){tn.flags|=4;var l=tn.updateQueue;if(l===null)l=qf(),tn.updateQueue=l,l.events=[s];else{var p=l.events;p===null?l.events=[s]:p.push(s)}}function Gy(s){var l=zi().memoizedState;return jy({ref:l,nextImpl:s}),function(){if((zn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Xy(s,l){return Gh(4,2,s,l)}function Tr(s,l){return Gh(4,4,s,l)}function U0(s,l){if(typeof l=="function"){s=s();var p=l(s);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Xh(s,l,p){p=p!=null?p.concat([s]):null,Gh(4,4,U0.bind(null,l,s),p)}function qh(){}function P0(s,l){var p=zi();l=l===void 0?null:l;var x=p.memoizedState;return l!==null&&_0(l,x[1])?x[0]:(p.memoizedState=[s,l],s)}function z0(s,l){var p=zi();l=l===void 0?null:l;var x=p.memoizedState;if(l!==null&&_0(l,x[1]))return x[0];if(x=s(),hc){Ut(!0);try{s()}finally{Ut(!1)}}return p.memoizedState=[x,l],x}function B0(s,l,p){return p===void 0||(nr&1073741824)!==0&&(On&261930)===0?s.memoizedState=l:(s.memoizedState=p,s=u(),tn.lanes|=s,Ur|=s,p)}function I0(s,l,p,x){return yi(p,l)?p:Er.current!==null?(s=B0(s,p,x),yi(s,l)||(vi=!0),s):(nr&42)===0||(nr&1073741824)!==0&&(On&261930)===0?(vi=!0,s.memoizedState=p):(s=u(),tn.lanes|=s,Ur|=s,l)}function F0(s,l,p,x,M){var C=q.p;q.p=C!==0&&8>C?C:8;var k=H.T,Y={};H.T=Y,Kf(s,!1,l,p);try{var se=M(),Te=H.S;if(Te!==null&&Te(Y,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Pe=d0(se,x);pu(s,l,Pe,Wa(s))}else pu(s,l,x,Wa(s))}catch(He){pu(s,l,{then:function(){},status:"rejected",reason:He},Wa())}finally{q.p=C,k!==null&&Y.types!==null&&(k.types=Y.types),H.T=k}}function C1(){}function V0(s,l,p,x){if(s.tag!==5)throw Error(i(476));var M=qy(s).queue;F0(s,M,l,G,p===null?C1:function(){return k0(s),p(x)})}function qy(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:G},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:p},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function k0(s){var l=qy(s);l.next===null&&(l=s.alternate.memoizedState),pu(s,l.next.queue,{},Wa())}function H0(){return da(tg)}function Sa(){return zi().memoizedState}function j0(){return zi().memoizedState}function R1(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var p=Wa();s=ks(p);var x=wo(l,s,p);x!==null&&(h(x,l,p),yl(x,l,p)),l={cache:c0()},s.payload=l;return}l=l.return}}function N1(s,l,p){var x=Wa();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Co(s)?pc(l,p):(p=su(s,l,p,x),p!==null&&(h(p,s,x),ir(p,l,x)))}function Wy(s,l,p){var x=Wa();pu(s,l,p,x)}function pu(s,l,p,x){var M={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Co(s))pc(l,M);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var k=l.lastRenderedState,Y=C(k,p);if(M.hasEagerState=!0,M.eagerState=Y,yi(Y,k))return Uf(s,l,M,0),Qn===null&&ll(),!1}catch{}finally{}if(p=su(s,l,M,x),p!==null)return h(p,s,x),ir(p,l,x),!0}return!1}function Kf(s,l,p,x){if(x={lane:2,revertLane:U1(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Co(s)){if(l)throw Error(i(479))}else l=su(s,p,x,2),l!==null&&h(l,s,2)}function Co(s){var l=s.alternate;return s===tn||l!==null&&l===tn}function pc(s,l){js=zh=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function ir(s,l,p){if((p&4194048)!==0){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,Re(s,p)}}var Zf={readContext:da,use:Ih,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useLayoutEffect:Ni,useInsertionEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useSyncExternalStore:Ni,useId:Ni,useHostTransitionStatus:Ni,useFormState:Ni,useActionState:Ni,useOptimistic:Ni,useMemoCache:Ni,useCacheRefresh:Ni};Zf.useEffectEvent=Ni;var Yy={readContext:da,use:Ih,useCallback:function(s,l){return Xa().memoizedState=[s,l===void 0?null:l],s},useContext:da,useEffect:Hy,useImperativeHandle:function(s,l,p){p=p!=null?p.concat([s]):null,jh(4194308,4,U0.bind(null,l,s),p)},useLayoutEffect:function(s,l){return jh(4194308,4,s,l)},useInsertionEffect:function(s,l){jh(4,2,s,l)},useMemo:function(s,l){var p=Xa();l=l===void 0?null:l;var x=s();if(hc){Ut(!0);try{s()}finally{Ut(!1)}}return p.memoizedState=[x,l],x},useReducer:function(s,l,p){var x=Xa();if(p!==void 0){var M=p(l);if(hc){Ut(!0);try{p(l)}finally{Ut(!1)}}}else M=l;return x.memoizedState=x.baseState=M,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:M},x.queue=s,s=s.dispatch=N1.bind(null,tn,s),[x.memoizedState,s]},useRef:function(s){var l=Xa();return s={current:s},l.memoizedState=s},useState:function(s){s=Yf(s);var l=s.queue,p=Wy.bind(null,tn,l);return l.dispatch=p,[s.memoizedState,p]},useDebugValue:qh,useDeferredValue:function(s,l){var p=Xa();return B0(p,s,l)},useTransition:function(){var s=Yf(!1);return s=F0.bind(null,tn,s.queue,!0,!1),Xa().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,p){var x=tn,M=Xa();if(Un){if(p===void 0)throw Error(i(407));p=p()}else{if(p=l(),Qn===null)throw Error(i(349));(On&127)!==0||Dy(x,l,p)}M.memoizedState=p;var C={value:p,getSnapshot:l};return M.queue=C,Hy(N0.bind(null,x,C,s),[s]),x.flags|=2048,hu(9,{destroy:void 0},R0.bind(null,x,C,p,l),null),p},useId:function(){var s=Xa(),l=Qn.identifierPrefix;if(Un){var p=Fs,x=Is;p=(x&~(1<<32-At(x)-1)).toString(32)+p,l="_"+l+"R_"+p,p=Bh++,0<p&&(l+="H"+p.toString(32)),l+="_"}else p=E1++,l="_"+l+"r_"+p.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:H0,useFormState:By,useActionState:By,useOptimistic:function(s){var l=Xa();l.memoizedState=l.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=Kf.bind(null,tn,!0,p),p.dispatch=l,[s,l]},useMemoCache:T0,useCacheRefresh:function(){return Xa().memoizedState=R1.bind(null,tn)},useEffectEvent:function(s){var l=Xa(),p={impl:s};return l.memoizedState=p,function(){if((zn&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},mu={readContext:da,use:Ih,useCallback:P0,useContext:da,useEffect:L0,useImperativeHandle:Xh,useInsertionEffect:Xy,useLayoutEffect:Tr,useMemo:z0,useReducer:Fh,useRef:ky,useState:function(){return Fh(Ao)},useDebugValue:qh,useDeferredValue:function(s,l){var p=zi();return I0(p,si.memoizedState,s,l)},useTransition:function(){var s=Fh(Ao)[0],l=zi().memoizedState;return[typeof s=="boolean"?s:Wf(s),l]},useSyncExternalStore:C0,useId:Sa,useHostTransitionStatus:H0,useFormState:Iy,useActionState:Iy,useOptimistic:function(s,l){var p=zi();return Oy(p,si,s,l)},useMemoCache:T0,useCacheRefresh:j0};mu.useEffectEvent=Gy;var Jf={readContext:da,use:Ih,useCallback:P0,useContext:da,useEffect:L0,useImperativeHandle:Xh,useInsertionEffect:Xy,useLayoutEffect:Tr,useMemo:z0,useReducer:Vh,useRef:ky,useState:function(){return Vh(Ao)},useDebugValue:qh,useDeferredValue:function(s,l){var p=zi();return si===null?B0(p,s,l):I0(p,si.memoizedState,s,l)},useTransition:function(){var s=Vh(Ao)[0],l=zi().memoizedState;return[typeof s=="boolean"?s:Wf(s),l]},useSyncExternalStore:C0,useId:Sa,useHostTransitionStatus:H0,useFormState:Vy,useActionState:Vy,useOptimistic:function(s,l){var p=zi();return si!==null?Oy(p,si,s,l):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:T0,useCacheRefresh:j0};Jf.useEffectEvent=Gy;function gu(s,l,p,x){l=s.memoizedState,p=p(x,l),p=p==null?l:g({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Qf={enqueueSetState:function(s,l,p){s=s._reactInternals;var x=Wa(),M=ks(x);M.payload=l,p!=null&&(M.callback=p),l=wo(s,M,x),l!==null&&(h(l,s,x),yl(l,s,x))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var x=Wa(),M=ks(x);M.tag=1,M.payload=l,p!=null&&(M.callback=p),l=wo(s,M,x),l!==null&&(h(l,s,x),yl(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=Wa(),x=ks(p);x.tag=2,l!=null&&(x.callback=l),l=wo(s,x,p),l!==null&&(h(l,s,p),yl(l,s,p))}};function Ky(s,l,p,x,M,C,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,C,k):l.prototype&&l.prototype.isPureReactComponent?!eu(p,x)||!eu(M,C):!0}function Zy(s,l,p,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,x),l.state!==s&&Qf.enqueueReplaceState(l,l.state,null)}function Ma(s,l){var p=l;if("ref"in l){p={};for(var x in l)x!=="ref"&&(p[x]=l[x])}if(s=s.defaultProps){p===l&&(p=g({},p));for(var M in s)p[M]===void 0&&(p[M]=s[M])}return p}function G0(s){ol(s)}function Jy(s){console.error(s)}function Wh(s){ol(s)}function Yh(s,l){try{var p=s.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function Qy(s,l,p){try{var x=s.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function X0(s,l,p){return p=ks(p),p.tag=3,p.payload={element:null},p.callback=function(){Yh(s,l)},p}function xu(s){return s=ks(s),s.tag=3,s}function ar(s,l,p,x){var M=p.type.getDerivedStateFromError;if(typeof M=="function"){var C=x.value;s.payload=function(){return M(C)},s.callback=function(){Qy(l,p,x)}}var k=p.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){Qy(l,p,x),typeof M!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var Y=x.stack;this.componentDidCatch(x.value,{componentStack:Y!==null?Y:""})})}function Ar(s,l,p,x,M){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=p.alternate,l!==null&&dl(l,p,M,!0),p=ia.current,p!==null){switch(p.tag){case 31:case 13:return Yr===null?on():p.alternate===null&&$n===0&&($n=3),p.flags&=-257,p.flags|=65536,p.lanes=M,x===kf?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([x]):l.add(x),D1(s,x,M)),!1;case 22:return p.flags|=65536,x===kf?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([x]):p.add(x)),D1(s,x,M)),!1}throw Error(i(435,p.tag))}return D1(s,x,M),on(),!1}if(Un)return l=ia.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=M,x!==Ch&&(s=Error(i(422),{cause:x}),If(er(s,p)))):(x!==Ch&&(l=Error(i(423),{cause:x}),If(er(l,p))),s=s.current.alternate,s.flags|=65536,M&=-M,s.lanes|=M,x=er(x,p),M=X0(s.stateNode,x,M),Uh(s,M),$n!==4&&($n=2)),!1;var C=Error(i(520),{cause:x});if(C=er(C,p),Ss===null?Ss=[C]:Ss.push(C),$n!==4&&($n=2),l===null)return!0;x=er(x,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,s=M&-M,p.lanes|=s,s=X0(p.stateNode,x,s),Uh(p,s),!1;case 1:if(l=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ks===null||!Ks.has(C))))return p.flags|=65536,M&=-M,p.lanes|=M,M=xu(M),ar(M,s,p,x),Uh(p,M),!1}p=p.return}while(p!==null);return!1}var Kh=Error(i(461)),vi=!1;function Di(s,l,p,x){l.child=s===null?Ay(l,null,p,x):fc(l,s.child,p,x)}function $f(s,l,p,x,M){p=p.render;var C=l.ref;if("ref"in x){var k={};for(var Y in x)Y!=="ref"&&(k[Y]=x[Y])}else k=x;return lc(l),x=S0(s,l,p,k,C,M),Y=M0(),s!==null&&!vi?(E0(s,l,M),bs(s,l,M)):(Un&&Y&&Ah(l),l.flags|=1,Di(s,l,x,M),l.child)}function ed(s,l,p,x,M){if(s===null){var C=p.type;return typeof C=="function"&&!ja(C)&&C.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=C,Cr(s,l,C,x,M)):(s=Pf(p.type,null,x,l,l.mode,M),s.ref=l.ref,s.return=l,l.child=s)}if(C=s.child,!_l(s,M)){var k=C.memoizedProps;if(p=p.compare,p=p!==null?p:eu,p(k,x)&&s.ref===l.ref)return bs(s,l,M)}return l.flags|=1,s=zs(C,x),s.ref=l.ref,s.return=l,l.child=s}function Cr(s,l,p,x,M){if(s!==null){var C=s.memoizedProps;if(eu(C,x)&&s.ref===l.ref)if(vi=!1,l.pendingProps=x=C,_l(s,M))(s.flags&131072)!==0&&(vi=!0);else return l.lanes=s.lanes,bs(s,l,M)}return yu(s,l,p,x,M)}function Rr(s,l,p,x){var M=x.children,C=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,s!==null){for(x=l.child=s.child,M=0;x!==null;)M=M|x.lanes|x.childLanes,x=x.sibling;x=M&~C}else x=0,l.child=null;return Xs(s,l,C,p,x)}if((p&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&fu(l,C!==null?C.cachePool:null),C!==null?y0(l,C):v0(),Cy(l);else return x=l.lanes=536870912,Xs(s,l,C!==null?C.baseLanes|p:p,p,x)}else C!==null?(fu(l,C.cachePool),y0(l,C),To(),l.memoizedState=null):(s!==null&&fu(l,null),v0(),To());return Di(s,l,M,p),l.child}function ys(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Xs(s,l,p,x,M){var C=Vs();return C=C===null?null:{parent:qt._currentValue,pool:C},l.memoizedState={baseLanes:p,cachePool:C},s!==null&&fu(l,null),v0(),Cy(l),s!==null&&dl(s,l,x,!0),l.childLanes=M,null}function Kr(s,l){return l=vu({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function ha(s,l,p){return fc(l,s.child,null,p),s=Kr(l,l.pendingProps),s.flags|=2,wr(l),l.memoizedState=null,s}function td(s,l,p){var x=l.pendingProps,M=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Un){if(x.mode==="hidden")return s=Kr(l,x),l.lanes=536870912,ys(null,s);if(b0(l),(s=di)?(s=ZA(s,fa),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Bs!==null?{id:Is,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},p=_y(s),p.return=l,l.child=p,ua=l,di=null)):s=null,s===null)throw Dn(l);return l.lanes=536870912,null}return Kr(l,x)}var C=s.memoizedState;if(C!==null){var k=C.dehydrated;if(b0(l),M)if(l.flags&256)l.flags&=-257,l=ha(s,l,p);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(i(558));else if(vi||dl(s,l,p,!1),M=(p&s.childLanes)!==0,vi||M){if(x=Qn,x!==null&&(k=Qe(x,p),k!==0&&k!==C.retryLane))throw C.retryLane=k,cl(s,k),h(x,s,k),Kh;on(),l=ha(s,l,p)}else s=C.treeContext,di=Zs(k.nextSibling),ua=l,Un=!0,bo=null,fa=!1,s!==null&&Bf(l,s),l=Kr(l,x),l.flags|=4096;return l}return s=zs(s.child,{mode:x.mode,children:x.children}),s.ref=l.ref,l.child=s,s.return=l,s}function vs(s,l){var p=l.ref;if(p===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(s===null||s.ref!==p)&&(l.flags|=4194816)}}function yu(s,l,p,x,M){return lc(l),p=S0(s,l,p,x,void 0,M),x=M0(),s!==null&&!vi?(E0(s,l,M),bs(s,l,M)):(Un&&x&&Ah(l),l.flags|=1,Di(s,l,p,M),l.child)}function Pa(s,l,p,x,M,C){return lc(l),l.updateQueue=null,p=Ny(l,x,p,M),Ry(s),x=M0(),s!==null&&!vi?(E0(s,l,C),bs(s,l,C)):(Un&&x&&Ah(l),l.flags|=1,Di(s,l,p,C),l.child)}function Ea(s,l,p,x,M){if(lc(l),l.stateNode===null){var C=ul,k=p.contextType;typeof k=="object"&&k!==null&&(C=da(k)),C=new p(x,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Qf,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=x,C.state=l.memoizedState,C.refs={},m0(l),k=p.contextType,C.context=typeof k=="object"&&k!==null?da(k):ul,C.state=l.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(gu(l,p,k,x),C.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(k=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),k!==C.state&&Qf.enqueueReplaceState(C,C.state,null),dc(l,x,C,M),Gf(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(s===null){C=l.stateNode;var Y=l.memoizedProps,se=Ma(p,Y);C.props=se;var Te=C.context,Pe=p.contextType;k=ul,typeof Pe=="object"&&Pe!==null&&(k=da(Pe));var He=p.getDerivedStateFromProps;Pe=typeof He=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,Pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||Te!==k)&&Zy(l,C,x,k),xl=!1;var Ce=l.memoizedState;C.state=Ce,dc(l,x,C,M),Gf(),Te=l.memoizedState,Y||Ce!==Te||xl?(typeof He=="function"&&(gu(l,p,He,x),Te=l.memoizedState),(se=xl||Ky(l,p,se,x,Ce,Te,k))?(Pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=Te),C.props=x,C.state=Te,C.context=k,x=se):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{C=l.stateNode,g0(s,l),k=l.memoizedProps,Pe=Ma(p,k),C.props=Pe,He=l.pendingProps,Ce=C.context,Te=p.contextType,se=ul,typeof Te=="object"&&Te!==null&&(se=da(Te)),Y=p.getDerivedStateFromProps,(Te=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==He||Ce!==se)&&Zy(l,C,x,se),xl=!1,Ce=l.memoizedState,C.state=Ce,dc(l,x,C,M),Gf();var Le=l.memoizedState;k!==He||Ce!==Le||xl||s!==null&&s.dependencies!==null&&cu(s.dependencies)?(typeof Y=="function"&&(gu(l,p,Y,x),Le=l.memoizedState),(Pe=xl||Ky(l,p,Pe,x,Ce,Le,se)||s!==null&&s.dependencies!==null&&cu(s.dependencies))?(Te||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,Le,se),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,Le,se)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||k===s.memoizedProps&&Ce===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Ce===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Le),C.props=x,C.state=Le,C.context=se,x=Pe):(typeof C.componentDidUpdate!="function"||k===s.memoizedProps&&Ce===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Ce===s.memoizedState||(l.flags|=1024),x=!1)}return C=x,vs(s,l),x=(l.flags&128)!==0,C||x?(C=l.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,s!==null&&x?(l.child=fc(l,s.child,null,M),l.child=fc(l,null,p,M)):Di(s,l,p,M),l.memoizedState=C.state,s=l.child):s=bs(s,l,M),s}function kn(s,l,p,x){return oc(),l.flags|=256,Di(s,l,p,x),l.child}var Nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(s){return{baseLanes:s,cachePool:Dh()}}function nd(s,l,p){return s=s!==null?s.childLanes&~p:0,l&&(s|=Bn),s}function Dr(s,l,p){var x=l.pendingProps,M=!1,C=(l.flags&128)!==0,k;if((k=C)||(k=s!==null&&s.memoizedState===null?!1:(Ri.current&2)!==0),k&&(M=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,s===null){if(Un){if(M?vl(l):To(),(s=di)?(s=ZA(s,fa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Bs!==null?{id:Is,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},p=_y(s),p.return=l,l.child=p,ua=l,di=null)):s=null,s===null)throw Dn(l);return W1(s)?l.lanes=32:l.lanes=536870912,null}var Y=x.children;return x=x.fallback,M?(To(),M=l.mode,Y=vu({mode:"hidden",children:Y},M),x=yo(x,M,p,null),Y.return=l,x.return=l,Y.sibling=x,l.child=Y,x=l.child,x.memoizedState=Zr(p),x.childLanes=nd(s,k,p),l.memoizedState=Nr,ys(null,x)):(vl(l),bl(l,Y))}var se=s.memoizedState;if(se!==null&&(Y=se.dehydrated,Y!==null)){if(C)l.flags&256?(vl(l),l.flags&=-257,l=bu(s,l,p)):l.memoizedState!==null?(To(),l.child=s.child,l.flags|=128,l=null):(To(),Y=x.fallback,M=l.mode,x=vu({mode:"visible",children:x.children},M),Y=yo(Y,M,p,null),Y.flags|=2,x.return=l,Y.return=l,x.sibling=Y,l.child=x,fc(l,s.child,null,p),x=l.child,x.memoizedState=Zr(p),x.childLanes=nd(s,k,p),l.memoizedState=Nr,l=ys(null,x));else if(vl(l),W1(Y)){if(k=Y.nextSibling&&Y.nextSibling.dataset,k)var Te=k.dgst;k=Te,x=Error(i(419)),x.stack="",x.digest=k,If({value:x,source:null,stack:null}),l=bu(s,l,p)}else if(vi||dl(s,l,p,!1),k=(p&s.childLanes)!==0,vi||k){if(k=Qn,k!==null&&(x=Qe(k,p),x!==0&&x!==se.retryLane))throw se.retryLane=x,cl(s,x),h(k,s,x),Kh;q1(Y)||on(),l=bu(s,l,p)}else q1(Y)?(l.flags|=192,l.child=s.child,l=null):(s=se.treeContext,di=Zs(Y.nextSibling),ua=l,Un=!0,bo=null,fa=!1,s!==null&&Bf(l,s),l=bl(l,x.children),l.flags|=4096);return l}return M?(To(),Y=x.fallback,M=l.mode,se=s.child,Te=se.sibling,x=zs(se,{mode:"hidden",children:x.children}),x.subtreeFlags=se.subtreeFlags&65011712,Te!==null?Y=zs(Te,Y):(Y=yo(Y,M,p,null),Y.flags|=2),Y.return=l,x.return=l,x.sibling=Y,l.child=x,ys(null,x),x=l.child,Y=s.child.memoizedState,Y===null?Y=Zr(p):(M=Y.cachePool,M!==null?(se=qt._currentValue,M=M.parent!==se?{parent:se,pool:se}:M):M=Dh(),Y={baseLanes:Y.baseLanes|p,cachePool:M}),x.memoizedState=Y,x.childLanes=nd(s,k,p),l.memoizedState=Nr,ys(s.child,x)):(vl(l),p=s.child,s=p.sibling,p=zs(p,{mode:"visible",children:x.children}),p.return=l,p.sibling=null,s!==null&&(k=l.deletions,k===null?(l.deletions=[s],l.flags|=16):k.push(s)),l.child=p,l.memoizedState=null,p)}function bl(s,l){return l=vu({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function vu(s,l){return s=Ha(22,s,null,l),s.lanes=0,s}function bu(s,l,p){return fc(l,s.child,null,p),s=bl(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function mc(s,l,p){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),Mo(s.return,l,p)}function id(s,l,p,x,M,C){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:M,treeForkCount:C}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=p,k.tailMode=M,k.treeForkCount=C)}function ad(s,l,p){var x=l.pendingProps,M=x.revealOrder,C=x.tail;x=x.children;var k=Ri.current,Y=(k&2)!==0;if(Y?(k=k&1|2,l.flags|=128):k&=1,_e(Ri,k),Di(s,l,x,p),x=Un?lu:0,!Y&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&mc(s,p,l);else if(s.tag===19)mc(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(M){case"forwards":for(p=l.child,M=null;p!==null;)s=p.alternate,s!==null&&Ph(s)===null&&(M=p),p=p.sibling;p=M,p===null?(M=l.child,l.child=null):(M=p.sibling,p.sibling=null),id(l,!1,M,p,C,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,M=l.child,l.child=null;M!==null;){if(s=M.alternate,s!==null&&Ph(s)===null){l.child=M;break}s=M.sibling,M.sibling=p,p=M,M=s}id(l,!0,p,null,C,x);break;case"together":id(l,!1,null,null,void 0,x);break;default:l.memoizedState=null}return l.child}function bs(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),Ur|=l.lanes,(p&l.childLanes)===0)if(s!==null){if(dl(s,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,p=zs(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=zs(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function _l(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&cu(s)))}function rd(s,l,p){switch(l.tag){case 3:Je(l,l.stateNode.containerInfo),So(l,qt,s.memoizedState.cache),oc();break;case 27:case 5:gt(l);break;case 4:Je(l,l.stateNode.containerInfo);break;case 10:So(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,b0(l),null;break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(vl(l),l.flags|=128,null):(p&l.child.childLanes)!==0?Dr(s,l,p):(vl(l),s=bs(s,l,p),s!==null?s.sibling:null);vl(l);break;case 19:var M=(s.flags&128)!==0;if(x=(p&l.childLanes)!==0,x||(dl(s,l,p,!1),x=(p&l.childLanes)!==0),M){if(x)return ad(s,l,p);l.flags|=128}if(M=l.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),_e(Ri,Ri.current),x)break;return null;case 22:return l.lanes=0,Rr(s,l,p,l.pendingProps);case 24:So(l,qt,s.memoizedState.cache)}return bs(s,l,p)}function Zh(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps)vi=!0;else{if(!_l(s,p)&&(l.flags&128)===0)return vi=!1,rd(s,l,p);vi=(s.flags&131072)!==0}else vi=!1,Un&&(l.flags&1048576)!==0&&a0(l,lu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var x=l.pendingProps;if(s=uc(l.elementType),l.type=s,typeof s=="function")ja(s)?(x=Ma(s,x),l.tag=1,l=Ea(null,l,s,x,p)):(l.tag=0,l=yu(null,l,s,x,p));else{if(s!=null){var M=s.$$typeof;if(M===U){l.tag=11,l=$f(null,l,s,x,p);break e}else if(M===L){l.tag=14,l=ed(null,l,s,x,p);break e}}throw l=ie(s)||s,Error(i(306,l,""))}}return l;case 0:return yu(s,l,l.type,l.pendingProps,p);case 1:return x=l.type,M=Ma(x,l.pendingProps),Ea(s,l,x,M,p);case 3:e:{if(Je(l,l.stateNode.containerInfo),s===null)throw Error(i(387));x=l.pendingProps;var C=l.memoizedState;M=C.element,g0(s,l),dc(l,x,null,p);var k=l.memoizedState;if(x=k.cache,So(l,qt,x),x!==C.cache&&Nh(l,[qt],p,!0),Gf(),x=k.element,C.isDehydrated)if(C={element:x,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=kn(s,l,x,p);break e}else if(x!==M){M=er(Error(i(424)),l),If(M),l=kn(s,l,x,p);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(di=Zs(s.firstChild),ua=l,Un=!0,bo=null,fa=!0,p=Ay(l,null,x,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(oc(),x===M){l=bs(s,l,p);break e}Di(s,l,x,p)}l=l.child}return l;case 26:return vs(s,l),s===null?(p=n3(l.type,null,l.pendingProps,null))?l.memoizedState=p:Un||(p=l.type,s=l.pendingProps,x=sv(ve.current).createElement(p),x[at]=l,x[ht]=s,Ya(x,p,s),Me(x),l.stateNode=x):l.memoizedState=n3(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return gt(l),s===null&&Un&&(x=l.stateNode=$A(l.type,l.pendingProps,ve.current),ua=l,fa=!0,M=di,Au(l.type)?(Y1=M,di=Zs(x.firstChild)):di=M),Di(s,l,l.pendingProps.children,p),vs(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Un&&((M=x=di)&&(x=aI(x,l.type,l.pendingProps,fa),x!==null?(l.stateNode=x,ua=l,di=Zs(x.firstChild),fa=!1,M=!0):M=!1),M||Dn(l)),gt(l),M=l.type,C=l.pendingProps,k=s!==null?s.memoizedProps:null,x=C.children,j1(M,C)?x=null:k!==null&&j1(M,k)&&(l.flags|=32),l.memoizedState!==null&&(M=S0(s,l,w1,null,null,p),tg._currentValue=M),vs(s,l),Di(s,l,x,p),l.child;case 6:return s===null&&Un&&((s=p=di)&&(p=rI(p,l.pendingProps,fa),p!==null?(l.stateNode=p,ua=l,di=null,s=!0):s=!1),s||Dn(l)),null;case 13:return Dr(s,l,p);case 4:return Je(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=fc(l,null,x,p):Di(s,l,x,p),l.child;case 11:return $f(s,l,l.type,l.pendingProps,p);case 7:return Di(s,l,l.pendingProps,p),l.child;case 8:return Di(s,l,l.pendingProps.children,p),l.child;case 12:return Di(s,l,l.pendingProps.children,p),l.child;case 10:return x=l.pendingProps,So(l,l.type,x.value),Di(s,l,x.children,p),l.child;case 9:return M=l.type._context,x=l.pendingProps.children,lc(l),M=da(M),x=x(M),l.flags|=1,Di(s,l,x,p),l.child;case 14:return ed(s,l,l.type,l.pendingProps,p);case 15:return Cr(s,l,l.type,l.pendingProps,p);case 19:return ad(s,l,p);case 31:return td(s,l,p);case 22:return Rr(s,l,p,l.pendingProps);case 24:return lc(l),x=da(qt),s===null?(M=Vs(),M===null&&(M=Qn,C=c0(),M.pooledCache=C,C.refCount++,C!==null&&(M.pooledCacheLanes|=p),M=C),l.memoizedState={parent:x,cache:M},m0(l),So(l,qt,M)):((s.lanes&p)!==0&&(g0(s,l),dc(l,null,null,p),Gf()),M=s.memoizedState,C=l.memoizedState,M.parent!==x?(M={parent:x,cache:x},l.memoizedState=M,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=M),So(l,qt,x)):(x=C.cache,So(l,qt,x),x!==M.cache&&Nh(l,[qt],p,!0))),Di(s,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function rr(s){s.flags|=4}function Sl(s,l,p,x,M){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(M&335544128)===M)if(s.stateNode.complete)s.flags|=8192;else if(rt())s.flags|=8192;else throw Qt=kf,Vf}else s.flags&=-16777217}function Ro(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!o3(l))if(rt())s.flags|=8192;else throw Qt=kf,Vf}function _u(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?wn():536870912,s.lanes|=l,Pr|=l)}function sd(s,l){if(!Un)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function ai(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(l)for(var M=s.child;M!==null;)p|=M.lanes|M.childLanes,x|=M.subtreeFlags&65011712,x|=M.flags&65011712,M.return=s,M=M.sibling;else for(M=s.child;M!==null;)p|=M.lanes|M.childLanes,x|=M.subtreeFlags,x|=M.flags,M.return=s,M=M.sibling;return s.subtreeFlags|=x,s.childLanes=p,l}function q0(s,l,p){var x=l.pendingProps;switch(fl(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(l),null;case 1:return ai(l),null;case 3:return p=l.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),Wr(qt),ct(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(sc(l)?rr(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,r0())),ai(l),null;case 26:var M=l.type,C=l.memoizedState;return s===null?(rr(l),C!==null?(ai(l),Ro(l,C)):(ai(l),Sl(l,M,null,x,p))):C?C!==s.memoizedState?(rr(l),ai(l),Ro(l,C)):(ai(l),l.flags&=-16777217):(s=s.memoizedProps,s!==x&&rr(l),ai(l),Sl(l,M,s,x,p)),null;case 27:if(wt(l),p=ve.current,M=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&rr(l);else{if(!x){if(l.stateNode===null)throw Error(i(166));return ai(l),null}s=Se.current,sc(l)?Rh(l):(s=$A(M,x,p),l.stateNode=s,rr(l))}return ai(l),null;case 5:if(wt(l),M=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&rr(l);else{if(!x){if(l.stateNode===null)throw Error(i(166));return ai(l),null}if(C=Se.current,sc(l))Rh(l);else{var k=sv(ve.current);switch(C){case 1:C=k.createElementNS("http://www.w3.org/2000/svg",M);break;case 2:C=k.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;default:switch(M){case"svg":C=k.createElementNS("http://www.w3.org/2000/svg",M);break;case"math":C=k.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;case"script":C=k.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof x.is=="string"?k.createElement("select",{is:x.is}):k.createElement("select"),x.multiple?C.multiple=!0:x.size&&(C.size=x.size);break;default:C=typeof x.is=="string"?k.createElement(M,{is:x.is}):k.createElement(M)}}C[at]=l,C[ht]=x;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)C.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=C;e:switch(Ya(C,M,x),M){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&rr(l)}}return ai(l),Sl(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,p),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==x&&rr(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(i(166));if(s=ve.current,sc(l)){if(s=l.stateNode,p=l.memoizedProps,x=null,M=ua,M!==null)switch(M.tag){case 27:case 5:x=M.memoizedProps}s[at]=l,s=!!(s.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||HA(s.nodeValue,p)),s||Dn(l,!0)}else s=sv(s).createTextNode(x),s[at]=l,l.stateNode=s}return ai(l),null;case 31:if(p=l.memoizedState,s===null||s.memoizedState!==null){if(x=sc(l),p!==null){if(s===null){if(!x)throw Error(i(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[at]=l}else oc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ai(l),s=!1}else p=r0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),s=!0;if(!s)return l.flags&256?(wr(l),l):(wr(l),null);if((l.flags&128)!==0)throw Error(i(558))}return ai(l),null;case 13:if(x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(M=sc(l),x!==null&&x.dehydrated!==null){if(s===null){if(!M)throw Error(i(318));if(M=l.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));M[at]=l}else oc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ai(l),M=!1}else M=r0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=M),M=!0;if(!M)return l.flags&256?(wr(l),l):(wr(l),null)}return wr(l),(l.flags&128)!==0?(l.lanes=p,l):(p=x!==null,s=s!==null&&s.memoizedState!==null,p&&(x=l.child,M=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(M=x.alternate.memoizedState.cachePool.pool),C=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==M&&(x.flags|=2048)),p!==s&&p&&(l.child.flags|=8192),_u(l,l.updateQueue),ai(l),null);case 4:return ct(),s===null&&I1(l.stateNode.containerInfo),ai(l),null;case 10:return Wr(l.type),ai(l),null;case 19:if(le(Ri),x=l.memoizedState,x===null)return ai(l),null;if(M=(l.flags&128)!==0,C=x.rendering,C===null)if(M)sd(x,!1);else{if($n!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(C=Ph(s),C!==null){for(l.flags|=128,sd(x,!1),s=C.updateQueue,l.updateQueue=s,_u(l,s),l.subtreeFlags=0,s=p,p=l.child;p!==null;)Oa(p,s),p=p.sibling;return _e(Ri,Ri.current&1|2),Un&&vo(l,x.treeForkCount),l.child}s=s.sibling}x.tail!==null&&j()>zr&&(l.flags|=128,M=!0,sd(x,!1),l.lanes=4194304)}else{if(!M)if(s=Ph(C),s!==null){if(l.flags|=128,M=!0,s=s.updateQueue,l.updateQueue=s,_u(l,s),sd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!Un)return ai(l),null}else 2*j()-x.renderingStartTime>zr&&p!==536870912&&(l.flags|=128,M=!0,sd(x,!1),l.lanes=4194304);x.isBackwards?(C.sibling=l.child,l.child=C):(s=x.last,s!==null?s.sibling=C:l.child=C,x.last=C)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=j(),s.sibling=null,p=Ri.current,_e(Ri,M?p&1|2:p&1),Un&&vo(l,x.treeForkCount),s):(ai(l),null);case 22:case 23:return wr(l),Ua(),x=l.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(p&536870912)!==0&&(l.flags&128)===0&&(ai(l),l.subtreeFlags&6&&(l.flags|=8192)):ai(l),p=l.updateQueue,p!==null&&_u(l,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==p&&(l.flags|=2048),s!==null&&le(hl),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Wr(qt),ai(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Jh(s,l){switch(fl(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Wr(qt),ct(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return wt(l),null;case 31:if(l.memoizedState!==null){if(wr(l),l.alternate===null)throw Error(i(340));oc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(wr(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));oc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return le(Ri),null;case 4:return ct(),null;case 10:return Wr(l.type),null;case 22:case 23:return wr(l),Ua(),s!==null&&le(hl),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Wr(qt),null;case 25:return null;default:return null}}function gc(s,l){switch(fl(l),l.tag){case 3:Wr(qt),ct();break;case 26:case 27:case 5:wt(l);break;case 4:ct();break;case 31:l.memoizedState!==null&&wr(l);break;case 13:wr(l);break;case 19:le(Ri);break;case 10:Wr(l.type);break;case 22:case 23:wr(l),Ua(),s!==null&&le(hl);break;case 24:Wr(qt)}}function qs(s,l){try{var p=l.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var M=x.next;p=M;do{if((p.tag&s)===s){x=void 0;var C=p.create,k=p.inst;x=C(),k.destroy=x}p=p.next}while(p!==M)}}catch(Y){ui(l,l.return,Y)}}function Jr(s,l,p){try{var x=l.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var C=M.next;x=C;do{if((x.tag&s)===s){var k=x.inst,Y=k.destroy;if(Y!==void 0){k.destroy=void 0,M=l;var se=p,Te=Y;try{Te()}catch(Pe){ui(M,se,Pe)}}}x=x.next}while(x!==C)}}catch(Pe){ui(l,l.return,Pe)}}function Ml(s){var l=s.updateQueue;if(l!==null){var p=s.stateNode;try{_a(l,p)}catch(x){ui(s,s.return,x)}}}function W0(s,l,p){p.props=Ma(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(x){ui(s,l,x)}}function Ws(s,l){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof p=="function"?s.refCleanup=p(x):p.current=x}}catch(M){ui(s,l,M)}}function Or(s,l){var p=s.ref,x=s.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(M){ui(s,l,M)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(M){ui(s,l,M)}else p.current=null}function Lr(s){var l=s.type,p=s.memoizedProps,x=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(M){ui(s,s.return,M)}}function Qr(s,l,p){try{var x=s.stateNode;QB(x,s.type,p,l),x[ht]=l}catch(M){ui(s,s.return,M)}}function qi(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Au(s.type)||s.tag===4}function Ys(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qi(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Au(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dn(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,l):(l=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,l.appendChild(s),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Ls));else if(x!==4&&(x===27&&Au(s.type)&&(p=s.stateNode,l=null),s=s.child,s!==null))for(dn(s,l,p),s=s.sibling;s!==null;)dn(s,l,p),s=s.sibling}function qn(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(x!==4&&(x===27&&Au(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(qn(s,l,p),s=s.sibling;s!==null;)qn(s,l,p),s=s.sibling}function Bi(s){var l=s.stateNode,p=s.memoizedProps;try{for(var x=s.type,M=l.attributes;M.length;)l.removeAttributeNode(M[0]);Ya(l,x,p),l[at]=s,l[ht]=p}catch(C){ui(s,s.return,C)}}var $r=!1,bi=!1,No=!1,od=typeof WeakSet=="function"?WeakSet:Set,Oi=null;function Su(s,l){if(s=s.containerInfo,k1=hv,s=vh(s),tu(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var M=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var k=0,Y=-1,se=-1,Te=0,Pe=0,He=s,Ce=null;t:for(;;){for(var Le;He!==p||M!==0&&He.nodeType!==3||(Y=k+M),He!==C||x!==0&&He.nodeType!==3||(se=k+x),He.nodeType===3&&(k+=He.nodeValue.length),(Le=He.firstChild)!==null;)Ce=He,He=Le;for(;;){if(He===s)break t;if(Ce===p&&++Te===M&&(Y=k),Ce===C&&++Pe===x&&(se=k),(Le=He.nextSibling)!==null)break;He=Ce,Ce=He.parentNode}He=Le}p=Y===-1||se===-1?null:{start:Y,end:se}}else p=null}p=p||{start:0,end:0}}else p=null;for(H1={focusedElem:s,selectionRange:p},hv=!1,Oi=l;Oi!==null;)if(l=Oi,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Oi=s;else for(;Oi!==null;){switch(l=Oi,C=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(p=0;p<s.length;p++)M=s[p],M.ref.impl=M.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,p=l,M=C.memoizedProps,C=C.memoizedState,x=p.stateNode;try{var zt=Ma(p.type,M);s=x.getSnapshotBeforeUpdate(zt,C),x.__reactInternalSnapshotBeforeUpdate=s}catch(en){ui(p,p.return,en)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,p=s.nodeType,p===9)X1(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":X1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,Oi=s;break}Oi=l.return}}function $y(s,l,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:Do(s,p),x&4&&qs(5,p);break;case 1:if(Do(s,p),x&4)if(s=p.stateNode,l===null)try{s.componentDidMount()}catch(k){ui(p,p.return,k)}else{var M=Ma(p.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(M,l,s.__reactInternalSnapshotBeforeUpdate)}catch(k){ui(p,p.return,k)}}x&64&&Ml(p),x&512&&Ws(p,p.return);break;case 3:if(Do(s,p),x&64&&(s=p.updateQueue,s!==null)){if(l=null,p.child!==null)switch(p.child.tag){case 27:case 5:l=p.child.stateNode;break;case 1:l=p.child.stateNode}try{_a(s,l)}catch(k){ui(p,p.return,k)}}break;case 27:l===null&&x&4&&Bi(p);case 26:case 5:Do(s,p),l===null&&x&4&&Lr(p),x&512&&Ws(p,p.return);break;case 12:Do(s,p);break;case 31:Do(s,p),x&4&&$h(s,p);break;case 13:Do(s,p),x&4&&Y0(s,p),x&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=VB.bind(null,p),sI(s,p))));break;case 22:if(x=p.memoizedState!==null||$r,!x){l=l!==null&&l.memoizedState!==null||bi,M=$r;var C=bi;$r=x,(bi=l)&&!C?Jn(s,p,(p.subtreeFlags&8772)!==0):Do(s,p),$r=M,bi=C}break;case 30:break;default:Do(s,p)}}function Qh(s){var l=s.alternate;l!==null&&(s.alternate=null,Qh(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Vn(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Hn=null,Wi=!1;function za(s,l,p){for(p=p.child;p!==null;)El(s,l,p),p=p.sibling}function El(s,l,p){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ze,p)}catch{}switch(p.tag){case 26:bi||Or(p,l),za(s,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:bi||Or(p,l);var x=Hn,M=Wi;Au(p.type)&&(Hn=p.stateNode,Wi=!1),za(s,l,p),Q0(p.stateNode),Hn=x,Wi=M;break;case 5:bi||Or(p,l);case 6:if(x=Hn,M=Wi,Hn=null,za(s,l,p),Hn=x,Wi=M,Hn!==null)if(Wi)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(p.stateNode)}catch(C){ui(p,l,C)}else try{Hn.removeChild(p.stateNode)}catch(C){ui(p,l,C)}break;case 18:Hn!==null&&(Wi?(s=Hn,YA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),up(s)):YA(Hn,p.stateNode));break;case 4:x=Hn,M=Wi,Hn=p.stateNode.containerInfo,Wi=!0,za(s,l,p),Hn=x,Wi=M;break;case 0:case 11:case 14:case 15:Jr(2,p,l),bi||Jr(4,p,l),za(s,l,p);break;case 1:bi||(Or(p,l),x=p.stateNode,typeof x.componentWillUnmount=="function"&&W0(p,l,x)),za(s,l,p);break;case 21:za(s,l,p);break;case 22:bi=(x=bi)||p.memoizedState!==null,za(s,l,p),bi=x;break;default:za(s,l,p)}}function $h(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{up(s)}catch(p){ui(l,l.return,p)}}}function Y0(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{up(s)}catch(p){ui(l,l.return,p)}}function ev(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new od),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new od),l;default:throw Error(i(435,s.tag))}}function Ii(s,l){var p=ev(s);l.forEach(function(x){if(!p.has(x)){p.add(x);var M=kB.bind(null,s,x);x.then(M,M)}})}function Ba(s,l){var p=l.deletions;if(p!==null)for(var x=0;x<p.length;x++){var M=p[x],C=s,k=l,Y=k;e:for(;Y!==null;){switch(Y.tag){case 27:if(Au(Y.type)){Hn=Y.stateNode,Wi=!1;break e}break;case 5:Hn=Y.stateNode,Wi=!1;break e;case 3:case 4:Hn=Y.stateNode.containerInfo,Wi=!0;break e}Y=Y.return}if(Hn===null)throw Error(i(160));El(C,k,M),Hn=null,Wi=!1,C=M.alternate,C!==null&&(C.return=null),M.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)wl(l,s),l=l.sibling}var sr=null;function wl(s,l){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ba(l,s),Li(s),x&4&&(Jr(3,s,s.return),qs(3,s),Jr(5,s,s.return));break;case 1:Ba(l,s),Li(s),x&512&&(bi||p===null||Or(p,p.return)),x&64&&$r&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var M=sr;if(Ba(l,s),Li(s),x&512&&(bi||p===null||Or(p,p.return)),x&4){var C=p!==null?p.memoizedState:null;if(x=s.memoizedState,p===null)if(x===null)if(s.stateNode===null){e:{x=s.type,p=s.memoizedProps,M=M.ownerDocument||M;t:switch(x){case"title":C=M.getElementsByTagName("title")[0],(!C||C[Fn]||C[at]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=M.createElement(x),M.head.insertBefore(C,M.querySelector("head > title"))),Ya(C,x,p),C[at]=s,Me(C),x=C;break e;case"link":var k=r3("link","href",M).get(x+(p.href||""));if(k){for(var Y=0;Y<k.length;Y++)if(C=k[Y],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){k.splice(Y,1);break t}}C=M.createElement(x),Ya(C,x,p),M.head.appendChild(C);break;case"meta":if(k=r3("meta","content",M).get(x+(p.content||""))){for(Y=0;Y<k.length;Y++)if(C=k[Y],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){k.splice(Y,1);break t}}C=M.createElement(x),Ya(C,x,p),M.head.appendChild(C);break;default:throw Error(i(468,x))}C[at]=s,Me(C),x=C}s.stateNode=x}else s3(M,s.type,s.stateNode);else s.stateNode=a3(M,x,s.memoizedProps);else C!==x?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,x===null?s3(M,s.type,s.stateNode):a3(M,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Qr(s,s.memoizedProps,p.memoizedProps)}break;case 27:Ba(l,s),Li(s),x&512&&(bi||p===null||Or(p,p.return)),p!==null&&x&4&&Qr(s,s.memoizedProps,p.memoizedProps);break;case 5:if(Ba(l,s),Li(s),x&512&&(bi||p===null||Or(p,p.return)),s.flags&32){M=s.stateNode;try{ds(M,"")}catch(zt){ui(s,s.return,zt)}}x&4&&s.stateNode!=null&&(M=s.memoizedProps,Qr(s,M,p!==null?p.memoizedProps:M)),x&1024&&(No=!0);break;case 6:if(Ba(l,s),Li(s),x&4){if(s.stateNode===null)throw Error(i(162));x=s.memoizedProps,p=s.stateNode;try{p.nodeValue=x}catch(zt){ui(s,s.return,zt)}}break;case 3:if(cv=null,M=sr,sr=ov(l.containerInfo),Ba(l,s),sr=M,Li(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{up(l.containerInfo)}catch(zt){ui(s,s.return,zt)}No&&(No=!1,tv(s));break;case 4:x=sr,sr=ov(s.stateNode.containerInfo),Ba(l,s),Li(s),sr=x;break;case 12:Ba(l,s),Li(s);break;case 31:Ba(l,s),Li(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Ii(s,x)));break;case 13:Ba(l,s),Li(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Uo=j()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Ii(s,x)));break;case 22:M=s.memoizedState!==null;var se=p!==null&&p.memoizedState!==null,Te=$r,Pe=bi;if($r=Te||M,bi=Pe||se,Ba(l,s),bi=Pe,$r=Te,Li(s),x&8192)e:for(l=s.stateNode,l._visibility=M?l._visibility&-2:l._visibility|1,M&&(p===null||se||$r||bi||xc(s)),p=null,l=s;;){if(l.tag===5||l.tag===26){if(p===null){se=p=l;try{if(C=se.stateNode,M)k=C.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{Y=se.stateNode;var He=se.memoizedProps.style,Ce=He!=null&&He.hasOwnProperty("display")?He.display:null;Y.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(zt){ui(se,se.return,zt)}}}else if(l.tag===6){if(p===null){se=l;try{se.stateNode.nodeValue=M?"":se.memoizedProps}catch(zt){ui(se,se.return,zt)}}}else if(l.tag===18){if(p===null){se=l;try{var Le=se.stateNode;M?KA(Le,!0):KA(se.stateNode,!1)}catch(zt){ui(se,se.return,zt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=s.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,Ii(s,p))));break;case 19:Ba(l,s),Li(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Ii(s,x)));break;case 30:break;case 21:break;default:Ba(l,s),Li(s)}}function Li(s){var l=s.flags;if(l&2){try{for(var p,x=s.return;x!==null;){if(qi(x)){p=x;break}x=x.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var M=p.stateNode,C=Ys(s);qn(s,C,M);break;case 5:var k=p.stateNode;p.flags&32&&(ds(k,""),p.flags&=-33);var Y=Ys(s);qn(s,Y,k);break;case 3:case 4:var se=p.stateNode.containerInfo,Te=Ys(s);dn(s,Te,se);break;default:throw Error(i(161))}}catch(Pe){ui(s,s.return,Pe)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function tv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;tv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Do(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$y(s,l.alternate,l),l=l.sibling}function xc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Jr(4,l,l.return),xc(l);break;case 1:Or(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&W0(l,l.return,p),xc(l);break;case 27:Q0(l.stateNode);case 26:case 5:Or(l,l.return),xc(l);break;case 22:l.memoizedState===null&&xc(l);break;case 30:xc(l);break;default:xc(l)}s=s.sibling}}function Jn(s,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,M=s,C=l,k=C.flags;switch(C.tag){case 0:case 11:case 15:Jn(M,C,p),qs(4,C);break;case 1:if(Jn(M,C,p),x=C,M=x.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Te){ui(x,x.return,Te)}if(x=C,M=x.updateQueue,M!==null){var Y=x.stateNode;try{var se=M.shared.hiddenCallbacks;if(se!==null)for(M.shared.hiddenCallbacks=null,M=0;M<se.length;M++)Hs(se[M],Y)}catch(Te){ui(x,x.return,Te)}}p&&k&64&&Ml(C),Ws(C,C.return);break;case 27:Bi(C);case 26:case 5:Jn(M,C,p),p&&x===null&&k&4&&Lr(C),Ws(C,C.return);break;case 12:Jn(M,C,p);break;case 31:Jn(M,C,p),p&&k&4&&$h(M,C);break;case 13:Jn(M,C,p),p&&k&4&&Y0(M,C);break;case 22:C.memoizedState===null&&Jn(M,C,p),Ws(C,C.return);break;case 30:break;default:Jn(M,C,p)}l=l.sibling}}function ep(s,l){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&ba(p))}function Oo(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ba(s))}function aa(s,l,p,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ei(s,l,p,x),l=l.sibling}function Ei(s,l,p,x){var M=l.flags;switch(l.tag){case 0:case 11:case 15:aa(s,l,p,x),M&2048&&qs(9,l);break;case 1:aa(s,l,p,x);break;case 3:aa(s,l,p,x),M&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ba(s)));break;case 12:if(M&2048){aa(s,l,p,x),s=l.stateNode;try{var C=l.memoizedProps,k=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(k,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(se){ui(l,l.return,se)}}else aa(s,l,p,x);break;case 31:aa(s,l,p,x);break;case 13:aa(s,l,p,x);break;case 23:break;case 22:C=l.stateNode,k=l.alternate,l.memoizedState!==null?C._visibility&2?aa(s,l,p,x):Mu(s,l):C._visibility&2?aa(s,l,p,x):(C._visibility|=2,Tl(s,l,p,x,(l.subtreeFlags&10256)!==0||!1)),M&2048&&ep(k,l);break;case 24:aa(s,l,p,x),M&2048&&Oo(l.alternate,l);break;default:aa(s,l,p,x)}}function Tl(s,l,p,x,M){for(M=M&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=s,k=l,Y=p,se=x,Te=k.flags;switch(k.tag){case 0:case 11:case 15:Tl(C,k,Y,se,M),qs(8,k);break;case 23:break;case 22:var Pe=k.stateNode;k.memoizedState!==null?Pe._visibility&2?Tl(C,k,Y,se,M):Mu(C,k):(Pe._visibility|=2,Tl(C,k,Y,se,M)),M&&Te&2048&&ep(k.alternate,k);break;case 24:Tl(C,k,Y,se,M),M&&Te&2048&&Oo(k.alternate,k);break;default:Tl(C,k,Y,se,M)}l=l.sibling}}function Mu(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=s,x=l,M=x.flags;switch(x.tag){case 22:Mu(p,x),M&2048&&ep(x.alternate,x);break;case 24:Mu(p,x),M&2048&&Oo(x.alternate,x);break;default:Mu(p,x)}l=l.sibling}}var Ui=8192;function yc(s,l,p){if(s.subtreeFlags&Ui)for(s=s.child;s!==null;)Fi(s,l,p),s=s.sibling}function Fi(s,l,p){switch(s.tag){case 26:yc(s,l,p),s.flags&Ui&&s.memoizedState!==null&&yI(p,sr,s.memoizedState,s.memoizedProps);break;case 5:yc(s,l,p);break;case 3:case 4:var x=sr;sr=ov(s.stateNode.containerInfo),yc(s,l,p),sr=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Ui,Ui=16777216,yc(s,l,p),Ui=x):yc(s,l,p));break;default:yc(s,l,p)}}function or(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function qa(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var x=l[p];Oi=x,ld(x,s)}or(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vc(s),s=s.sibling}function vc(s){switch(s.tag){case 0:case 11:case 15:qa(s),s.flags&2048&&Jr(9,s,s.return);break;case 3:qa(s);break;case 12:qa(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,tp(s)):qa(s);break;default:qa(s)}}function tp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var x=l[p];Oi=x,ld(x,s)}or(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Jr(8,l,l.return),tp(l);break;case 22:p=l.stateNode,p._visibility&2&&(p._visibility&=-3,tp(l));break;default:tp(l)}s=s.sibling}}function ld(s,l){for(;Oi!==null;){var p=Oi;switch(p.tag){case 0:case 11:case 15:Jr(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:ba(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,Oi=x;else e:for(p=s;Oi!==null;){x=Oi;var M=x.sibling,C=x.return;if(Qh(x),x===p){Oi=null;break e}if(M!==null){M.return=C,Oi=M;break e}Oi=C}}}var np={getCacheForType:function(s){var l=da(qt),p=l.data.get(s);return p===void 0&&(p=s(),l.data.set(s,p)),p},cacheSignal:function(){return da(qt).controller.signal}},ip=typeof WeakMap=="function"?WeakMap:Map,zn=0,Qn=null,hn=null,On=0,Wt=0,En=null,cn=!1,vn=!1,oi=!1,Vi=0,$n=0,Ur=0,Lo=0,_s=0,Bn=0,Pr=0,Ss=null,Ia=null,lr=!1,Uo=0,Eu=0,zr=1/0,wu=null,Ks=null,wi=0,Ms=null,Br=null,es=0,Po=0,bc=null,ap=null,_c=0,Sc=null;function Wa(){return(zn&2)!==0&&On!==0?On&-On:H.T!==null?U1():Ct()}function u(){if(Bn===0)if((On&536870912)===0||Un){var s=nt;nt<<=1,(nt&3932160)===0&&(nt=262144),Bn=s}else Bn=536870912;return s=ia.current,s!==null&&(s.flags|=32),Bn}function h(s,l,p){(s===Qn&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&(xe(s,0),z(s,On,Bn,!1)),$i(s,p),((zn&2)===0||s!==Qn)&&(s===Qn&&((zn&2)===0&&(Lo|=p),$n===4&&z(s,On,Bn,!1)),Al(s))}function v(s,l,p){if((zn&6)!==0)throw Error(i(327));var x=!p&&(l&127)===0&&(l&s.expiredLanes)===0||St(s,l),M=x?Mc(s,l):cr(s,l,!0),C=x;do{if(M===0){vn&&!x&&z(s,l,0,!1);break}else{if(p=s.current.alternate,C&&!N(p)){M=cr(s,l,!1),C=!1;continue}if(M===2){if(C=l,s.errorRecoveryDisabledLanes&C)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var Y=s;M=Ss;var se=Y.current.memoizedState.isDehydrated;if(se&&(xe(Y,k).flags|=256),k=cr(Y,k,!1),k!==2){if(oi&&!se){Y.errorRecoveryDisabledLanes|=C,Lo|=C,M=4;break e}C=Ia,Ia=M,C!==null&&(Ia===null?Ia=C:Ia.push.apply(Ia,C))}M=k}if(C=!1,M!==2)continue}}if(M===1){xe(s,0),z(s,l,0,!0);break}e:{switch(x=s,C=M,C){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:z(x,l,Bn,!cn);break e;case 2:Ia=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(M=Uo+300-j(),10<M)){if(z(x,l,Bn,!cn),Ve(x,0,!0)!==0)break e;es=l,x.timeoutHandle=qA(w.bind(null,x,p,Ia,wu,lr,l,Bn,Lo,Pr,cn,C,"Throttled",-0,0),M);break e}w(x,p,Ia,wu,lr,l,Bn,Lo,Pr,cn,C,null,-0,0)}}break}while(!0);Al(s)}function w(s,l,p,x,M,C,k,Y,se,Te,Pe,He,Ce,Le){if(s.timeoutHandle=-1,He=l.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},Fi(l,C,He);var zt=(C&62914560)===C?Uo-j():(C&4194048)===C?Eu-j():0;if(zt=vI(He,zt),zt!==null){es=C,s.cancelPendingCommit=zt(nn.bind(null,s,l,C,p,x,M,k,Y,se,Pe,He,null,Ce,Le)),z(s,C,k,!Te);return}}nn(s,l,C,p,x,M,k,Y,se)}function N(s){for(var l=s;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var M=p[x],C=M.getSnapshot;M=M.value;try{if(!yi(C(),M))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function z(s,l,p,x){l&=~_s,l&=~Lo,s.suspendedLanes|=l,s.pingedLanes&=~l,x&&(s.warmLanes|=l),x=s.expirationTimes;for(var M=l;0<M;){var C=31-At(M),k=1<<C;x[C]=-1,M&=~k}p!==0&&ye(s,p,l)}function Z(){return(zn&6)===0?(K0(0),!1):!0}function re(){if(hn!==null){if(Wt===0)var s=hn.return;else s=hn,La=_o=null,w0(s),ml=null,gl=0,s=hn;for(;s!==null;)gc(s.alternate,s),s=s.return;hn=null}}function xe(s,l){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,tI(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),es=0,re(),Qn=s,hn=p=zs(s.current,null),On=l,Wt=0,En=null,cn=!1,vn=St(s,l),oi=!1,Pr=Bn=_s=Lo=Ur=$n=0,Ia=Ss=null,lr=!1,(l&8)!==0&&(l|=l&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=l;0<x;){var M=31-At(x),C=1<<M;l|=s[M],x&=~C}return Vi=l,ll(),p}function Be(s,l){tn=null,H.H=Zf,l===pl||l===xs?(l=Oh(),Wt=3):l===Vf?(l=Oh(),Wt=4):Wt=l===Kh?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,En=l,hn===null&&($n=1,Yh(s,er(l,s.current)))}function rt(){var s=ia.current;return s===null?!0:(On&4194048)===On?Yr===null:(On&62914560)===On||(On&536870912)!==0?s===Yr:!1}function xt(){var s=H.H;return H.H=Zf,s===null?Zf:s}function Et(){var s=H.A;return H.A=np,s}function on(){$n=4,cn||(On&4194048)!==On&&ia.current!==null||(vn=!0),(Ur&134217727)===0&&(Lo&134217727)===0||Qn===null||z(Qn,On,Bn,!1)}function cr(s,l,p){var x=zn;zn|=2;var M=xt(),C=Et();(Qn!==s||On!==l)&&(wu=null,xe(s,l)),l=!1;var k=$n;e:do try{if(Wt!==0&&hn!==null){var Y=hn,se=En;switch(Wt){case 8:re(),k=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(l=!0);var Te=Wt;if(Wt=0,En=null,et(s,Y,se,Te),p&&vn){k=0;break e}break;default:Te=Wt,Wt=0,En=null,et(s,Y,se,Te)}}cd(),k=$n;break}catch(Pe){Be(s,Pe)}while(!0);return l&&s.shellSuspendCounter++,La=_o=null,zn=x,H.H=M,H.A=C,hn===null&&(Qn=null,On=0,ll()),k}function cd(){for(;hn!==null;)me(hn)}function Mc(s,l){var p=zn;zn|=2;var x=xt(),M=Et();Qn!==s||On!==l?(wu=null,zr=j()+500,xe(s,l)):vn=St(s,l);e:do try{if(Wt!==0&&hn!==null){l=hn;var C=En;t:switch(Wt){case 1:Wt=0,En=null,et(s,l,C,1);break;case 2:case 9:if(Ty(C)){Wt=0,En=null,De(l);break}l=function(){Wt!==2&&Wt!==9||Qn!==s||(Wt=7),Al(s)},C.then(l,l);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:Ty(C)?(Wt=0,En=null,De(l)):(Wt=0,En=null,et(s,l,C,7));break;case 5:var k=null;switch(hn.tag){case 26:k=hn.memoizedState;case 5:case 27:var Y=hn;if(k?o3(k):Y.stateNode.complete){Wt=0,En=null;var se=Y.sibling;if(se!==null)hn=se;else{var Te=Y.return;Te!==null?(hn=Te,Xt(Te)):hn=null}break t}}Wt=0,En=null,et(s,l,C,5);break;case 6:Wt=0,En=null,et(s,l,C,6);break;case 8:re(),$n=6;break e;default:throw Error(i(462))}}Ae();break}catch(Pe){Be(s,Pe)}while(!0);return La=_o=null,H.H=x,H.A=M,zn=p,hn!==null?0:(Qn=null,On=0,ll(),$n)}function Ae(){for(;hn!==null&&!_t();)me(hn)}function me(s){var l=Zh(s.alternate,s,Vi);s.memoizedProps=s.pendingProps,l===null?Xt(s):hn=l}function De(s){var l=s,p=l.alternate;switch(l.tag){case 15:case 0:l=Pa(p,l,l.pendingProps,l.type,void 0,On);break;case 11:l=Pa(p,l,l.pendingProps,l.type.render,l.ref,On);break;case 5:w0(l);default:gc(p,l),l=hn=Oa(l,Vi),l=Zh(p,l,Vi)}s.memoizedProps=s.pendingProps,l===null?Xt(s):hn=l}function et(s,l,p,x){La=_o=null,w0(l),ml=null,gl=0;var M=l.return;try{if(Ar(s,M,l,p,On)){$n=1,Yh(s,er(p,s.current)),hn=null;return}}catch(C){if(M!==null)throw hn=M,C;$n=1,Yh(s,er(p,s.current)),hn=null;return}l.flags&32768?(Un||x===1?s=!0:vn||(On&536870912)!==0?s=!1:(cn=s=!0,(x===2||x===9||x===3||x===6)&&(x=ia.current,x!==null&&x.tag===13&&(x.flags|=16384))),hi(l,s)):Xt(l)}function Xt(s){var l=s;do{if((l.flags&32768)!==0){hi(l,cn);return}s=l.return;var p=q0(l.alternate,l,Vi);if(p!==null){hn=p;return}if(l=l.sibling,l!==null){hn=l;return}hn=l=s}while(l!==null);$n===0&&($n=5)}function hi(s,l){do{var p=Jh(s.alternate,s);if(p!==null){p.flags&=32767,hn=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(s=s.sibling,s!==null)){hn=s;return}hn=s=p}while(s!==null);$n=6,hn=null}function nn(s,l,p,x,M,C,k,Y,se){s.cancelPendingCommit=null;do rp();while(wi!==0);if((zn&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(C=l.lanes|l.childLanes,C|=Eh,ae(s,p,C,k,Y,se),s===Qn&&(hn=Qn=null,On=0),Br=l,Ms=s,es=p,Po=C,bc=M,ap=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,HB(Ne,function(){return RA(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=H.T,H.T=null,M=q.p,q.p=2,k=zn,zn|=4;try{Su(s,l,p)}finally{zn=k,q.p=M,H.T=x}}wi=1,jn(),ra(),Gn()}}function jn(){if(wi===1){wi=0;var s=Ms,l=Br,p=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var x=q.p;q.p=2;var M=zn;zn|=4;try{wl(l,s);var C=H1,k=vh(s.containerInfo),Y=C.focusedElem,se=C.selectionRange;if(k!==Y&&Y&&Y.ownerDocument&&yh(Y.ownerDocument.documentElement,Y)){if(se!==null&&tu(Y)){var Te=se.start,Pe=se.end;if(Pe===void 0&&(Pe=Te),"selectionStart"in Y)Y.selectionStart=Te,Y.selectionEnd=Math.min(Pe,Y.value.length);else{var He=Y.ownerDocument||document,Ce=He&&He.defaultView||window;if(Ce.getSelection){var Le=Ce.getSelection(),zt=Y.textContent.length,en=Math.min(se.start,zt),mi=se.end===void 0?en:Math.min(se.end,zt);!Le.extend&&en>mi&&(k=mi,mi=en,en=k);var ge=e0(Y,en),fe=e0(Y,mi);if(ge&&fe&&(Le.rangeCount!==1||Le.anchorNode!==ge.node||Le.anchorOffset!==ge.offset||Le.focusNode!==fe.node||Le.focusOffset!==fe.offset)){var we=He.createRange();we.setStart(ge.node,ge.offset),Le.removeAllRanges(),en>mi?(Le.addRange(we),Le.extend(fe.node,fe.offset)):(we.setEnd(fe.node,fe.offset),Le.addRange(we))}}}}for(He=[],Le=Y;Le=Le.parentNode;)Le.nodeType===1&&He.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<He.length;Y++){var Fe=He[Y];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}hv=!!k1,H1=k1=null}finally{zn=M,q.p=x,H.T=p}}s.current=l,wi=2}}function ra(){if(wi===2){wi=0;var s=Ms,l=Br,p=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var x=q.p;q.p=2;var M=zn;zn|=4;try{$y(s,l.alternate,l)}finally{zn=M,q.p=x,H.T=p}}wi=3}}function Gn(){if(wi===4||wi===3){wi=0,Q();var s=Ms,l=Br,p=es,x=ap;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?wi=5:(wi=0,Br=Ms=null,zo(s,s.pendingLanes));var M=s.pendingLanes;if(M===0&&(Ks=null),Ot(p),l=l.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ze,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=H.T,M=q.p,q.p=2,H.T=null;try{for(var C=s.onRecoverableError,k=0;k<x.length;k++){var Y=x[k];C(Y.value,{componentStack:Y.stack})}}finally{H.T=l,q.p=M}}(es&3)!==0&&rp(),Al(s),M=s.pendingLanes,(p&261930)!==0&&(M&42)!==0?s===Sc?_c++:(_c=0,Sc=s):_c=0,K0(0)}}function zo(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,ba(l)))}function rp(){return jn(),ra(),Gn(),RA()}function RA(){if(wi!==5)return!1;var s=Ms,l=Po;Po=0;var p=Ot(es),x=H.T,M=q.p;try{q.p=32>p?32:p,H.T=null,p=bc,bc=null;var C=Ms,k=es;if(wi=0,Br=Ms=null,es=0,(zn&6)!==0)throw Error(i(331));var Y=zn;if(zn|=4,vc(C.current),Ei(C,C.current,k,p),zn=Y,K0(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ze,C)}catch{}return!0}finally{q.p=M,H.T=x,zo(s,l)}}function NA(s,l,p){l=er(p,l),l=X0(s.stateNode,l,2),s=wo(s,l,2),s!==null&&($i(s,2),Al(s))}function ui(s,l,p){if(s.tag===3)NA(s,s,p);else for(;l!==null;){if(l.tag===3){NA(l,s,p);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ks===null||!Ks.has(x))){s=er(p,s),p=xu(2),x=wo(l,p,2),x!==null&&(ar(p,x,l,s),$i(x,2),Al(x));break}}l=l.return}}function D1(s,l,p){var x=s.pingCache;if(x===null){x=s.pingCache=new ip;var M=new Set;x.set(l,M)}else M=x.get(l),M===void 0&&(M=new Set,x.set(l,M));M.has(p)||(oi=!0,M.add(p),s=FB.bind(null,s,l,p),l.then(s,s))}function FB(s,l,p){var x=s.pingCache;x!==null&&x.delete(l),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Qn===s&&(On&p)===p&&($n===4||$n===3&&(On&62914560)===On&&300>j()-Uo?(zn&2)===0&&xe(s,0):_s|=p,Pr===On&&(Pr=0)),Al(s)}function DA(s,l){l===0&&(l=wn()),s=cl(s,l),s!==null&&($i(s,l),Al(s))}function VB(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),DA(s,p)}function kB(s,l){var p=0;switch(s.tag){case 31:case 13:var x=s.stateNode,M=s.memoizedState;M!==null&&(p=M.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(l),DA(s,p)}function HB(s,l){return dt(s,l)}var nv=null,sp=null,O1=!1,iv=!1,L1=!1,Tu=0;function Al(s){s!==sp&&s.next===null&&(sp===null?nv=sp=s:sp=sp.next=s),iv=!0,O1||(O1=!0,GB())}function K0(s,l){if(!L1&&iv){L1=!0;do for(var p=!1,x=nv;x!==null;){if(s!==0){var M=x.pendingLanes;if(M===0)var C=0;else{var k=x.suspendedLanes,Y=x.pingedLanes;C=(1<<31-At(42|s)+1)-1,C&=M&~(k&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,PA(x,C))}else C=On,C=Ve(x,x===Qn?C:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(C&3)===0||St(x,C)||(p=!0,PA(x,C));x=x.next}while(p);L1=!1}}function jB(){OA()}function OA(){iv=O1=!1;var s=0;Tu!==0&&eI()&&(s=Tu);for(var l=j(),p=null,x=nv;x!==null;){var M=x.next,C=LA(x,l);C===0?(x.next=null,p===null?nv=M:p.next=M,M===null&&(sp=p)):(p=x,(s!==0||(C&3)!==0)&&(iv=!0)),x=M}wi!==0&&wi!==5||K0(s),Tu!==0&&(Tu=0)}function LA(s,l){for(var p=s.suspendedLanes,x=s.pingedLanes,M=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var k=31-At(C),Y=1<<k,se=M[k];se===-1?((Y&p)===0||(Y&x)!==0)&&(M[k]=Kt(Y,l)):se<=l&&(s.expiredLanes|=Y),C&=~Y}if(l=Qn,p=On,p=Ve(s,s===l?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,p===0||s===l&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&st(x),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||St(s,p)){if(l=p&-p,l===s.callbackPriority)return l;switch(x!==null&&st(x),Ot(p)){case 2:case 8:p=Ie;break;case 32:p=Ne;break;case 268435456:p=ft;break;default:p=Ne}return x=UA.bind(null,s),p=dt(p,x),s.callbackPriority=l,s.callbackNode=p,l}return x!==null&&x!==null&&st(x),s.callbackPriority=2,s.callbackNode=null,2}function UA(s,l){if(wi!==0&&wi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(rp()&&s.callbackNode!==p)return null;var x=On;return x=Ve(s,s===Qn?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(v(s,x,l),LA(s,j()),s.callbackNode!=null&&s.callbackNode===p?UA.bind(null,s):null)}function PA(s,l){if(rp())return null;v(s,l,!0)}function GB(){nI(function(){(zn&6)!==0?dt(Ue,jB):OA()})}function U1(){if(Tu===0){var s=Eo;s===0&&(s=ut,ut<<=1,(ut&261888)===0&&(ut=256)),Tu=s}return Tu}function zA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_f(""+s)}function BA(s,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,s.id&&p.setAttribute("form",s.id),l.parentNode.insertBefore(p,l),s=new FormData(s),p.parentNode.removeChild(p),s}function XB(s,l,p,x,M){if(l==="submit"&&p&&p.stateNode===M){var C=zA((M[ht]||null).action),k=x.submitter;k&&(l=(l=k[ht]||null)?zA(l.formAction):k.getAttribute("formAction"),l!==null&&(C=l,k=null));var Y=new wf("action","action",null,x,M);s.push({event:Y,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Tu!==0){var se=k?BA(M,k):new FormData(M);V0(p,{pending:!0,data:se,method:M.method,action:C},null,se)}}else typeof C=="function"&&(Y.preventDefault(),se=k?BA(M,k):new FormData(M),V0(p,{pending:!0,data:se,method:M.method,action:C},C,se))},currentTarget:M}]})}}for(var P1=0;P1<Mh.length;P1++){var z1=Mh[P1],qB=z1.toLowerCase(),WB=z1[0].toUpperCase()+z1.slice(1);Da(qB,"on"+WB)}Da($a,"onAnimationEnd"),Da(t0,"onAnimationIteration"),Da(Ps,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(ru,"onTransitionRun"),Da(sl,"onTransitionStart"),Da(n0,"onTransitionCancel"),Da(Sh,"onTransitionEnd"),mt("onMouseEnter",["mouseout","mouseover"]),mt("onMouseLeave",["mouseout","mouseover"]),mt("onPointerEnter",["pointerout","pointerover"]),mt("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Z0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Z0));function IA(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],M=x.event;x=x.listeners;e:{var C=void 0;if(l)for(var k=x.length-1;0<=k;k--){var Y=x[k],se=Y.instance,Te=Y.currentTarget;if(Y=Y.listener,se!==C&&M.isPropagationStopped())break e;C=Y,M.currentTarget=Te;try{C(M)}catch(Pe){ol(Pe)}M.currentTarget=null,C=se}else for(k=0;k<x.length;k++){if(Y=x[k],se=Y.instance,Te=Y.currentTarget,Y=Y.listener,se!==C&&M.isPropagationStopped())break e;C=Y,M.currentTarget=Te;try{C(M)}catch(Pe){ol(Pe)}M.currentTarget=null,C=se}}}}function Pn(s,l){var p=l[fn];p===void 0&&(p=l[fn]=new Set);var x=s+"__bubble";p.has(x)||(FA(l,s,2,!1),p.add(x))}function B1(s,l,p){var x=0;l&&(x|=4),FA(p,s,x,l)}var av="_reactListening"+Math.random().toString(36).slice(2);function I1(s){if(!s[av]){s[av]=!0,he.forEach(function(p){p!=="selectionchange"&&(YB.has(p)||B1(p,!1,s),B1(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[av]||(l[av]=!0,B1("selectionchange",!1,l))}}function FA(s,l,p,x){switch(p3(l)){case 2:var M=SI;break;case 8:M=MI;break;default:M=$1}p=M.bind(null,l,p,s),M=void 0,!lh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(M=!0),x?M!==void 0?s.addEventListener(l,p,{capture:!0,passive:M}):s.addEventListener(l,p,!0):M!==void 0?s.addEventListener(l,p,{passive:M}):s.addEventListener(l,p,!1)}function F1(s,l,p,x,M){var C=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var k=x.tag;if(k===3||k===4){var Y=x.stateNode.containerInfo;if(Y===M)break;if(k===4)for(k=x.return;k!==null;){var se=k.tag;if((se===3||se===4)&&k.stateNode.containerInfo===M)return;k=k.return}for(;Y!==null;){if(k=ii(Y),k===null)return;if(se=k.tag,se===5||se===6||se===26||se===27){x=C=k;continue e}Y=Y.parentNode}}x=x.return}Bm(function(){var Te=C,Pe=sh(p),He=[];e:{var Ce=xo.get(s);if(Ce!==void 0){var Le=wf,zt=s;switch(s){case"keypress":if($l(p)===0)break e;case"keydown":case"keyup":Le=Gm;break;case"focusin":zt="focus",Le=hh;break;case"focusout":zt="blur",Le=hh;break;case"beforeblur":case"afterblur":Le=hh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=mo;break;case $a:case t0:case Ps:Le=oy;break;case Sh:Le=M1;break;case"scroll":case"scrollend":Le=fh;break;case"wheel":Le=el;break;case"copy":case"cut":case"paste":Le=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=ph;break;case"toggle":case"beforetoggle":Le=qm}var en=(l&4)!==0,mi=!en&&(s==="scroll"||s==="scrollend"),ge=en?Ce!==null?Ce+"Capture":null:Ce;en=[];for(var fe=Te,we;fe!==null;){var Fe=fe;if(we=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||we===null||ge===null||(Fe=Ql(fe,ge),Fe!=null&&en.push(J0(fe,Fe,we))),mi)break;fe=fe.return}0<en.length&&(Ce=new Le(Ce,zt,null,p,Pe),He.push({event:Ce,listeners:en}))}}if((l&7)===0){e:{if(Ce=s==="mouseover"||s==="pointerover",Le=s==="mouseout"||s==="pointerout",Ce&&p!==Sf&&(zt=p.relatedTarget||p.fromElement)&&(ii(zt)||zt[Rt]))break e;if((Le||Ce)&&(Ce=Pe.window===Pe?Pe:(Ce=Pe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Le?(zt=p.relatedTarget||p.toElement,Le=Te,zt=zt?ii(zt):null,zt!==null&&(mi=r(zt),en=zt.tag,zt!==mi||en!==5&&en!==27&&en!==6)&&(zt=null)):(Le=null,zt=Te),Le!==zt)){if(en=iy,Fe="onMouseLeave",ge="onMouseEnter",fe="mouse",(s==="pointerout"||s==="pointerover")&&(en=ph,Fe="onPointerLeave",ge="onPointerEnter",fe="pointer"),mi=Le==null?Ce:de(Le),we=zt==null?Ce:de(zt),Ce=new en(Fe,fe+"leave",Le,p,Pe),Ce.target=mi,Ce.relatedTarget=we,Fe=null,ii(Pe)===Te&&(en=new en(ge,fe+"enter",zt,p,Pe),en.target=we,en.relatedTarget=mi,Fe=en),mi=Fe,Le&&zt)t:{for(en=KB,ge=Le,fe=zt,we=0,Fe=ge;Fe;Fe=en(Fe))we++;Fe=0;for(var Jt=fe;Jt;Jt=en(Jt))Fe++;for(;0<we-Fe;)ge=en(ge),we--;for(;0<Fe-we;)fe=en(fe),Fe--;for(;we--;){if(ge===fe||fe!==null&&ge===fe.alternate){en=ge;break t}ge=en(ge),fe=en(fe)}en=null}else en=null;Le!==null&&VA(He,Ce,Le,en,!1),zt!==null&&mi!==null&&VA(He,mi,zt,en,!0)}}e:{if(Ce=Te?de(Te):window,Le=Ce.nodeName&&Ce.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Ce.type==="file")var ei=Jm;else if(Km(Ce))if(Df)ei=yy;else{ei=il;var jt=Of}else Le=Ce.nodeName,!Le||Le.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Te&&bf(Te.elementType)&&(ei=Jm):ei=xy;if(ei&&(ei=ei(s,Te))){xh(He,ei,p,Pe);break e}jt&&jt(s,Ce,Te),s==="focusout"&&Te&&Ce.type==="number"&&Te.memoizedProps.value!=null&&ea(Ce,"number",Ce.value)}switch(jt=Te?de(Te):window,s){case"focusin":(Km(jt)||jt.contentEditable==="true")&&(nu=jt,bh=Te,iu=null);break;case"focusout":iu=bh=nu=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,_h(He,p,Pe);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":_h(He,p,Pe)}var bn;if(ec)e:{switch(s){case"compositionstart":var In="onCompositionStart";break e;case"compositionend":In="onCompositionEnd";break e;case"compositionupdate":In="onCompositionUpdate";break e}In=void 0}else nl?mh(s,p)&&(In="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(In="onCompositionStart");In&&(va&&p.locale!=="ko"&&(nl||In!=="onCompositionStart"?In==="onCompositionEnd"&&nl&&(bn=uh()):(Jo=Pe,ch="value"in Jo?Jo.value:Jo.textContent,nl=!0)),jt=rv(Te,In),0<jt.length&&(In=new Vm(In,s,null,p,Pe),He.push({event:In,listeners:jt}),bn?In.data=bn:(bn=Zc(p),bn!==null&&(In.data=bn)))),(bn=tc?gh(s,p):py(s,p))&&(In=rv(Te,"onBeforeInput"),0<In.length&&(jt=new Vm("onBeforeInput","beforeinput",null,p,Pe),He.push({event:jt,listeners:In}),jt.data=bn)),XB(He,s,Te,p,Pe)}IA(He,l)})}function J0(s,l,p){return{instance:s,listener:l,currentTarget:p}}function rv(s,l){for(var p=l+"Capture",x=[];s!==null;){var M=s,C=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||C===null||(M=Ql(s,p),M!=null&&x.unshift(J0(s,M,C)),M=Ql(s,l),M!=null&&x.push(J0(s,M,C))),s.tag===3)return x;s=s.return}return[]}function KB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function VA(s,l,p,x,M){for(var C=l._reactName,k=[];p!==null&&p!==x;){var Y=p,se=Y.alternate,Te=Y.stateNode;if(Y=Y.tag,se!==null&&se===x)break;Y!==5&&Y!==26&&Y!==27||Te===null||(se=Te,M?(Te=Ql(p,C),Te!=null&&k.unshift(J0(p,Te,se))):M||(Te=Ql(p,C),Te!=null&&k.push(J0(p,Te,se)))),p=p.return}k.length!==0&&s.push({event:l,listeners:k})}var ZB=/\r\n?/g,JB=/\u0000|\uFFFD/g;function kA(s){return(typeof s=="string"?s:""+s).replace(ZB,`
`).replace(JB,"")}function HA(s,l){return l=kA(l),kA(s)===l}function pi(s,l,p,x,M,C){switch(p){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||ds(s,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&ds(s,""+x);break;case"className":yn(s,"class",x);break;case"tabIndex":yn(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(s,p,x);break;case"style":Pm(s,x,C);break;case"data":if(l!=="object"){yn(s,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||p!=="href")){s.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(p);break}x=_f(""+x),s.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(l!=="input"&&pi(s,l,"name",M.name,M,null),pi(s,l,"formEncType",M.formEncType,M,null),pi(s,l,"formMethod",M.formMethod,M,null),pi(s,l,"formTarget",M.formTarget,M,null)):(pi(s,l,"encType",M.encType,M,null),pi(s,l,"method",M.method,M,null),pi(s,l,"target",M.target,M,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(p);break}x=_f(""+x),s.setAttribute(p,x);break;case"onClick":x!=null&&(s.onclick=Ls);break;case"onScroll":x!=null&&Pn("scroll",s);break;case"onScrollEnd":x!=null&&Pn("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(p=x.__html,p!=null){if(M.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}p=_f(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,""+x):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":x===!0?s.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,x):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(p,x):s.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(p):s.setAttribute(p,x);break;case"popover":Pn("beforetoggle",s),Pn("toggle",s),It(s,"popover",x);break;case"xlinkActuate":An(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":An(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":An(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":An(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":An(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":An(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":An(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":An(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":An(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":It(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ty.get(p)||p,It(s,p,x))}}function V1(s,l,p,x,M,C){switch(p){case"style":Pm(s,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(p=x.__html,p!=null){if(M.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"children":typeof x=="string"?ds(s,x):(typeof x=="number"||typeof x=="bigint")&&ds(s,""+x);break;case"onScroll":x!=null&&Pn("scroll",s);break;case"onScrollEnd":x!=null&&Pn("scrollend",s);break;case"onClick":x!=null&&(s.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$e.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(M=p.endsWith("Capture"),l=p.slice(2,M?p.length-7:void 0),C=s[ht]||null,C=C!=null?C[p]:null,typeof C=="function"&&s.removeEventListener(l,C,M),typeof x=="function")){typeof C!="function"&&C!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(l,x,M);break e}p in s?s[p]=x:x===!0?s.setAttribute(p,""):It(s,p,x)}}}function Ya(s,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pn("error",s),Pn("load",s);var x=!1,M=!1,C;for(C in p)if(p.hasOwnProperty(C)){var k=p[C];if(k!=null)switch(C){case"src":x=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:pi(s,l,C,k,p,null)}}M&&pi(s,l,"srcSet",p.srcSet,p,null),x&&pi(s,l,"src",p.src,p,null);return;case"input":Pn("invalid",s);var Y=C=k=M=null,se=null,Te=null;for(x in p)if(p.hasOwnProperty(x)){var Pe=p[x];if(Pe!=null)switch(x){case"name":M=Pe;break;case"type":k=Pe;break;case"checked":se=Pe;break;case"defaultChecked":Te=Pe;break;case"value":C=Pe;break;case"defaultValue":Y=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,l));break;default:pi(s,l,x,Pe,p,null)}}ci(s,C,Y,se,Te,k,M,!1);return;case"select":Pn("invalid",s),x=k=C=null;for(M in p)if(p.hasOwnProperty(M)&&(Y=p[M],Y!=null))switch(M){case"value":C=Y;break;case"defaultValue":k=Y;break;case"multiple":x=Y;default:pi(s,l,M,Y,p,null)}l=C,p=k,s.multiple=!!x,l!=null?ta(s,!!x,l,!1):p!=null&&ta(s,!!x,p,!0);return;case"textarea":Pn("invalid",s),C=M=x=null;for(k in p)if(p.hasOwnProperty(k)&&(Y=p[k],Y!=null))switch(k){case"value":x=Y;break;case"defaultValue":M=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:pi(s,l,k,Y,p,null)}Ci(s,x,M,C);return;case"option":for(se in p)if(p.hasOwnProperty(se)&&(x=p[se],x!=null))switch(se){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:pi(s,l,se,x,p,null)}return;case"dialog":Pn("beforetoggle",s),Pn("toggle",s),Pn("cancel",s),Pn("close",s);break;case"iframe":case"object":Pn("load",s);break;case"video":case"audio":for(x=0;x<Z0.length;x++)Pn(Z0[x],s);break;case"image":Pn("error",s),Pn("load",s);break;case"details":Pn("toggle",s);break;case"embed":case"source":case"link":Pn("error",s),Pn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in p)if(p.hasOwnProperty(Te)&&(x=p[Te],x!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:pi(s,l,Te,x,p,null)}return;default:if(bf(l)){for(Pe in p)p.hasOwnProperty(Pe)&&(x=p[Pe],x!==void 0&&V1(s,l,Pe,x,p,void 0));return}}for(Y in p)p.hasOwnProperty(Y)&&(x=p[Y],x!=null&&pi(s,l,Y,x,p,null))}function QB(s,l,p,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,C=null,k=null,Y=null,se=null,Te=null,Pe=null;for(Le in p){var He=p[Le];if(p.hasOwnProperty(Le)&&He!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":se=He;default:x.hasOwnProperty(Le)||pi(s,l,Le,null,x,He)}}for(var Ce in x){var Le=x[Ce];if(He=p[Ce],x.hasOwnProperty(Ce)&&(Le!=null||He!=null))switch(Ce){case"type":C=Le;break;case"name":M=Le;break;case"checked":Te=Le;break;case"defaultChecked":Pe=Le;break;case"value":k=Le;break;case"defaultValue":Y=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,l));break;default:Le!==He&&pi(s,l,Ce,Le,x,He)}}Os(s,k,Y,se,Te,Pe,C,M);return;case"select":Le=k=Y=Ce=null;for(C in p)if(se=p[C],p.hasOwnProperty(C)&&se!=null)switch(C){case"value":break;case"multiple":Le=se;default:x.hasOwnProperty(C)||pi(s,l,C,null,x,se)}for(M in x)if(C=x[M],se=p[M],x.hasOwnProperty(M)&&(C!=null||se!=null))switch(M){case"value":Ce=C;break;case"defaultValue":Y=C;break;case"multiple":k=C;default:C!==se&&pi(s,l,M,C,x,se)}l=Y,p=k,x=Le,Ce!=null?ta(s,!!p,Ce,!1):!!x!=!!p&&(l!=null?ta(s,!!p,l,!0):ta(s,!!p,p?[]:"",!1));return;case"textarea":Le=Ce=null;for(Y in p)if(M=p[Y],p.hasOwnProperty(Y)&&M!=null&&!x.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:pi(s,l,Y,null,x,M)}for(k in x)if(M=x[k],C=p[k],x.hasOwnProperty(k)&&(M!=null||C!=null))switch(k){case"value":Ce=M;break;case"defaultValue":Le=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:M!==C&&pi(s,l,k,M,x,C)}na(s,Ce,Le);return;case"option":for(var zt in p)if(Ce=p[zt],p.hasOwnProperty(zt)&&Ce!=null&&!x.hasOwnProperty(zt))switch(zt){case"selected":s.selected=!1;break;default:pi(s,l,zt,null,x,Ce)}for(se in x)if(Ce=x[se],Le=p[se],x.hasOwnProperty(se)&&Ce!==Le&&(Ce!=null||Le!=null))switch(se){case"selected":s.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:pi(s,l,se,Ce,x,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var en in p)Ce=p[en],p.hasOwnProperty(en)&&Ce!=null&&!x.hasOwnProperty(en)&&pi(s,l,en,null,x,Ce);for(Te in x)if(Ce=x[Te],Le=p[Te],x.hasOwnProperty(Te)&&Ce!==Le&&(Ce!=null||Le!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,l));break;default:pi(s,l,Te,Ce,x,Le)}return;default:if(bf(l)){for(var mi in p)Ce=p[mi],p.hasOwnProperty(mi)&&Ce!==void 0&&!x.hasOwnProperty(mi)&&V1(s,l,mi,void 0,x,Ce);for(Pe in x)Ce=x[Pe],Le=p[Pe],!x.hasOwnProperty(Pe)||Ce===Le||Ce===void 0&&Le===void 0||V1(s,l,Pe,Ce,x,Le);return}}for(var ge in p)Ce=p[ge],p.hasOwnProperty(ge)&&Ce!=null&&!x.hasOwnProperty(ge)&&pi(s,l,ge,null,x,Ce);for(He in x)Ce=x[He],Le=p[He],!x.hasOwnProperty(He)||Ce===Le||Ce==null&&Le==null||pi(s,l,He,Ce,x,Le)}function jA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $B(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var M=p[x],C=M.transferSize,k=M.initiatorType,Y=M.duration;if(C&&Y&&jA(k)){for(k=0,Y=M.responseEnd,x+=1;x<p.length;x++){var se=p[x],Te=se.startTime;if(Te>Y)break;var Pe=se.transferSize,He=se.initiatorType;Pe&&jA(He)&&(se=se.responseEnd,k+=Pe*(se<Y?1:(Y-Te)/(se-Te)))}if(--x,l+=8*(C+k)/(M.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var k1=null,H1=null;function sv(s){return s.nodeType===9?s:s.ownerDocument}function GA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XA(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function j1(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var G1=null;function eI(){var s=window.event;return s&&s.type==="popstate"?s===G1?!1:(G1=s,!0):(G1=null,!1)}var qA=typeof setTimeout=="function"?setTimeout:void 0,tI=typeof clearTimeout=="function"?clearTimeout:void 0,WA=typeof Promise=="function"?Promise:void 0,nI=typeof queueMicrotask=="function"?queueMicrotask:typeof WA<"u"?function(s){return WA.resolve(null).then(s).catch(iI)}:qA;function iI(s){setTimeout(function(){throw s})}function Au(s){return s==="head"}function YA(s,l){var p=l,x=0;do{var M=p.nextSibling;if(s.removeChild(p),M&&M.nodeType===8)if(p=M.data,p==="/$"||p==="/&"){if(x===0){s.removeChild(M),up(l);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")Q0(s.ownerDocument.documentElement);else if(p==="head"){p=s.ownerDocument.head,Q0(p);for(var C=p.firstChild;C;){var k=C.nextSibling,Y=C.nodeName;C[Fn]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=k}}else p==="body"&&Q0(s.ownerDocument.body);p=M}while(p);up(l)}function KA(s,l){var p=s;s=0;do{var x=p.nextSibling;if(p.nodeType===1?l?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(l?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(s===0)break;s--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||s++;p=x}while(p)}function X1(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":X1(p),Vn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function aI(s,l,p,x){for(;s.nodeType===1;){var M=p;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[Fn])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==M.rel||s.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||s.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||s.getAttribute("title")!==(M.title==null?null:M.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(M.src==null?null:M.src)||s.getAttribute("type")!==(M.type==null?null:M.type)||s.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var C=M.name==null?null:""+M.name;if(M.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=Zs(s.nextSibling),s===null)break}return null}function rI(s,l,p){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=Zs(s.nextSibling),s===null))return null;return s}function ZA(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zs(s.nextSibling),s===null))return null;return s}function q1(s){return s.data==="$?"||s.data==="$~"}function W1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function sI(s,l){var p=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||p.readyState!=="loading")l();else{var x=function(){l(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function Zs(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Y1=null;function JA(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"||p==="/&"){if(l===0)return Zs(s.nextSibling);l--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||l++}s=s.nextSibling}return null}function QA(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(l===0)return s;l--}else p!=="/$"&&p!=="/&"||l++}s=s.previousSibling}return null}function $A(s,l,p){switch(l=sv(p),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Q0(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Vn(s)}var Js=new Map,e3=new Set;function ov(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ec=q.d;q.d={f:oI,r:lI,D:cI,C:uI,L:fI,m:dI,X:pI,S:hI,M:mI};function oI(){var s=Ec.f(),l=Z();return s||l}function lI(s){var l=X(s);l!==null&&l.tag===5&&l.type==="form"?k0(l):Ec.r(s)}var op=typeof document>"u"?null:document;function t3(s,l,p){var x=op;if(x&&typeof l=="string"&&l){var M=li(l);M='link[rel="'+s+'"][href="'+M+'"]',typeof p=="string"&&(M+='[crossorigin="'+p+'"]'),e3.has(M)||(e3.add(M),s={rel:s,crossOrigin:p,href:l},x.querySelector(M)===null&&(l=x.createElement("link"),Ya(l,"link",s),Me(l),x.head.appendChild(l)))}}function cI(s){Ec.D(s),t3("dns-prefetch",s,null)}function uI(s,l){Ec.C(s,l),t3("preconnect",s,l)}function fI(s,l,p){Ec.L(s,l,p);var x=op;if(x&&s&&l){var M='link[rel="preload"][as="'+li(l)+'"]';l==="image"&&p&&p.imageSrcSet?(M+='[imagesrcset="'+li(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(M+='[imagesizes="'+li(p.imageSizes)+'"]')):M+='[href="'+li(s)+'"]';var C=M;switch(l){case"style":C=lp(s);break;case"script":C=cp(s)}Js.has(C)||(s=g({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:s,as:l},p),Js.set(C,s),x.querySelector(M)!==null||l==="style"&&x.querySelector($0(C))||l==="script"&&x.querySelector(eg(C))||(l=x.createElement("link"),Ya(l,"link",s),Me(l),x.head.appendChild(l)))}}function dI(s,l){Ec.m(s,l);var p=op;if(p&&s){var x=l&&typeof l.as=="string"?l.as:"script",M='link[rel="modulepreload"][as="'+li(x)+'"][href="'+li(s)+'"]',C=M;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=cp(s)}if(!Js.has(C)&&(s=g({rel:"modulepreload",href:s},l),Js.set(C,s),p.querySelector(M)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(eg(C)))return}x=p.createElement("link"),Ya(x,"link",s),Me(x),p.head.appendChild(x)}}}function hI(s,l,p){Ec.S(s,l,p);var x=op;if(x&&s){var M=Ee(x).hoistableStyles,C=lp(s);l=l||"default";var k=M.get(C);if(!k){var Y={loading:0,preload:null};if(k=x.querySelector($0(C)))Y.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},p),(p=Js.get(C))&&K1(s,p);var se=k=x.createElement("link");Me(se),Ya(se,"link",s),se._p=new Promise(function(Te,Pe){se.onload=Te,se.onerror=Pe}),se.addEventListener("load",function(){Y.loading|=1}),se.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,lv(k,l,x)}k={type:"stylesheet",instance:k,count:1,state:Y},M.set(C,k)}}}function pI(s,l){Ec.X(s,l);var p=op;if(p&&s){var x=Ee(p).hoistableScripts,M=cp(s),C=x.get(M);C||(C=p.querySelector(eg(M)),C||(s=g({src:s,async:!0},l),(l=Js.get(M))&&Z1(s,l),C=p.createElement("script"),Me(C),Ya(C,"link",s),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(M,C))}}function mI(s,l){Ec.M(s,l);var p=op;if(p&&s){var x=Ee(p).hoistableScripts,M=cp(s),C=x.get(M);C||(C=p.querySelector(eg(M)),C||(s=g({src:s,async:!0,type:"module"},l),(l=Js.get(M))&&Z1(s,l),C=p.createElement("script"),Me(C),Ya(C,"link",s),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(M,C))}}function n3(s,l,p,x){var M=(M=ve.current)?ov(M):null;if(!M)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=lp(p.href),p=Ee(M).hoistableStyles,x=p.get(l),x||(x={type:"style",instance:null,count:0,state:null},p.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=lp(p.href);var C=Ee(M).hoistableStyles,k=C.get(s);if(k||(M=M.ownerDocument||M,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,k),(C=M.querySelector($0(s)))&&!C._p&&(k.instance=C,k.state.loading=5),Js.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Js.set(s,p),C||gI(M,s,p,k.state))),l&&x===null)throw Error(i(528,""));return k}if(l&&x!==null)throw Error(i(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=cp(p),p=Ee(M).hoistableScripts,x=p.get(l),x||(x={type:"script",instance:null,count:0,state:null},p.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function lp(s){return'href="'+li(s)+'"'}function $0(s){return'link[rel="stylesheet"]['+s+"]"}function i3(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function gI(s,l,p,x){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=s.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),Ya(l,"link",p),Me(l),s.head.appendChild(l))}function cp(s){return'[src="'+li(s)+'"]'}function eg(s){return"script[async]"+s}function a3(s,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var x=s.querySelector('style[data-href~="'+li(p.href)+'"]');if(x)return l.instance=x,Me(x),x;var M=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),Me(x),Ya(x,"style",M),lv(x,p.precedence,s),l.instance=x;case"stylesheet":M=lp(p.href);var C=s.querySelector($0(M));if(C)return l.state.loading|=4,l.instance=C,Me(C),C;x=i3(p),(M=Js.get(M))&&K1(x,M),C=(s.ownerDocument||s).createElement("link"),Me(C);var k=C;return k._p=new Promise(function(Y,se){k.onload=Y,k.onerror=se}),Ya(C,"link",x),l.state.loading|=4,lv(C,p.precedence,s),l.instance=C;case"script":return C=cp(p.src),(M=s.querySelector(eg(C)))?(l.instance=M,Me(M),M):(x=p,(M=Js.get(C))&&(x=g({},p),Z1(x,M)),s=s.ownerDocument||s,M=s.createElement("script"),Me(M),Ya(M,"link",x),s.head.appendChild(M),l.instance=M);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,lv(x,p.precedence,s));return l.instance}function lv(s,l,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=x.length?x[x.length-1]:null,C=M,k=0;k<x.length;k++){var Y=x[k];if(Y.dataset.precedence===l)C=Y;else if(C!==M)break}C?C.parentNode.insertBefore(s,C.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(s,l.firstChild))}function K1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Z1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var cv=null;function r3(s,l,p){if(cv===null){var x=new Map,M=cv=new Map;M.set(p,x)}else M=cv,x=M.get(p),x||(x=new Map,M.set(p,x));if(x.has(s))return x;for(x.set(s,null),p=p.getElementsByTagName(s),M=0;M<p.length;M++){var C=p[M];if(!(C[Fn]||C[at]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var k=C.getAttribute(l)||"";k=s+k;var Y=x.get(k);Y?Y.push(C):x.set(k,[C])}}return x}function s3(s,l,p){s=s.ownerDocument||s,s.head.insertBefore(p,l==="title"?s.querySelector("head > title"):null)}function xI(s,l,p){if(p===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function o3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yI(s,l,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var M=lp(x.href),C=l.querySelector($0(M));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=uv.bind(s),l.then(s,s)),p.state.loading|=4,p.instance=C,Me(C);return}C=l.ownerDocument||l,x=i3(x),(M=Js.get(M))&&K1(x,M),C=C.createElement("link"),Me(C);var k=C;k._p=new Promise(function(Y,se){k.onload=Y,k.onerror=se}),Ya(C,"link",x),p.instance=C}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(p,l),(l=p.state.preload)&&(p.state.loading&3)===0&&(s.count++,p=uv.bind(s),l.addEventListener("load",p),l.addEventListener("error",p))}}var J1=0;function vI(s,l){return s.stylesheets&&s.count===0&&dv(s,s.stylesheets),0<s.count||0<s.imgCount?function(p){var x=setTimeout(function(){if(s.stylesheets&&dv(s,s.stylesheets),s.unsuspend){var C=s.unsuspend;s.unsuspend=null,C()}},6e4+l);0<s.imgBytes&&J1===0&&(J1=62500*$B());var M=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&dv(s,s.stylesheets),s.unsuspend)){var C=s.unsuspend;s.unsuspend=null,C()}},(s.imgBytes>J1?50:800)+l);return s.unsuspend=p,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(M)}}:null}function uv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fv=null;function dv(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fv=new Map,l.forEach(bI,s),fv=null,uv.call(s))}function bI(s,l){if(!(l.state.loading&4)){var p=fv.get(s);if(p)var x=p.get(null);else{p=new Map,fv.set(s,p);for(var M=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<M.length;C++){var k=M[C];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(p.set(k.dataset.precedence,k),x=k)}x&&p.set(null,x)}M=l.instance,k=M.getAttribute("data-precedence"),C=p.get(k)||x,C===x&&p.set(null,M),p.set(k,M),this.count++,x=uv.bind(this),M.addEventListener("load",x),M.addEventListener("error",x),C?C.parentNode.insertBefore(M,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(M,s.firstChild)),l.state.loading|=4}}var tg={$$typeof:D,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function _I(s,l,p,x,M,C,k,Y,se){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=x,this.onUncaughtError=M,this.onCaughtError=C,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function l3(s,l,p,x,M,C,k,Y,se,Te,Pe,He){return s=new _I(s,l,p,k,se,Te,Pe,He,Y),l=1,C===!0&&(l|=24),C=Ha(3,null,null,l),s.current=C,C.stateNode=s,l=c0(),l.refCount++,s.pooledCache=l,l.refCount++,C.memoizedState={element:x,isDehydrated:p,cache:l},m0(C),s}function c3(s){return s?(s=ul,s):ul}function u3(s,l,p,x,M,C){M=c3(M),x.context===null?x.context=M:x.pendingContext=M,x=ks(l),x.payload={element:p},C=C===void 0?null:C,C!==null&&(x.callback=C),p=wo(s,x,l),p!==null&&(h(p,s,l),yl(p,s,l))}function f3(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function Q1(s,l){f3(s,l),(s=s.alternate)&&f3(s,l)}function d3(s){if(s.tag===13||s.tag===31){var l=cl(s,67108864);l!==null&&h(l,s,67108864),Q1(s,67108864)}}function h3(s){if(s.tag===13||s.tag===31){var l=Wa();l=tt(l);var p=cl(s,l);p!==null&&h(p,s,l),Q1(s,l)}}var hv=!0;function SI(s,l,p,x){var M=H.T;H.T=null;var C=q.p;try{q.p=2,$1(s,l,p,x)}finally{q.p=C,H.T=M}}function MI(s,l,p,x){var M=H.T;H.T=null;var C=q.p;try{q.p=8,$1(s,l,p,x)}finally{q.p=C,H.T=M}}function $1(s,l,p,x){if(hv){var M=eM(x);if(M===null)F1(s,l,x,pv,p),m3(s,x);else if(wI(M,s,l,p,x))x.stopPropagation();else if(m3(s,x),l&4&&-1<EI.indexOf(s)){for(;M!==null;){var C=X(M);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var k=We(C.pendingLanes);if(k!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;k;){var se=1<<31-At(k);Y.entanglements[1]|=se,k&=~se}Al(C),(zn&6)===0&&(zr=j()+500,K0(0))}}break;case 31:case 13:Y=cl(C,2),Y!==null&&h(Y,C,2),Z(),Q1(C,2)}if(C=eM(x),C===null&&F1(s,l,x,pv,p),C===M)break;M=C}M!==null&&x.stopPropagation()}else F1(s,l,x,null,p)}}function eM(s){return s=sh(s),tM(s)}var pv=null;function tM(s){if(pv=null,s=ii(s),s!==null){var l=r(s);if(l===null)s=null;else{var p=l.tag;if(p===13){if(s=o(l),s!==null)return s;s=null}else if(p===31){if(s=c(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return pv=s,null}function p3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ue:return 2;case Ie:return 8;case Ne:case Lt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var nM=!1,Cu=null,Ru=null,Nu=null,ng=new Map,ig=new Map,Du=[],EI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m3(s,l){switch(s){case"focusin":case"focusout":Cu=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":ng.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ig.delete(l.pointerId)}}function ag(s,l,p,x,M,C){return s===null||s.nativeEvent!==C?(s={blockedOn:l,domEventName:p,eventSystemFlags:x,nativeEvent:C,targetContainers:[M]},l!==null&&(l=X(l),l!==null&&d3(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,M!==null&&l.indexOf(M)===-1&&l.push(M),s)}function wI(s,l,p,x,M){switch(l){case"focusin":return Cu=ag(Cu,s,l,p,x,M),!0;case"dragenter":return Ru=ag(Ru,s,l,p,x,M),!0;case"mouseover":return Nu=ag(Nu,s,l,p,x,M),!0;case"pointerover":var C=M.pointerId;return ng.set(C,ag(ng.get(C)||null,s,l,p,x,M)),!0;case"gotpointercapture":return C=M.pointerId,ig.set(C,ag(ig.get(C)||null,s,l,p,x,M)),!0}return!1}function g3(s){var l=ii(s.target);if(l!==null){var p=r(l);if(p!==null){if(l=p.tag,l===13){if(l=o(p),l!==null){s.blockedOn=l,bt(s.priority,function(){h3(p)});return}}else if(l===31){if(l=c(p),l!==null){s.blockedOn=l,bt(s.priority,function(){h3(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mv(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=eM(s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);Sf=x,p.target.dispatchEvent(x),Sf=null}else return l=X(p),l!==null&&d3(l),s.blockedOn=p,!1;l.shift()}return!0}function x3(s,l,p){mv(s)&&p.delete(l)}function TI(){nM=!1,Cu!==null&&mv(Cu)&&(Cu=null),Ru!==null&&mv(Ru)&&(Ru=null),Nu!==null&&mv(Nu)&&(Nu=null),ng.forEach(x3),ig.forEach(x3)}function gv(s,l){s.blockedOn===l&&(s.blockedOn=null,nM||(nM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,TI)))}var xv=null;function y3(s){xv!==s&&(xv=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xv===s&&(xv=null);for(var l=0;l<s.length;l+=3){var p=s[l],x=s[l+1],M=s[l+2];if(typeof x!="function"){if(tM(x||p)===null)continue;break}var C=X(p);C!==null&&(s.splice(l,3),l-=3,V0(C,{pending:!0,data:M,method:p.method,action:x},x,M))}}))}function up(s){function l(se){return gv(se,s)}Cu!==null&&gv(Cu,s),Ru!==null&&gv(Ru,s),Nu!==null&&gv(Nu,s),ng.forEach(l),ig.forEach(l);for(var p=0;p<Du.length;p++){var x=Du[p];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Du.length&&(p=Du[0],p.blockedOn===null);)g3(p),p.blockedOn===null&&Du.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var M=p[x],C=p[x+1],k=M[ht]||null;if(typeof C=="function")k||y3(p);else if(k){var Y=null;if(C&&C.hasAttribute("formAction")){if(M=C,k=C[ht]||null)Y=k.formAction;else if(tM(M)!==null)continue}else Y=k.action;typeof Y=="function"?p[x+1]=Y:(p.splice(x,3),x-=3),y3(p)}}}function v3(){function s(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(k){return M=k})},focusReset:"manual",scroll:"manual"})}function l(){M!==null&&(M(),M=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,M=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),M!==null&&(M(),M=null)}}}function iM(s){this._internalRoot=s}yv.prototype.render=iM.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var p=l.current,x=Wa();u3(p,x,s,l,null,null)},yv.prototype.unmount=iM.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;u3(s.current,2,null,s,null,null),Z(),l[Rt]=null}};function yv(s){this._internalRoot=s}yv.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ct();s={blockedOn:null,target:s,priority:l};for(var p=0;p<Du.length&&l!==0&&l<Du[p].priority;p++);Du.splice(p,0,s),p===0&&g3(s)}};var b3=e.version;if(b3!=="19.2.0")throw Error(i(527,b3,"19.2.0"));q.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var AI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vv.isDisabled&&vv.supportsFiber)try{ze=vv.inject(AI),qe=vv}catch{}}return sg.createRoot=function(s,l){if(!a(s))throw Error(i(299));var p=!1,x="",M=G0,C=Jy,k=Wh;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(M=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=l3(s,1,!1,null,null,p,x,null,M,C,k,v3),s[Rt]=l.current,I1(s),new iM(l)},sg.hydrateRoot=function(s,l,p){if(!a(s))throw Error(i(299));var x=!1,M="",C=G0,k=Jy,Y=Wh,se=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(k=p.onCaughtError),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError),p.formState!==void 0&&(se=p.formState)),l=l3(s,1,!0,l,p??null,x,M,se,C,k,Y,v3),l.context=c3(null),p=l.current,x=Wa(),x=tt(x),M=ks(x),M.callback=null,wo(p,M,x),p=x,l.current.lanes=p,$i(l,p),Al(l),s[Rt]=l.current,I1(s),new yv(l)},sg.version="19.2.0",sg}var N3;function BI(){if(N3)return sM.exports;N3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sM.exports=zI(),sM.exports}var II=BI();var _O=n=>{throw TypeError(n)},FI=(n,e,t)=>e.has(n)||_O("Cannot "+t),uM=(n,e,t)=>(FI(n,e,"read from private field"),t?t.call(n):e.get(n)),VI=(n,e,t)=>e.has(n)?_O("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),D3="popstate";function kI(n={}){function e(i,a){let{pathname:r,search:o,hash:c}=i.location;return Kg("",{pathname:r,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:jl(a)}return jI(e,t,null,n)}function Ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ga(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HI(){return Math.random().toString(36).substring(2,10)}function O3(n,e){return{usr:n.state,key:n.key,idx:e}}function Kg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lf(e):e,state:t,key:e&&e.key||i||HI()}}function jl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function jI(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,o=a.history,c="POP",f=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let E=m(),S=E==null?null:E-d;d=E,f&&f({action:c,location:T.location,delta:S})}function y(E,S){c="PUSH";let R=Kg(T.location,E,S);d=m()+1;let D=O3(R,d),U=T.createHref(R);try{o.pushState(D,"",U)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(U)}r&&f&&f({action:c,location:T.location,delta:1})}function b(E,S){c="REPLACE";let R=Kg(T.location,E,S);d=m();let D=O3(R,d),U=T.createHref(R);o.replaceState(D,"",U),r&&f&&f({action:c,location:T.location,delta:0})}function _(E){return SO(E)}let T={get action(){return c},get location(){return n(a,o)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(D3,g),f=E,()=>{a.removeEventListener(D3,g),f=null}},createHref(E){return e(a,E)},createURL:_,encodeLocation(E){let S=_(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:b,go(E){return o.go(E)}};return T}function SO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ln(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:jl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Cg,L3=class{constructor(n){if(VI(this,Cg,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(uM(this,Cg).has(n))return uM(this,Cg).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){uM(this,Cg).set(n,e)}};Cg=new WeakMap;var GI=new Set(["lazy","caseSensitive","path","id","index","children"]);function XI(n){return GI.has(n)}var qI=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function WI(n){return qI.has(n)}function YI(n){return n.index===!0}function Zg(n,e,t=[],i={},a=!1){return n.map((r,o)=>{let c=[...t,String(o)],f=typeof r.id=="string"?r.id:c.join("-");if(Ln(r.index!==!0||!r.children,"Cannot specify children on an index route"),Ln(a||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),YI(r)){let d={...r,id:f};return i[f]=U3(d,e(d)),d}else{let d={...r,id:f,children:void 0};return i[f]=U3(d,e(d)),r.children&&(d.children=Zg(r.children,e,c,i,a)),d}})}function U3(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Gu(n,e,t="/"){return Nb(n,e,t,!1)}function Nb(n,e,t,i){let a=typeof e=="string"?lf(e):e,r=lo(a.pathname||"/",t);if(r==null)return null;let o=MO(n);ZI(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let d=oF(r);c=rF(o[f],d,i)}return c}function KI(n,e){let{route:t,pathname:i,params:a}=n;return{id:t.id,pathname:i,params:a,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function MO(n,e=[],t=[],i="",a=!1){let r=(o,c,f=a,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;Ln(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let g=Bl([i,m.relativePath]),y=t.concat(m);o.children&&o.children.length>0&&(Ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),MO(o.children,e,y,g,f)),!(o.path==null&&!o.index)&&e.push({path:g,score:iF(g,o.index),routesMeta:y})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let f of EO(o.path))r(o,c,!0,f)}),e}function EO(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let o=EO(i.join("/")),c=[];return c.push(...o.map(f=>f===""?r:[r,f].join("/"))),a&&c.push(...o),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function ZI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aF(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var JI=/^:[\w-]+$/,QI=3,$I=2,eF=1,tF=10,nF=-2,P3=n=>n==="*";function iF(n,e){let t=n.split("/"),i=t.length;return t.some(P3)&&(i+=nF),e&&(i+=$I),t.filter(a=>!P3(a)).reduce((a,r)=>a+(JI.test(r)?QI:r===""?eF:tF),i)}function aF(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function rF(n,e,t=!1){let{routesMeta:i}=n,a={},r="/",o=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,m=r==="/"?e:e.slice(r.length)||"/",g=Jb({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),y=f.route;if(!g&&d&&t&&!i[i.length-1].route.index&&(g=Jb({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:Bl([r,g.pathname]),pathnameBase:fF(Bl([r,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(r=Bl([r,g.pathnameBase]))}return o}function Jb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=sF(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let r=a[0],o=r.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:g},y)=>{if(m==="*"){let _=c[y]||"";o=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const b=c[y];return g&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:n}}function sF(n,e=!1,t=!0){ga(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function oF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ga(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function lF({basename:n,pathname:e}){return e==="/"?n:Bl([n,e])}function cF(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?lf(n):n;return{pathname:t?t.startsWith("/")?t:uF(t,e):e,search:dF(i),hash:hF(a)}}function uF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function fM(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pT(n){let e=wO(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function mT(n,e,t,i=!1){let a;typeof n=="string"?a=lf(n):(a={...n},Ln(!a.pathname||!a.pathname.includes("?"),fM("?","pathname","search",a)),Ln(!a.pathname||!a.pathname.includes("#"),fM("#","pathname","hash",a)),Ln(!a.search||!a.search.includes("#"),fM("#","search","hash",a)));let r=n===""||a.pathname==="",o=r?"/":a.pathname,c;if(o==null)c=t;else{let g=e.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}c=g>=0?e[g]:"/"}let f=cF(a,c),d=o&&o!=="/"&&o.endsWith("/"),m=(r||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var Bl=n=>n.join("/").replace(/\/\/+/g,"/"),fF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Qb=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Jg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function gT(n){return n.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ku=Symbol("Uninstrumented");function pF(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(a=>a({id:e.id,index:e.index,path:e.path,instrument(r){let o=Object.keys(t);for(let c of o)r[c]&&t[c].push(r[c])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let a=Vp(t.lazy,e.lazy,()=>{});a&&(i.lazy=a)}if(typeof e.lazy=="object"){let a=e.lazy;["middleware","loader","action"].forEach(r=>{let o=a[r],c=t[`lazy.${r}`];if(typeof o=="function"&&c.length>0){let f=Vp(c,o,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[r]:f}))}})}return["loader","action"].forEach(a=>{let r=e[a];if(typeof r=="function"&&t[a].length>0){let o=r[Ku]??r,c=Vp(t[a],o,(...f)=>z3(f[0]));c&&(c[Ku]=o,i[a]=c)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(a=>{let r=a[Ku]??a,o=Vp(t.middleware,r,(...c)=>z3(c[0]));return o?(o[Ku]=r,o):a})),i}function mF(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(a){let r=Object.keys(a);for(let o of r)a[o]&&t[o].push(a[o])}})),t.navigate.length>0){let i=n.navigate[Ku]??n.navigate,a=Vp(t.navigate,i,(...r)=>{let[o,c]=r;return{to:typeof o=="number"||typeof o=="string"?o:o?jl(o):".",...B3(n,c??{})}});a&&(a[Ku]=i,n.navigate=a)}if(t.fetch.length>0){let i=n.fetch[Ku]??n.fetch,a=Vp(t.fetch,i,(...r)=>{let[o,,c,f]=r;return{href:c??".",fetcherKey:o,...B3(n,f??{})}});a&&(a[Ku]=i,n.fetch=a)}return n}function Vp(n,e,t){return n.length===0?null:async(...i)=>{let a=await TO(n,t(...i),()=>e(...i),n.length-1);if(a.type==="error")throw a.value;return a.value}}async function TO(n,e,t,i){let a=n[i],r;if(a){let o,c=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=TO(n,e,t,i-1),r=await o,Ln(r,"Expected a result"),r.type==="error"&&r.value instanceof Error?{status:"error",error:r.value}:{status:"success",error:void 0});try{await a(c,e)}catch(f){console.error("An instrumentation function threw an error:",f)}o||await c(),await o}else try{r={type:"success",value:await t()}}catch(o){r={type:"error",value:o}}return r||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function z3(n){let{request:e,context:t,params:i,unstable_pattern:a}=n;return{request:gF(e),params:{...i},unstable_pattern:a,context:xF(t)}}function B3(n,e){return{currentUrl:jl(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function gF(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function xF(n){if(vF(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var yF=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vF(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===yF}var AO=["POST","PUT","PATCH","DELETE"],bF=new Set(AO),_F=["GET",...AO],SF=new Set(_F),MF=new Set([301,302,303,307,308]),EF=new Set([307,308]),dM={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wF={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},og={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},TF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xT=n=>TF.test(n),AF=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),CO="remix-router-transitions",RO=Symbol("ResetLoaderData");function CF(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ln(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],a=n.mapRouteProperties||AF,r=a;if(n.unstable_instrumentations){let ae=n.unstable_instrumentations;r=ye=>({...a(ye),...pF(ae.map(Re=>Re.route).filter(Boolean),ye)})}let o={},c=Zg(n.routes,r,void 0,o),f,d=n.basename||"/";d.startsWith("/")||(d=`/${d}`);let m=n.dataStrategy||LF,g={...n.future},y=null,b=new Set,_=null,T=null,E=null,S=n.hydrationData!=null,R=Gu(c,n.history.location,d),D=!1,U=null,F;if(R==null&&!n.patchRoutesOnNavigation){let ae=no(404,{pathname:n.history.location.pathname}),{matches:ye,route:Re}=bv(c);F=!0,R=ye,U={[Re.id]:ae}}else if(R&&!n.hydrationData&&Kt(R,c,n.history.location.pathname).active&&(R=null),R)if(R.some(ae=>ae.route.lazy))F=!1;else if(!R.some(ae=>yT(ae.route)))F=!0;else{let ae=n.hydrationData?n.hydrationData.loaderData:null,ye=n.hydrationData?n.hydrationData.errors:null;if(ye){let Re=R.findIndex(Qe=>ye[Qe.route.id]!==void 0);F=R.slice(0,Re+1).every(Qe=>!aw(Qe.route,ae,ye))}else F=R.every(Re=>!aw(Re.route,ae,ye))}else{F=!1,R=[];let ae=Kt(null,c,n.history.location.pathname);ae.active&&ae.matches&&(D=!0,R=ae.matches)}let P,L={historyAction:n.history.action,location:n.history.location,matches:R,initialized:F,navigation:dM,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},B="POP",I=!1,V,W=!1,te=new Map,ne=null,ie=!1,oe=!1,H=new Set,q=new Map,G=0,ee=-1,ue=new Map,K=new Set,le=new Map,_e=new Map,Se=new Set,je=new Map,ve,pe=null;function Je(){if(y=n.history.listen(({action:ae,location:ye,delta:Re})=>{if(ve){ve(),ve=void 0;return}ga(je.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Qe=ut({currentLocation:L.location,nextLocation:ye,historyAction:ae});if(Qe&&Re!=null){let tt=new Promise(Ot=>{ve=Ot});n.history.go(Re*-1),ce(Qe,{state:"blocked",location:ye,proceed(){ce(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),tt.then(()=>n.history.go(Re))},reset(){let Ot=new Map(L.blockers);Ot.set(Qe,og),wt({blockers:Ot})}});return}return J(ae,ye)}),t){YF(e,te);let ae=()=>KF(e,te);e.addEventListener("pagehide",ae),ne=()=>e.removeEventListener("pagehide",ae)}return L.initialized||J("POP",L.location,{initialHydration:!0}),P}function ct(){y&&y(),ne&&ne(),b.clear(),V&&V.abort(),L.fetchers.forEach((ae,ye)=>Ht(ye)),L.blockers.forEach((ae,ye)=>Yt(ye))}function gt(ae){return b.add(ae),()=>b.delete(ae)}function wt(ae,ye={}){ae.matches&&(ae.matches=ae.matches.map(tt=>{let Ot=o[tt.route.id],Ct=tt.route;return Ct.element!==Ot.element||Ct.errorElement!==Ot.errorElement||Ct.hydrateFallbackElement!==Ot.hydrateFallbackElement?{...tt,route:Ot}:tt})),L={...L,...ae};let Re=[],Qe=[];L.fetchers.forEach((tt,Ot)=>{tt.state==="idle"&&(Se.has(Ot)?Re.push(Ot):Qe.push(Ot))}),Se.forEach(tt=>{!L.fetchers.has(tt)&&!q.has(tt)&&Re.push(tt)}),[...b].forEach(tt=>tt(L,{deletedFetchers:Re,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Re.forEach(tt=>Ht(tt)),Qe.forEach(tt=>L.fetchers.delete(tt))}function $t(ae,ye,{flushSync:Re}={}){let Qe=L.actionData!=null&&L.navigation.formMethod!=null&&Vr(L.navigation.formMethod)&&L.navigation.state==="loading"&&ae.state?._isRedirect!==!0,tt;ye.actionData?Object.keys(ye.actionData).length>0?tt=ye.actionData:tt=null:Qe?tt=L.actionData:tt=null;let Ot=ye.loaderData?W3(L.loaderData,ye.loaderData,ye.matches||[],ye.errors):L.loaderData,Ct=L.blockers;Ct.size>0&&(Ct=new Map(Ct),Ct.forEach((ht,Rt)=>Ct.set(Rt,og)));let bt=ie?!1:St(ae,ye.matches||L.matches),Mt=I===!0||L.navigation.formMethod!=null&&Vr(L.navigation.formMethod)&&ae.state?._isRedirect!==!0;f&&(c=f,f=void 0),ie||B==="POP"||(B==="PUSH"?n.history.push(ae,ae.state):B==="REPLACE"&&n.history.replace(ae,ae.state));let at;if(B==="POP"){let ht=te.get(L.location.pathname);ht&&ht.has(ae.pathname)?at={currentLocation:L.location,nextLocation:ae}:te.has(ae.pathname)&&(at={currentLocation:ae,nextLocation:L.location})}else if(W){let ht=te.get(L.location.pathname);ht?ht.add(ae.pathname):(ht=new Set([ae.pathname]),te.set(L.location.pathname,ht)),at={currentLocation:L.location,nextLocation:ae}}wt({...ye,actionData:tt,loaderData:Ot,historyAction:B,location:ae,initialized:!0,navigation:dM,revalidation:"idle",restoreScrollPosition:bt,preventScrollReset:Mt,blockers:Ct},{viewTransitionOpts:at,flushSync:Re===!0}),B="POP",I=!1,W=!1,ie=!1,oe=!1,pe?.resolve(),pe=null}async function Bt(ae,ye){if(typeof ae=="number"){n.history.go(ae);return}let Re=iw(L.location,L.matches,d,ae,ye?.fromRouteId,ye?.relative),{path:Qe,submission:tt,error:Ot}=I3(!1,Re,ye),Ct=L.location,bt=Kg(L.location,Qe,ye&&ye.state);bt={...bt,...n.history.encodeLocation(bt)};let Mt=ye&&ye.replace!=null?ye.replace:void 0,at="PUSH";Mt===!0?at="REPLACE":Mt===!1||tt!=null&&Vr(tt.formMethod)&&tt.formAction===L.location.pathname+L.location.search&&(at="REPLACE");let ht=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,Rt=(ye&&ye.flushSync)===!0,fn=ut({currentLocation:Ct,nextLocation:bt,historyAction:at});if(fn){ce(fn,{state:"blocked",location:bt,proceed(){ce(fn,{state:"proceeding",proceed:void 0,reset:void 0,location:bt}),Bt(ae,ye)},reset(){let ni=new Map(L.blockers);ni.set(fn,og),wt({blockers:ni})}});return}await J(at,bt,{submission:tt,pendingError:Ot,preventScrollReset:ht,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:Rt})}function ke(){pe||(pe=ZF()),Ue(),wt({revalidation:"loading"});let ae=pe.promise;return L.navigation.state==="submitting"?ae:L.navigation.state==="idle"?(J(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),ae):(J(B||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:W===!0}),ae)}async function J(ae,ye,Re){V&&V.abort(),V=null,B=ae,ie=(Re&&Re.startUninterruptedRevalidation)===!0,Ve(L.location,L.matches),I=(Re&&Re.preventScrollReset)===!0,W=(Re&&Re.enableViewTransition)===!0;let Qe=f||c,tt=Re&&Re.overrideNavigation,Ot=Re?.initialHydration&&L.matches&&L.matches.length>0&&!D?L.matches:Gu(Qe,ye,d),Ct=(Re&&Re.flushSync)===!0;if(Ot&&L.initialized&&!oe&&kF(L.location,ye)&&!(Re&&Re.submission&&Vr(Re.submission.formMethod))){$t(ye,{matches:Ot},{flushSync:Ct});return}let bt=Kt(Ot,Qe,ye.pathname);if(bt.active&&bt.matches&&(Ot=bt.matches),!Ot){let{error:Ai,notFoundMatches:Fn,route:Vn}=nt(ye.pathname);$t(ye,{matches:Fn,loaderData:{},errors:{[Vn.id]:Ai}},{flushSync:Ct});return}V=new AbortController;let Mt=Fp(n.history,ye,V.signal,Re&&Re.submission),at=n.getContext?await n.getContext():new L3,ht;if(Re&&Re.pendingError)ht=[Xu(Ot).route.id,{type:"error",error:Re.pendingError}];else if(Re&&Re.submission&&Vr(Re.submission.formMethod)){let Ai=await Ge(Mt,ye,Re.submission,Ot,at,bt.active,Re&&Re.initialHydration===!0,{replace:Re.replace,flushSync:Ct});if(Ai.shortCircuited)return;if(Ai.pendingActionResult){let[Fn,Vn]=Ai.pendingActionResult;if(Ts(Vn)&&Jg(Vn.error)&&Vn.error.status===404){V=null,$t(ye,{matches:Ai.matches,loaderData:{},errors:{[Fn]:Vn.error}});return}}Ot=Ai.matches||Ot,ht=Ai.pendingActionResult,tt=hM(ye,Re.submission),Ct=!1,bt.active=!1,Mt=Fp(n.history,Mt.url,Mt.signal)}let{shortCircuited:Rt,matches:fn,loaderData:ni,errors:Ti}=await Ze(Mt,ye,Ot,at,bt.active,tt,Re&&Re.submission,Re&&Re.fetcherSubmission,Re&&Re.replace,Re&&Re.initialHydration===!0,Ct,ht);Rt||(V=null,$t(ye,{matches:fn||Ot,...Y3(ht),loaderData:ni,errors:Ti}))}async function Ge(ae,ye,Re,Qe,tt,Ot,Ct,bt={}){Ue();let Mt=qF(ye,Re);if(wt({navigation:Mt},{flushSync:bt.flushSync===!0}),Ot){let Rt=await wn(Qe,ye.pathname,ae.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){if(Rt.partialMatches.length===0){let{matches:ni,route:Ti}=bv(c);return{matches:ni,pendingActionResult:[Ti.id,{type:"error",error:Rt.error}]}}let fn=Xu(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,pendingActionResult:[fn,{type:"error",error:Rt.error}]}}else if(Rt.matches)Qe=Rt.matches;else{let{notFoundMatches:fn,error:ni,route:Ti}=nt(ye.pathname);return{matches:fn,pendingActionResult:[Ti.id,{type:"error",error:ni}]}}}let at,ht=Db(Qe,ye);if(!ht.route.action&&!ht.route.lazy)at={type:"error",error:no(405,{method:ae.method,pathname:ye.pathname,routeId:ht.route.id})};else{let Rt=Zp(r,o,ae,Qe,ht,Ct?[]:i,tt),fn=await j(ae,Rt,tt,null);if(at=fn[ht.route.id],!at){for(let ni of Qe)if(fn[ni.route.id]){at=fn[ni.route.id];break}}if(ae.signal.aborted)return{shortCircuited:!0}}if(Nd(at)){let Rt;return bt&&bt.replace!=null?Rt=bt.replace:Rt=G3(at.response.headers.get("Location"),new URL(ae.url),d)===L.location.pathname+L.location.search,await Q(ae,at,!0,{submission:Re,replace:Rt}),{shortCircuited:!0}}if(Ts(at)){let Rt=Xu(Qe,ht.route.id);return(bt&&bt.replace)!==!0&&(B="PUSH"),{matches:Qe,pendingActionResult:[Rt.route.id,at,ht.route.id]}}return{matches:Qe,pendingActionResult:[ht.route.id,at]}}async function Ze(ae,ye,Re,Qe,tt,Ot,Ct,bt,Mt,at,ht,Rt){let fn=Ot||hM(ye,Ct),ni=Ct||bt||Z3(fn),Ti=!ie&&!at;if(tt){if(Ti){let Tt=it(Rt);wt({navigation:fn,...Tt!==void 0?{actionData:Tt}:{}},{flushSync:ht})}let Ke=await wn(Re,ye.pathname,ae.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:Gt,route:Pt}=bv(c);return{matches:Gt,loaderData:{},errors:{[Pt.id]:Ke.error}}}let Tt=Xu(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[Tt]:Ke.error}}}else if(Ke.matches)Re=Ke.matches;else{let{error:Tt,notFoundMatches:Gt,route:Pt}=nt(ye.pathname);return{matches:Gt,loaderData:{},errors:{[Pt.id]:Tt}}}}let Ai=f||c,{dsMatches:Fn,revalidatingFetchers:Vn}=F3(ae,Qe,r,o,n.history,L,Re,ni,ye,at?[]:i,at===!0,oe,H,Se,le,K,Ai,d,n.patchRoutesOnNavigation!=null,Rt);if(ee=++G,!n.dataStrategy&&!Fn.some(Ke=>Ke.shouldLoad)&&!Fn.some(Ke=>Ke.route.middleware&&Ke.route.middleware.length>0)&&Vn.length===0){let Ke=Ut();return $t(ye,{matches:Re,loaderData:{},errors:Rt&&Ts(Rt[1])?{[Rt[0]]:Rt[1].error}:null,...Y3(Rt),...Ke?{fetchers:new Map(L.fetchers)}:{}},{flushSync:ht}),{shortCircuited:!0}}if(Ti){let Ke={};if(!tt){Ke.navigation=fn;let Tt=it(Rt);Tt!==void 0&&(Ke.actionData=Tt)}Vn.length>0&&(Ke.fetchers=Ye(Vn)),wt(Ke,{flushSync:ht})}Vn.forEach(Ke=>{ze(Ke.key),Ke.controller&&q.set(Ke.key,Ke.controller)});let ii=()=>Vn.forEach(Ke=>ze(Ke.key));V&&V.signal.addEventListener("abort",ii);let{loaderResults:X,fetcherResults:de}=await be(Fn,Vn,ae,Qe);if(ae.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",ii),Vn.forEach(Ke=>q.delete(Ke.key));let Ee=_v(X);if(Ee)return await Q(ae,Ee.result,!0,{replace:Mt}),{shortCircuited:!0};if(Ee=_v(de),Ee)return K.add(Ee.key),await Q(ae,Ee.result,!0,{replace:Mt}),{shortCircuited:!0};let{loaderData:Me,errors:he}=q3(L,Re,X,Rt,Vn,de);at&&L.errors&&(he={...L.errors,...he});let $e=Ut(),lt=At(ee),mt=$e||lt||Vn.length>0;return{matches:Re,loaderData:Me,errors:he,...mt?{fetchers:new Map(L.fetchers)}:{}}}function it(ae){if(ae&&!Ts(ae[1]))return{[ae[0]]:ae[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Ye(ae){return ae.forEach(ye=>{let Re=L.fetchers.get(ye.key),Qe=lg(void 0,Re?Re.data:void 0);L.fetchers.set(ye.key,Qe)}),new Map(L.fetchers)}async function dt(ae,ye,Re,Qe){ze(ae);let tt=(Qe&&Qe.flushSync)===!0,Ot=f||c,Ct=iw(L.location,L.matches,d,Re,ye,Qe?.relative),bt=Gu(Ot,Ct,d),Mt=Kt(bt,Ot,Ct);if(Mt.active&&Mt.matches&&(bt=Mt.matches),!bt){Ne(ae,ye,no(404,{pathname:Ct}),{flushSync:tt});return}let{path:at,submission:ht,error:Rt}=I3(!0,Ct,Qe);if(Rt){Ne(ae,ye,Rt,{flushSync:tt});return}let fn=n.getContext?await n.getContext():new L3,ni=(Qe&&Qe.preventScrollReset)===!0;if(ht&&Vr(ht.formMethod)){await st(ae,ye,at,bt,fn,Mt.active,tt,ni,ht);return}le.set(ae,{routeId:ye,path:at}),await _t(ae,ye,at,bt,fn,Mt.active,tt,ni,ht)}async function st(ae,ye,Re,Qe,tt,Ot,Ct,bt,Mt){Ue(),le.delete(ae);let at=L.fetchers.get(ae);Ie(ae,WF(Mt,at),{flushSync:Ct});let ht=new AbortController,Rt=Fp(n.history,Re,ht.signal,Mt);if(Ot){let It=await wn(Qe,new URL(Rt.url).pathname,Rt.signal,ae);if(It.type==="aborted")return;if(It.type==="error"){Ne(ae,ye,It.error,{flushSync:Ct});return}else if(It.matches)Qe=It.matches;else{Ne(ae,ye,no(404,{pathname:Re}),{flushSync:Ct});return}}let fn=Db(Qe,Re);if(!fn.route.action&&!fn.route.lazy){let It=no(405,{method:Mt.formMethod,pathname:Re,routeId:ye});Ne(ae,ye,It,{flushSync:Ct});return}q.set(ae,ht);let ni=G,Ti=Zp(r,o,Rt,Qe,fn,i,tt),Fn=(await j(Rt,Ti,tt,ae))[fn.route.id];if(Rt.signal.aborted){q.get(ae)===ht&&q.delete(ae);return}if(Se.has(ae)){if(Nd(Fn)||Ts(Fn)){Ie(ae,Pc(void 0));return}}else{if(Nd(Fn))if(q.delete(ae),ee>ni){Ie(ae,Pc(void 0));return}else return K.add(ae),Ie(ae,lg(Mt)),Q(Rt,Fn,!1,{fetcherSubmission:Mt,preventScrollReset:bt});if(Ts(Fn)){Ne(ae,ye,Fn.error);return}}let Vn=L.navigation.location||L.location,ii=Fp(n.history,Vn,ht.signal),X=f||c,de=L.navigation.state!=="idle"?Gu(X,L.navigation.location,d):L.matches;Ln(de,"Didn't find any matches after fetcher action");let Ee=++G;ue.set(ae,Ee);let Me=lg(Mt,Fn.data);L.fetchers.set(ae,Me);let{dsMatches:he,revalidatingFetchers:$e}=F3(ii,tt,r,o,n.history,L,de,Mt,Vn,i,!1,oe,H,Se,le,K,X,d,n.patchRoutesOnNavigation!=null,[fn.route.id,Fn]);$e.filter(It=>It.key!==ae).forEach(It=>{let yn=It.key,An=L.fetchers.get(yn),Mn=lg(void 0,An?An.data:void 0);L.fetchers.set(yn,Mn),ze(yn),It.controller&&q.set(yn,It.controller)}),wt({fetchers:new Map(L.fetchers)});let lt=()=>$e.forEach(It=>ze(It.key));ht.signal.addEventListener("abort",lt);let{loaderResults:mt,fetcherResults:Ke}=await be(he,$e,ii,tt);if(ht.signal.aborted)return;if(ht.signal.removeEventListener("abort",lt),ue.delete(ae),q.delete(ae),$e.forEach(It=>q.delete(It.key)),L.fetchers.has(ae)){let It=Pc(Fn.data);L.fetchers.set(ae,It)}let Tt=_v(mt);if(Tt)return Q(ii,Tt.result,!1,{preventScrollReset:bt});if(Tt=_v(Ke),Tt)return K.add(Tt.key),Q(ii,Tt.result,!1,{preventScrollReset:bt});let{loaderData:Gt,errors:Pt}=q3(L,de,mt,void 0,$e,Ke);At(Ee),L.navigation.state==="loading"&&Ee>ee?(Ln(B,"Expected pending action"),V&&V.abort(),$t(L.navigation.location,{matches:de,loaderData:Gt,errors:Pt,fetchers:new Map(L.fetchers)})):(wt({errors:Pt,loaderData:W3(L.loaderData,Gt,de,Pt),fetchers:new Map(L.fetchers)}),oe=!1)}async function _t(ae,ye,Re,Qe,tt,Ot,Ct,bt,Mt){let at=L.fetchers.get(ae);Ie(ae,lg(Mt,at?at.data:void 0),{flushSync:Ct});let ht=new AbortController,Rt=Fp(n.history,Re,ht.signal);if(Ot){let Vn=await wn(Qe,new URL(Rt.url).pathname,Rt.signal,ae);if(Vn.type==="aborted")return;if(Vn.type==="error"){Ne(ae,ye,Vn.error,{flushSync:Ct});return}else if(Vn.matches)Qe=Vn.matches;else{Ne(ae,ye,no(404,{pathname:Re}),{flushSync:Ct});return}}let fn=Db(Qe,Re);q.set(ae,ht);let ni=G,Ti=Zp(r,o,Rt,Qe,fn,i,tt),Fn=(await j(Rt,Ti,tt,ae))[fn.route.id];if(q.get(ae)===ht&&q.delete(ae),!Rt.signal.aborted){if(Se.has(ae)){Ie(ae,Pc(void 0));return}if(Nd(Fn))if(ee>ni){Ie(ae,Pc(void 0));return}else{K.add(ae),await Q(Rt,Fn,!1,{preventScrollReset:bt});return}if(Ts(Fn)){Ne(ae,ye,Fn.error);return}Ie(ae,Pc(Fn.data))}}async function Q(ae,ye,Re,{submission:Qe,fetcherSubmission:tt,preventScrollReset:Ot,replace:Ct}={}){ye.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let bt=ye.response.headers.get("Location");Ln(bt,"Expected a Location header on the redirect Response"),bt=G3(bt,new URL(ae.url),d);let Mt=Kg(L.location,bt,{_isRedirect:!0});if(t){let Ti=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))Ti=!0;else if(xT(bt)){const Ai=SO(bt,!0);Ti=Ai.origin!==e.location.origin||lo(Ai.pathname,d)==null}if(Ti){Ct?e.location.replace(bt):e.location.assign(bt);return}}V=null;let at=Ct===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ht,formAction:Rt,formEncType:fn}=L.navigation;!Qe&&!tt&&ht&&Rt&&fn&&(Qe=Z3(L.navigation));let ni=Qe||tt;if(EF.has(ye.response.status)&&ni&&Vr(ni.formMethod))await J(at,Mt,{submission:{...ni,formAction:bt},preventScrollReset:Ot||I,enableViewTransition:Re?W:void 0});else{let Ti=hM(Mt,Qe);await J(at,Mt,{overrideNavigation:Ti,fetcherSubmission:tt,preventScrollReset:Ot||I,enableViewTransition:Re?W:void 0})}}async function j(ae,ye,Re,Qe){let tt,Ot={};try{tt=await PF(m,ae,ye,Qe,Re,!1)}catch(Ct){return ye.filter(bt=>bt.shouldLoad).forEach(bt=>{Ot[bt.route.id]={type:"error",error:Ct}}),Ot}if(ae.signal.aborted)return Ot;for(let[Ct,bt]of Object.entries(tt))if(GF(bt)){let Mt=bt.result;Ot[Ct]={type:"redirect",response:FF(Mt,ae,Ct,ye,d)}}else Ot[Ct]=await IF(bt);return Ot}async function be(ae,ye,Re,Qe){let tt=j(Re,ae,Qe,null),Ot=Promise.all(ye.map(async Mt=>{if(Mt.matches&&Mt.match&&Mt.request&&Mt.controller){let ht=(await j(Mt.request,Mt.matches,Qe,Mt.key))[Mt.match.route.id];return{[Mt.key]:ht}}else return Promise.resolve({[Mt.key]:{type:"error",error:no(404,{pathname:Mt.path})}})})),Ct=await tt,bt=(await Ot).reduce((Mt,at)=>Object.assign(Mt,at),{});return{loaderResults:Ct,fetcherResults:bt}}function Ue(){oe=!0,le.forEach((ae,ye)=>{q.has(ye)&&H.add(ye),ze(ye)})}function Ie(ae,ye,Re={}){L.fetchers.set(ae,ye),wt({fetchers:new Map(L.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function Ne(ae,ye,Re,Qe={}){let tt=Xu(L.matches,ye);Ht(ae),wt({errors:{[tt.route.id]:Re},fetchers:new Map(L.fetchers)},{flushSync:(Qe&&Qe.flushSync)===!0})}function Lt(ae){return _e.set(ae,(_e.get(ae)||0)+1),Se.has(ae)&&Se.delete(ae),L.fetchers.get(ae)||wF}function ft(ae,ye){ze(ae,ye?.reason),Ie(ae,Pc(null))}function Ht(ae){let ye=L.fetchers.get(ae);q.has(ae)&&!(ye&&ye.state==="loading"&&ue.has(ae))&&ze(ae),le.delete(ae),ue.delete(ae),K.delete(ae),Se.delete(ae),H.delete(ae),L.fetchers.delete(ae)}function Dt(ae){let ye=(_e.get(ae)||0)-1;ye<=0?(_e.delete(ae),Se.add(ae)):_e.set(ae,ye),wt({fetchers:new Map(L.fetchers)})}function ze(ae,ye){let Re=q.get(ae);Re&&(Re.abort(ye),q.delete(ae))}function qe(ae){for(let ye of ae){let Re=Lt(ye),Qe=Pc(Re.data);L.fetchers.set(ye,Qe)}}function Ut(){let ae=[],ye=!1;for(let Re of K){let Qe=L.fetchers.get(Re);Ln(Qe,`Expected fetcher: ${Re}`),Qe.state==="loading"&&(K.delete(Re),ae.push(Re),ye=!0)}return qe(ae),ye}function At(ae){let ye=[];for(let[Re,Qe]of ue)if(Qe<ae){let tt=L.fetchers.get(Re);Ln(tt,`Expected fetcher: ${Re}`),tt.state==="loading"&&(ze(Re),ue.delete(Re),ye.push(Re))}return qe(ye),ye.length>0}function pt(ae,ye){let Re=L.blockers.get(ae)||og;return je.get(ae)!==ye&&je.set(ae,ye),Re}function Yt(ae){L.blockers.delete(ae),je.delete(ae)}function ce(ae,ye){let Re=L.blockers.get(ae)||og;Ln(Re.state==="unblocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="proceeding"||Re.state==="blocked"&&ye.state==="unblocked"||Re.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Re.state} -> ${ye.state}`);let Qe=new Map(L.blockers);Qe.set(ae,ye),wt({blockers:Qe})}function ut({currentLocation:ae,nextLocation:ye,historyAction:Re}){if(je.size===0)return;je.size>1&&ga(!1,"A router only supports one blocker at a time");let Qe=Array.from(je.entries()),[tt,Ot]=Qe[Qe.length-1],Ct=L.blockers.get(tt);if(!(Ct&&Ct.state==="proceeding")&&Ot({currentLocation:ae,nextLocation:ye,historyAction:Re}))return tt}function nt(ae){let ye=no(404,{pathname:ae}),Re=f||c,{matches:Qe,route:tt}=bv(Re);return{notFoundMatches:Qe,route:tt,error:ye}}function ot(ae,ye,Re){if(_=ae,E=ye,T=Re||null,!S&&L.navigation===dM){S=!0;let Qe=St(L.location,L.matches);Qe!=null&&wt({restoreScrollPosition:Qe})}return()=>{_=null,E=null,T=null}}function We(ae,ye){return T&&T(ae,ye.map(Qe=>KI(Qe,L.loaderData)))||ae.key}function Ve(ae,ye){if(_&&E){let Re=We(ae,ye);_[Re]=E()}}function St(ae,ye){if(_){let Re=We(ae,ye),Qe=_[Re];if(typeof Qe=="number")return Qe}return null}function Kt(ae,ye,Re){if(n.patchRoutesOnNavigation)if(ae){if(Object.keys(ae[0].params).length>0)return{active:!0,matches:Nb(ye,Re,d,!0)}}else return{active:!0,matches:Nb(ye,Re,d,!0)||[]};return{active:!1,matches:null}}async function wn(ae,ye,Re,Qe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:ae};let tt=ae;for(;;){let Ot=f==null,Ct=f||c,bt=o;try{await n.patchRoutesOnNavigation({signal:Re,path:ye,matches:tt,fetcherKey:Qe,patch:(ht,Rt)=>{Re.aborted||V3(ht,Rt,Ct,bt,r,!1)}})}catch(ht){return{type:"error",error:ht,partialMatches:tt}}finally{Ot&&!Re.aborted&&(c=[...c])}if(Re.aborted)return{type:"aborted"};let Mt=Gu(Ct,ye,d);if(Mt)return{type:"success",matches:Mt};let at=Nb(Ct,ye,d,!0);if(!at||tt.length===at.length&&tt.every((ht,Rt)=>ht.route.id===at[Rt].route.id))return{type:"success",matches:null};tt=at}}function Tn(ae){o={},f=Zg(ae,r,void 0,o)}function $i(ae,ye,Re=!1){let Qe=f==null;V3(ae,ye,f||c,o,r,Re),Qe&&(c=[...c],wt({}))}return P={get basename(){return d},get future(){return g},get state(){return L},get routes(){return c},get window(){return e},initialize:Je,subscribe:gt,enableScrollRestoration:ot,navigate:Bt,fetch:dt,revalidate:ke,createHref:ae=>n.history.createHref(ae),encodeLocation:ae=>n.history.encodeLocation(ae),getFetcher:Lt,resetFetcher:ft,deleteFetcher:Dt,dispose:ct,getBlocker:pt,deleteBlocker:Yt,patchRoutes:$i,_internalFetchControllers:q,_internalSetRoutes:Tn,_internalSetStateDoNotUseOrYouWillBreakYourApp(ae){wt(ae)}},n.unstable_instrumentations&&(P=mF(P,n.unstable_instrumentations.map(ae=>ae.router).filter(Boolean))),P}function RF(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function iw(n,e,t,i,a,r){let o,c;if(a){o=[];for(let d of e)if(o.push(d),d.route.id===a){c=d;break}}else o=e,c=e[e.length-1];let f=mT(i||".",pT(o),lo(n.pathname,t)||n.pathname,r==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&c){let d=vT(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let m=new URLSearchParams(f.search),g=m.getAll("index");m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();f.search=y?`?${y}`:""}}return t!=="/"&&(f.pathname=lF({basename:t,pathname:f.pathname})),jl(f)}function I3(n,e,t){if(!t||!RF(t))return{path:e};if(t.formMethod&&!XF(t.formMethod))return{path:e,error:no(405,{method:t.formMethod})};let i=()=>({path:e,error:no(400,{type:"invalid-body"})}),r=(t.formMethod||"get").toUpperCase(),o=PO(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vr(r))return i();let g=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((y,[b,_])=>`${y}${b}=${_}
`,""):String(t.body);return{path:e,submission:{formMethod:r,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:g}}}else if(t.formEncType==="application/json"){if(!Vr(r))return i();try{let g=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:r,formAction:o,formEncType:t.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Ln(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=sw(t.formData),f=t.formData;else if(t.body instanceof FormData)c=sw(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=X3(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=X3(c)}catch{return i()}let d={formMethod:r,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vr(d.formMethod))return{path:e,submission:d};let m=lf(e);return n&&m.search&&vT(m.search)&&c.append("index",""),m.search=`?${c}`,{path:jl(m),submission:d}}function F3(n,e,t,i,a,r,o,c,f,d,m,g,y,b,_,T,E,S,R,D){let U=D?Ts(D[1])?D[1].error:D[1].data:void 0,F=a.createURL(r.location),P=a.createURL(f),L;if(m&&r.errors){let ie=Object.keys(r.errors)[0];L=o.findIndex(oe=>oe.route.id===ie)}else if(D&&Ts(D[1])){let ie=D[0];L=o.findIndex(oe=>oe.route.id===ie)-1}let B=D?D[1].statusCode:void 0,I=B&&B>=400,V={currentUrl:F,currentParams:r.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...c,actionResult:U,actionStatus:B},W=gT(o.map(ie=>ie.route.path)),te=o.map((ie,oe)=>{let{route:H}=ie,q=null;if(L!=null&&oe>L?q=!1:H.lazy?q=!0:yT(H)?m?q=aw(H,r.loaderData,r.errors):NF(r.loaderData,r.matches[oe],ie)&&(q=!0):q=!1,q!==null)return rw(t,i,n,W,ie,d,e,q);let G=I?!1:g||F.pathname+F.search===P.pathname+P.search||F.search!==P.search||DF(r.matches[oe],ie),ee={...V,defaultShouldRevalidate:G},ue=$b(ie,ee);return rw(t,i,n,W,ie,d,e,ue,ee)}),ne=[];return _.forEach((ie,oe)=>{if(m||!o.some(_e=>_e.route.id===ie.routeId)||b.has(oe))return;let H=r.fetchers.get(oe),q=H&&H.state!=="idle"&&H.data===void 0,G=Gu(E,ie.path,S);if(!G){if(R&&q)return;ne.push({key:oe,routeId:ie.routeId,path:ie.path,matches:null,match:null,request:null,controller:null});return}if(T.has(oe))return;let ee=Db(G,ie.path),ue=new AbortController,K=Fp(a,ie.path,ue.signal),le=null;if(y.has(oe))y.delete(oe),le=Zp(t,i,K,G,ee,d,e);else if(q)g&&(le=Zp(t,i,K,G,ee,d,e));else{let _e={...V,defaultShouldRevalidate:I?!1:g};$b(ee,_e)&&(le=Zp(t,i,K,G,ee,d,e,_e))}le&&ne.push({key:oe,routeId:ie.routeId,path:ie.path,matches:le,match:ee,request:K,controller:ue})}),{dsMatches:te,revalidatingFetchers:ne}}function yT(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function aw(n,e,t){if(n.lazy)return!0;if(!yT(n))return!1;let i=e!=null&&n.id in e,a=t!=null&&t[n.id]!==void 0;return!i&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!a}function NF(n,e,t){let i=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return i||a}function DF(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function $b(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function V3(n,e,t,i,a,r){let o;if(n){let d=i[n];Ln(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),o=d.children}else o=t;let c=[],f=[];if(e.forEach(d=>{let m=o.find(g=>NO(d,g));m?f.push({existingRoute:m,newRoute:d}):c.push(d)}),c.length>0){let d=Zg(c,a,[n||"_","patch",String(o?.length||"0")],i);o.push(...d)}if(r&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:m,newRoute:g}=f[d],y=m,[b]=Zg([g],a,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function NO(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(a=>NO(t,a))):!1}var k3=new WeakMap,DO=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let a=t[e.id];if(Ln(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let r=a.lazy[n];if(!r)return;let o=k3.get(a);o||(o={},k3.set(a,o));let c=o[n];if(c)return c;let f=(async()=>{let d=XI(n),g=a[n]!==void 0&&n!=="hasErrorBoundary";if(d)ga(!d,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),o[n]=Promise.resolve();else if(g)ga(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let y=await r();y!=null&&(Object.assign(a,{[n]:y}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(y=>y===void 0)&&(a.lazy=void 0))})();return o[n]=f,f},H3=new WeakMap;function OF(n,e,t,i,a){let r=t[n.id];if(Ln(r,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let m=H3.get(r);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let g=(async()=>{Ln(typeof n.lazy=="function","No lazy route function found");let y=await n.lazy(),b={};for(let _ in y){let T=y[_];if(T===void 0)continue;let E=WI(_),R=r[_]!==void 0&&_!=="hasErrorBoundary";E?ga(!E,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?ga(!R,`Route "${r.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):b[_]=T}Object.assign(r,b),Object.assign(r,{...i(r),lazy:void 0})})();return H3.set(r,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let o=Object.keys(n.lazy),c=[],f;for(let m of o){if(a&&a.includes(m))continue;let g=DO({key:m,route:n,manifest:t,mapRouteProperties:i});g&&(c.push(g),m===e&&(f=g))}let d=c.length>0?Promise.all(c).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function j3(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,r)=>{t[e[r].route.id]=a}),t}async function LF(n){return n.matches.some(e=>e.route.middleware)?OO(n,()=>j3(n)):j3(n)}function OO(n,e){return UF(n,e,i=>i,HF,t);function t(i,a,r){if(r)return Promise.resolve(Object.assign(r.value,{[a]:{type:"error",result:i}}));{let{matches:o}=n,c=Math.min(Math.max(o.findIndex(d=>d.route.id===a),0),Math.max(o.findIndex(d=>d.unstable_shouldCallHandler()),0)),f=Xu(o,o[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function UF(n,e,t,i,a){let{matches:r,request:o,params:c,context:f,unstable_pattern:d}=n,m=r.flatMap(y=>y.route.middleware?y.route.middleware.map(b=>[y.route.id,b]):[]);return await LO({request:o,params:c,context:f,unstable_pattern:d},m,e,t,i,a)}async function LO(n,e,t,i,a,r,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[o];if(!f)return await t();let[d,m]=f,g,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await LO(n,e,t,i,a,r,o+1)},g.value}catch(b){return g={value:await r(b,d,g)},g.value}};try{let b=await m(n,y),_=b!=null?i(b):void 0;return a(_)?_:g?_??g.value:(g={value:await y()},g.value)}catch(b){return await r(b,d,g)}}function UO(n,e,t,i,a){let r=DO({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),o=OF(i.route,Vr(t.method)?"action":"loader",e,n,a);return{middleware:r,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function rw(n,e,t,i,a,r,o,c,f=null){let d=!1,m=UO(n,e,t,a,r);return{...a,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return d=!0,f?typeof g=="boolean"?$b(a,{...f,defaultShouldRevalidate:g}):$b(a,f):c},resolve(g){let{lazy:y,loader:b,middleware:_}=a.route,T=d||c||g&&!Vr(t.method)&&(y||b),E=_&&_.length>0&&!b&&!y;return T&&(Vr(t.method)||!E)?zF({request:t,unstable_pattern:i,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Zp(n,e,t,i,a,r,o,c=null){return i.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:UO(n,e,t,f,r),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rw(n,e,t,gT(i.map(d=>d.route.path)),f,r,o,!0,c))}async function PF(n,e,t,i,a,r){t.some(d=>d._lazyPromises?.middleware)&&await Promise.all(t.map(d=>d._lazyPromises?.middleware));let o={request:e,unstable_pattern:gT(t.map(d=>d.route.path)),params:t[0].params,context:a,matches:t},f=await n({...o,fetcherKey:i,runClientMiddleware:d=>{let m=o;return OO(m,()=>d({...m,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function zF({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:r,scopedContext:o}){let c,f,d=Vr(n.method),m=d?"action":"loader",g=y=>{let b,_=new Promise((S,R)=>b=R);f=()=>b(),n.signal.addEventListener("abort",f);let T=S=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${t.route.id}]`)):y({request:n,unstable_pattern:e,params:t.params,context:o},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(r?r(R=>T(R)):T())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,_])};try{let y=d?t.route.action:t.route.loader;if(i||a)if(y){let b,[_]=await Promise.all([g(y).catch(T=>{b=T}),i,a]);if(b!==void 0)throw b;c=_}else{await i;let b=d?t.route.action:t.route.loader;if(b)[c]=await Promise.all([g(b),a]);else if(m==="action"){let _=new URL(n.url),T=_.pathname+_.search;throw no(405,{method:n.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(y)c=await g(y);else{let b=new URL(n.url),_=b.pathname+b.search;throw no(404,{pathname:_})}}catch(y){return{type:"error",result:y}}finally{f&&n.signal.removeEventListener("abort",f)}return c}async function BF(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function IF(n){let{result:e,type:t}=n;if(zO(e)){let i;try{i=await BF(e)}catch(a){return{type:"error",error:a}}return t==="error"?{type:"error",error:new Qb(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?K3(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Qb(e.init?.status||500,void 0,e.data),statusCode:Jg(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Jg(e)?e.status:void 0}:K3(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function FF(n,e,t,i,a){let r=n.headers.get("Location");if(Ln(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!xT(r)){let o=i.slice(0,i.findIndex(c=>c.route.id===t)+1);r=iw(new URL(e.url),o,a,r),n.headers.set("Location",r)}return n}function G3(n,e,t){if(xT(n)){let i=n,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),r=lo(a.pathname,t)!=null;if(a.origin===e.origin&&r)return a.pathname+a.search+a.hash}return n}function Fp(n,e,t,i){let a=n.createURL(PO(e)).toString(),r={signal:t};if(i&&Vr(i.formMethod)){let{formMethod:o,formEncType:c}=i;r.method=o.toUpperCase(),c==="application/json"?(r.headers=new Headers({"Content-Type":c}),r.body=JSON.stringify(i.json)):c==="text/plain"?r.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?r.body=sw(i.formData):r.body=i.formData}return new Request(a,r)}function sw(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function X3(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function VF(n,e,t,i=!1,a=!1){let r={},o=null,c,f=!1,d={},m=t&&Ts(t[1])?t[1].error:void 0;return n.forEach(g=>{if(!(g.route.id in e))return;let y=g.route.id,b=e[y];if(Ln(!Nd(b),"Cannot handle redirect results in processLoaderData"),Ts(b)){let _=b.error;if(m!==void 0&&(_=m,m=void 0),o=o||{},a)o[y]=_;else{let T=Xu(n,y);o[T.route.id]==null&&(o[T.route.id]=_)}i||(r[y]=RO),f||(f=!0,c=Jg(b.error)?b.error.status:500),b.headers&&(d[y]=b.headers)}else r[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(c=b.statusCode),b.headers&&(d[y]=b.headers)}),m!==void 0&&t&&(o={[t[0]]:m},t[2]&&(r[t[2]]=void 0)),{loaderData:r,errors:o,statusCode:c||200,loaderHeaders:d}}function q3(n,e,t,i,a,r){let{loaderData:o,errors:c}=VF(e,t,i);return a.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:m,controller:g}=f;if(g&&g.signal.aborted)return;let y=r[d];if(Ln(y,"Did not find corresponding fetcher result"),Ts(y)){let b=Xu(n.matches,m?.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:y.error}),n.fetchers.delete(d)}else if(Nd(y))Ln(!1,"Unhandled fetcher revalidation redirect");else{let b=Pc(y.data);n.fetchers.set(d,b)}}),{loaderData:o,errors:c}}function W3(n,e,t,i){let a=Object.entries(e).filter(([,r])=>r!==RO).reduce((r,[o,c])=>(r[o]=c,r),{});for(let r of t){let o=r.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&r.route.loader&&(a[o]=n[o]),i&&i.hasOwnProperty(o))break}return a}function Y3(n){return n?Ts(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xu(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function bv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function no(n,{pathname:e,routeId:t,method:i,type:a,message:r}={}){let o="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&e&&t?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):n===403?(o="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",c=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",i&&e&&t?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new Qb(n||500,o,new Error(c),!0)}function _v(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,a]=e[t];if(Nd(a))return{key:i,result:a}}}function PO(n){let e=typeof n=="string"?lf(n):n;return jl({...e,hash:""})}function kF(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function HF(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&jF(t))}function jF(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function GF(n){return zO(n.result)&&MF.has(n.result.status)}function Ts(n){return n.type==="error"}function Nd(n){return(n&&n.type)==="redirect"}function K3(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function zO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function XF(n){return SF.has(n.toUpperCase())}function Vr(n){return bF.has(n.toUpperCase())}function vT(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Db(n,e){let t=typeof e=="string"?lf(e).search:e.search;if(n[n.length-1].route.index&&vT(t||""))return n[n.length-1];let i=wO(n);return i[i.length-1]}function Z3(n){let{formMethod:e,formAction:t,formEncType:i,text:a,formData:r,json:o}=n;if(!(!e||!t||!i)){if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:a};if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function hM(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qF(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function lg(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function WF(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Pc(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function YF(n,e){try{let t=n.sessionStorage.getItem(CO);if(t){let i=JSON.parse(t);for(let[a,r]of Object.entries(i||{}))r&&Array.isArray(r)&&e.set(a,new Set(r||[]))}}catch{}}function KF(n,e){if(e.size>0){let t={};for(let[i,a]of e)t[i]=[...a];try{n.sessionStorage.setItem(CO,JSON.stringify(t))}catch(i){ga(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function ZF(){let n,e,t=new Promise((i,a)=>{n=async r=>{i(r);try{await t}catch{}},e=async r=>{a(r);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var $d=O.createContext(null);$d.displayName="DataRouter";var Tx=O.createContext(null);Tx.displayName="DataRouterState";O.createContext(!1);var bT=O.createContext({isTransitioning:!1});bT.displayName="ViewTransition";var BO=O.createContext(new Map);BO.displayName="Fetchers";var JF=O.createContext(null);JF.displayName="Await";var ql=O.createContext(null);ql.displayName="Navigation";var xS=O.createContext(null);xS.displayName="Location";var Wl=O.createContext({outlet:null,matches:[],isDataRoute:!1});Wl.displayName="Route";var _T=O.createContext(null);_T.displayName="RouteError";function QF(n,{relative:e}={}){Ln(Ax(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(ql),{hash:a,pathname:r,search:o}=Cx(n,{relative:e}),c=r;return t!=="/"&&(c=r==="/"?t:Bl([t,r])),i.createHref({pathname:c,search:o,hash:a})}function Ax(){return O.useContext(xS)!=null}function cf(){return Ln(Ax(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(xS).location}var IO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FO(n){O.useContext(ql).static||O.useLayoutEffect(n)}function uf(){let{isDataRoute:n}=O.useContext(Wl);return n?d6():$F()}function $F(){Ln(Ax(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext($d),{basename:e,navigator:t}=O.useContext(ql),{matches:i}=O.useContext(Wl),{pathname:a}=cf(),r=JSON.stringify(pT(i)),o=O.useRef(!1);return FO(()=>{o.current=!0}),O.useCallback((f,d={})=>{if(ga(o.current,IO),!o.current)return;if(typeof f=="number"){t.go(f);return}let m=mT(f,JSON.parse(r),a,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Bl([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,r,a,n])}var e6=O.createContext(null);function t6(n){let e=O.useContext(Wl).outlet;return O.useMemo(()=>e&&O.createElement(e6.Provider,{value:n},e),[e,n])}function Cx(n,{relative:e}={}){let{matches:t}=O.useContext(Wl),{pathname:i}=cf(),a=JSON.stringify(pT(t));return O.useMemo(()=>mT(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function n6(n,e,t,i,a){Ln(Ax(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=O.useContext(ql),{matches:o}=O.useContext(Wl),c=o[o.length-1],f=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";kO(d,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=cf(),b;b=y;let _=b.pathname||"/",T=_;if(m!=="/"){let R=m.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=Gu(n,{pathname:T});return ga(g||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ga(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),o6(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Bl([m,r.encodeLocation?r.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Bl([m,r.encodeLocation?r.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,t,i,a)}function i6(){let n=VO(),e=Jg(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:r},"ErrorBoundary")," or"," ",O.createElement("code",{style:r},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:a},t):null,o)}var a6=O.createElement(i6,null),r6=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?O.createElement(Wl.Provider,{value:this.props.routeContext},O.createElement(_T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function s6({routeContext:n,match:e,children:t}){let i=O.useContext($d);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Wl.Provider,{value:n},t)}function o6(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t?.errors;if(o!=null){let d=r.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Ln(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,f=-1;if(t)for(let d=0;d<r.length;d++){let m=r[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:g,errors:y}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,f>=0?r=r.slice(0,f+1):r=[r[0]];break}}}return r.reduceRight((d,m,g)=>{let y,b=!1,_=null,T=null;t&&(y=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||a6,c&&(f<0&&g===0?(kO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):f===g&&(b=!0,T=m.route.hydrateFallbackElement||null)));let E=e.concat(r.slice(0,g+1)),S=()=>{let R;return y?R=_:b?R=T:m.route.Component?R=O.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,O.createElement(s6,{match:m,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:R})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?O.createElement(r6,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):S()},null)}function ST(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l6(n){let e=O.useContext($d);return Ln(e,ST(n)),e}function c6(n){let e=O.useContext(Tx);return Ln(e,ST(n)),e}function u6(n){let e=O.useContext(Wl);return Ln(e,ST(n)),e}function MT(n){let e=u6(n),t=e.matches[e.matches.length-1];return Ln(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function f6(){return MT("useRouteId")}function VO(){let n=O.useContext(_T),e=c6("useRouteError"),t=MT("useRouteError");return n!==void 0?n:e.errors?.[t]}function d6(){let{router:n}=l6("useNavigate"),e=MT("useNavigate"),t=O.useRef(!1);return FO(()=>{t.current=!0}),O.useCallback(async(a,r={})=>{ga(t.current,IO),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...r}))},[n,e])}var J3={};function kO(n,e,t){!e&&!J3[n]&&(J3[n]=!0,ga(!1,t))}var Q3={};function $3(n,e){!n&&!Q3[e]&&(Q3[e]=!0,console.warn(e))}function h6(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&ga(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&ga(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&ga(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var p6=["HydrateFallback","hydrateFallbackElement"],m6=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function g6({router:n,flushSync:e,unstable_onError:t}){let[i,a]=O.useState(n.state),[r,o]=O.useState(),[c,f]=O.useState({isTransitioning:!1}),[d,m]=O.useState(),[g,y]=O.useState(),[b,_]=O.useState(),T=O.useRef(new Map),E=O.useCallback(F=>{a(P=>(F.errors&&t&&Object.entries(F.errors).forEach(([L,B])=>{P.errors?.[L]!==B&&t(B)}),F))},[t]),S=O.useCallback((F,{deletedFetchers:P,flushSync:L,viewTransitionOpts:B})=>{F.fetchers.forEach((V,W)=>{V.data!==void 0&&T.current.set(W,V.data)}),P.forEach(V=>T.current.delete(V)),$3(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if($3(B==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!I){e&&L?e(()=>E(F)):O.startTransition(()=>E(F));return}if(e&&L){e(()=>{g&&(d&&d.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let V=n.window.document.startViewTransition(()=>{e(()=>E(F))});V.finished.finally(()=>{e(()=>{m(void 0),y(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>y(V));return}g?(d&&d.resolve(),g.skipTransition(),_({state:F,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(F),f({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,e,g,d,E]);O.useLayoutEffect(()=>n.subscribe(S),[n,S]),O.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new m6)},[c]),O.useEffect(()=>{if(d&&r&&n.window){let F=r,P=d.promise,L=n.window.document.startViewTransition(async()=>{O.startTransition(()=>E(F)),await P});L.finished.finally(()=>{m(void 0),y(void 0),o(void 0),f({isTransitioning:!1})}),y(L)}},[r,d,n.window,E]),O.useEffect(()=>{d&&r&&i.location.key===r.location.key&&d.resolve()},[d,g,i.location,r]),O.useEffect(()=>{!c.isTransitioning&&b&&(o(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[c.isTransitioning,b]);let R=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:F=>n.navigate(F),push:(F,P,L)=>n.navigate(F,{state:P,preventScrollReset:L?.preventScrollReset}),replace:(F,P,L)=>n.navigate(F,{replace:!0,state:P,preventScrollReset:L?.preventScrollReset})}),[n]),D=n.basename||"/",U=O.useMemo(()=>({router:n,navigator:R,static:!1,basename:D,unstable_onError:t}),[n,R,D,t]);return O.createElement(O.Fragment,null,O.createElement($d.Provider,{value:U},O.createElement(Tx.Provider,{value:i},O.createElement(BO.Provider,{value:T.current},O.createElement(bT.Provider,{value:c},O.createElement(b6,{basename:D,location:i.location,navigationType:i.historyAction,navigator:R},O.createElement(x6,{routes:n.routes,future:n.future,state:i,unstable_onError:t})))))),null)}var x6=O.memo(y6);function y6({routes:n,future:e,state:t,unstable_onError:i}){return n6(n,void 0,t,i,e)}function v6(n){return t6(n.context)}function b6({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:r=!1}){Ln(!Ax(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:o,navigator:a,static:r,future:{}}),[o,a,r]);typeof t=="string"&&(t=lf(t));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,b=O.useMemo(()=>{let _=lo(f,o);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:y},navigationType:i}},[o,f,d,m,g,y,i]);return ga(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(ql.Provider,{value:c},O.createElement(xS.Provider,{children:e,value:b}))}var Ob="get",Lb="application/x-www-form-urlencoded";function yS(n){return n!=null&&typeof n.tagName=="string"}function _6(n){return yS(n)&&n.tagName.toLowerCase()==="button"}function S6(n){return yS(n)&&n.tagName.toLowerCase()==="form"}function M6(n){return yS(n)&&n.tagName.toLowerCase()==="input"}function E6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function w6(n,e){return n.button===0&&(!e||e==="_self")&&!E6(n)}var Sv=null;function T6(){if(Sv===null)try{new FormData(document.createElement("form"),0),Sv=!1}catch{Sv=!0}return Sv}var A6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pM(n){return n!=null&&!A6.has(n)?(ga(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lb}"`),null):n}function C6(n,e){let t,i,a,r,o;if(S6(n)){let c=n.getAttribute("action");i=c?lo(c,e):null,t=n.getAttribute("method")||Ob,a=pM(n.getAttribute("enctype"))||Lb,r=new FormData(n)}else if(_6(n)||M6(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(i=f?lo(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Ob,a=pM(n.getAttribute("formenctype"))||pM(c.getAttribute("enctype"))||Lb,r=new FormData(c,n),!T6()){let{name:d,type:m,value:g}=n;if(m==="image"){let y=d?`${d}.`:"";r.append(`${y}x`,"0"),r.append(`${y}y`,"0")}else d&&r.append(d,g)}}else{if(yS(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ob,i=null,a=Lb,o=n}return r&&a==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ET(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function R6(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&lo(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function N6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function O6(n,e,t){let i=await Promise.all(n.map(async a=>{let r=e.routes[a.route.id];if(r){let o=await N6(r,t);return o.links?o.links():[]}return[]}));return z6(i.flat(1).filter(D6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eC(n,e,t,i,a,r){let o=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return r==="assets"?e.filter((f,d)=>o(f,d)||c(f,d)):r==="data"?e.filter((f,d)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function L6(n,e,{includeHydrateFallback:t}={}){return U6(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function U6(n){return[...new Set(n)]}function P6(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function z6(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let r=JSON.stringify(P6(a));return t.has(r)||(t.add(r),i.push({key:r,link:a})),i},[])}function HO(){let n=O.useContext($d);return ET(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function B6(){let n=O.useContext(Tx);return ET(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wT=O.createContext(void 0);wT.displayName="FrameworkContext";function jO(){let n=O.useContext(wT);return ET(n,"You must render this element inside a <HydratedRouter> element"),n}function I6(n,e){let t=O.useContext(wT),[i,a]=O.useState(!1),[r,o]=O.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,y=O.useRef(null);O.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=S=>{S.forEach(R=>{o(R.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),O.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let b=()=>{a(!0)},_=()=>{a(!1),o(!1)};return t?n!=="intent"?[r,y,{}]:[r,y,{onFocus:cg(c,b),onBlur:cg(f,_),onMouseEnter:cg(d,b),onMouseLeave:cg(m,_),onTouchStart:cg(g,b)}]:[!1,y,{}]}function cg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function F6({page:n,...e}){let{router:t}=HO(),i=O.useMemo(()=>Gu(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?O.createElement(k6,{page:n,matches:i,...e}):null}function V6(n){let{manifest:e,routeModules:t}=jO(),[i,a]=O.useState([]);return O.useEffect(()=>{let r=!1;return O6(n,e,t).then(o=>{r||a(o)}),()=>{r=!0}},[n,e,t]),i}function k6({page:n,matches:e,...t}){let i=cf(),{manifest:a,routeModules:r}=jO(),{basename:o}=HO(),{loaderData:c,matches:f}=B6(),d=O.useMemo(()=>eC(n,e,f,a,i,"data"),[n,e,f,a,i]),m=O.useMemo(()=>eC(n,e,f,a,i,"assets"),[n,e,f,a,i]),g=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,T=!1;if(e.forEach(S=>{let R=a.routes[S.route.id];!R||!R.hasLoader||(!d.some(D=>D.route.id===S.route.id)&&S.route.id in c&&r[S.route.id]?.shouldRevalidate||R.hasClientLoader?T=!0:_.add(S.route.id))}),_.size===0)return[];let E=R6(n,o,"data");return T&&_.size>0&&E.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[o,c,i,a,d,e,n,r]),y=O.useMemo(()=>L6(m,a),[m,a]),b=V6(m);return O.createElement(O.Fragment,null,g.map(_=>O.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>O.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),b.map(({key:_,link:T})=>O.createElement("link",{key:_,nonce:t.nonce,...T})))}function H6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GO&&(window.__reactRouterVersion="7.9.5")}catch{}function j6(n,e){return CF({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:kI({window:e?.window}),hydrationData:G6(),routes:n,mapRouteProperties:h6,hydrationRouteProperties:p6,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function G6(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:X6(n.errors)}),n}function X6(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")t[i]=new Qb(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let r=window[a.__subType];if(typeof r=="function")try{let o=new r(a.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let r=new Error(a.message);r.stack="",t[i]=r}}else t[i]=a;return t}var XO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qO=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:r,replace:o,state:c,target:f,to:d,preventScrollReset:m,viewTransition:g,...y},b){let{basename:_}=O.useContext(ql),T=typeof d=="string"&&XO.test(d),E,S=!1;if(typeof d=="string"&&T&&(E=d,GO))try{let I=new URL(window.location.href),V=d.startsWith("//")?new URL(I.protocol+d):new URL(d),W=lo(V.pathname,_);V.origin===I.origin&&W!=null?d=W+V.search+V.hash:S=!0}catch{ga(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=QF(d,{relative:a}),[D,U,F]=I6(i,y),P=K6(d,{replace:o,state:c,target:f,preventScrollReset:m,relative:a,viewTransition:g});function L(I){e&&e(I),I.defaultPrevented||P(I)}let B=O.createElement("a",{...y,...F,href:E||R,onClick:S||r?e:L,ref:H6(b,U),target:f,"data-discover":!T&&t==="render"?"true":void 0});return D&&!T?O.createElement(O.Fragment,null,B,O.createElement(F6,{page:R})):B});qO.displayName="Link";var q6=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:r,to:o,viewTransition:c,children:f,...d},m){let g=Cx(o,{relative:d.relative}),y=cf(),b=O.useContext(Tx),{navigator:_,basename:T}=O.useContext(ql),E=b!=null&&e8(g)&&c===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,R=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(R=R.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&T&&(D=lo(D,T)||D);const U=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let F=R===S||!a&&R.startsWith(S)&&R.charAt(U)==="/",P=D!=null&&(D===S||!a&&D.startsWith(S)&&D.charAt(S.length)==="/"),L={isActive:F,isPending:P,isTransitioning:E},B=F?e:void 0,I;typeof i=="function"?I=i(L):I=[i,F?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof r=="function"?r(L):r;return O.createElement(qO,{...d,"aria-current":B,className:I,ref:m,style:V,to:o,viewTransition:c},typeof f=="function"?f(L):f)});q6.displayName="NavLink";var W6=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:r,method:o=Ob,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:g,...y},b)=>{let _=Q6(),T=$6(c,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&XO.test(c),R=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,F=U?.getAttribute("formmethod")||o;_(U||D.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:a,state:r,relative:d,preventScrollReset:m,viewTransition:g})};return O.createElement("form",{ref:b,method:E,action:T,onSubmit:i?f:R,...y,"data-discover":!S&&n==="render"?"true":void 0})});W6.displayName="Form";function Y6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WO(n){let e=O.useContext($d);return Ln(e,Y6(n)),e}function K6(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:r,viewTransition:o}={}){let c=uf(),f=cf(),d=Cx(n,{relative:r});return O.useCallback(m=>{if(w6(m,e)){m.preventDefault();let g=t!==void 0?t:jl(f)===jl(d);c(n,{replace:g,state:i,preventScrollReset:a,relative:r,viewTransition:o})}},[f,c,d,t,i,e,n,a,r,o])}var Z6=0,J6=()=>`__${String(++Z6)}__`;function Q6(){let{router:n}=WO("useSubmit"),{basename:e}=O.useContext(ql),t=f6();return O.useCallback(async(i,a={})=>{let{action:r,method:o,encType:c,formData:f,body:d}=C6(i,e);if(a.navigate===!1){let m=a.fetcherKey||J6();await n.fetch(m,t,a.action||r,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await n.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function $6(n,{relative:e}={}){let{basename:t}=O.useContext(ql),i=O.useContext(Wl);Ln(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...Cx(n||".",{relative:e})},o=cf();if(n==null){r.search=o.search;let c=new URLSearchParams(r.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();r.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Bl([t,r.pathname])),jl(r)}function e8(n,{relative:e}={}){let t=O.useContext(bT);Ln(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=WO("useViewTransitionState"),a=Cx(n,{relative:e});if(!t.isTransitioning)return!1;let r=lo(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=lo(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Jb(a.pathname,o)!=null||Jb(a.pathname,r)!=null}var vS=bO();const t8=gS(vS);function n8(n){return O.createElement(g6,{flushSync:vS.flushSync,...n})}const TT=O.createContext({});function AT(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const CT=typeof window<"u",YO=CT?O.useLayoutEffect:O.useEffect,bS=O.createContext(null);function RT(n,e){n.indexOf(e)===-1&&n.push(e)}function NT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fc=(n,e,t)=>t>e?e:t<n?n:t;let DT=()=>{};const Vc={},KO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function ZO(n){return typeof n=="object"&&n!==null}const JO=n=>/^0[^.\s]+$/u.test(n);function OT(n){let e;return()=>(e===void 0&&(e=n()),e)}const so=n=>n,i8=(n,e)=>t=>e(n(t)),Rx=(...n)=>n.reduce(i8),Qg=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class LT{constructor(){this.subscriptions=[]}add(e){return RT(this.subscriptions,e),()=>NT(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let r=0;r<a;r++){const o=this.subscriptions[r];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Il=n=>n*1e3,ao=n=>n/1e3;function QO(n,e){return e?n*(1e3/e):0}const $O=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,a8=1e-7,r8=12;function s8(n,e,t,i,a){let r,o,c=0;do o=e+(t-e)/2,r=$O(o,i,a)-n,r>0?t=o:e=o;while(Math.abs(r)>a8&&++c<r8);return o}function Nx(n,e,t,i){if(n===e&&t===i)return so;const a=r=>s8(r,0,1,n,t);return r=>r===0||r===1?r:$O(a(r),e,i)}const eL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,tL=n=>e=>1-n(1-e),nL=Nx(.33,1.53,.69,.99),UT=tL(nL),iL=eL(UT),aL=n=>(n*=2)<1?.5*UT(n):.5*(2-Math.pow(2,-10*(n-1))),PT=n=>1-Math.sin(Math.acos(n)),rL=tL(PT),sL=eL(PT),o8=Nx(.42,0,1,1),l8=Nx(0,0,.58,1),oL=Nx(.42,0,.58,1),c8=n=>Array.isArray(n)&&typeof n[0]!="number",lL=n=>Array.isArray(n)&&typeof n[0]=="number",u8={linear:so,easeIn:o8,easeInOut:oL,easeOut:l8,circIn:PT,circInOut:sL,circOut:rL,backIn:UT,backInOut:iL,backOut:nL,anticipate:aL},f8=n=>typeof n=="string",tC=n=>{if(lL(n)){DT(n.length===4);const[e,t,i,a]=n;return Nx(e,t,i,a)}else if(f8(n))return u8[n];return n},Mv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function d8(n,e){let t=new Set,i=new Set,a=!1,r=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){o.has(m)&&(d.schedule(m),n()),m(c)}const d={schedule:(m,g=!1,y=!1)=>{const _=y&&a?t:i;return g&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(c=m,a){r=!0;return}a=!0,[t,i]=[i,t],t.forEach(f),t.clear(),a=!1,r&&(r=!1,d.process(m))}};return d}const h8=40;function cL(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=Mv.reduce((D,U)=>(D[U]=d8(r),D),{}),{setup:c,read:f,resolveKeyframes:d,preUpdate:m,update:g,preRender:y,render:b,postRender:_}=o,T=()=>{const D=Vc.useManualTiming?a.timestamp:performance.now();t=!1,Vc.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(D-a.timestamp,h8),1)),a.timestamp=D,a.isProcessing=!0,c.process(a),f.process(a),d.process(a),m.process(a),g.process(a),y.process(a),b.process(a),_.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(T))},E=()=>{t=!0,i=!0,a.isProcessing||n(T)};return{schedule:Mv.reduce((D,U)=>{const F=o[U];return D[U]=(P,L=!1,B=!1)=>(t||E(),F.schedule(P,L,B)),D},{}),cancel:D=>{for(let U=0;U<Mv.length;U++)o[Mv[U]].cancel(D)},state:a,steps:o}}const{schedule:Pi,cancel:Qu,state:Ka,steps:mM}=cL(typeof requestAnimationFrame<"u"?requestAnimationFrame:so,!0);let Ub;function p8(){Ub=void 0}const rs={now:()=>(Ub===void 0&&rs.set(Ka.isProcessing||Vc.useManualTiming?Ka.timestamp:performance.now()),Ub),set:n=>{Ub=n,queueMicrotask(p8)}},uL=n=>e=>typeof e=="string"&&e.startsWith(n),zT=uL("--"),m8=uL("var(--"),BT=n=>m8(n)?g8.test(n.split("/*")[0].trim()):!1,g8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},$g={...vm,transform:n=>Fc(0,1,n)},Ev={...vm,default:1},Ug=n=>Math.round(n*1e5)/1e5,IT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x8(n){return n==null}const y8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FT=(n,e)=>t=>!!(typeof t=="string"&&y8.test(t)&&t.startsWith(n)||e&&!x8(t)&&Object.prototype.hasOwnProperty.call(t,e)),fL=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,r,o,c]=i.match(IT);return{[n]:parseFloat(a),[e]:parseFloat(r),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},v8=n=>Fc(0,255,n),gM={...vm,transform:n=>Math.round(v8(n))},Dd={test:FT("rgb","red"),parse:fL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+gM.transform(n)+", "+gM.transform(e)+", "+gM.transform(t)+", "+Ug($g.transform(i))+")"};function b8(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ow={test:FT("#"),parse:b8,transform:Dd.transform},Dx=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ku=Dx("deg"),Fl=Dx("%"),sn=Dx("px"),_8=Dx("vh"),S8=Dx("vw"),nC={...Fl,parse:n=>Fl.parse(n)/100,transform:n=>Fl.transform(n*100)},kp={test:FT("hsl","hue"),parse:fL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Fl.transform(Ug(e))+", "+Fl.transform(Ug(t))+", "+Ug($g.transform(i))+")"},ma={test:n=>Dd.test(n)||ow.test(n)||kp.test(n),parse:n=>Dd.test(n)?Dd.parse(n):kp.test(n)?kp.parse(n):ow.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Dd.transform(n):kp.transform(n),getAnimatableNone:n=>{const e=ma.parse(n);return e.alpha=0,ma.transform(e)}},M8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E8(n){return isNaN(n)&&typeof n=="string"&&(n.match(IT)?.length||0)+(n.match(M8)?.length||0)>0}const dL="number",hL="color",w8="var",T8="var(",iC="${}",A8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ex(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let r=0;const c=e.replace(A8,f=>(ma.test(f)?(i.color.push(r),a.push(hL),t.push(ma.parse(f))):f.startsWith(T8)?(i.var.push(r),a.push(w8),t.push(f)):(i.number.push(r),a.push(dL),t.push(parseFloat(f))),++r,iC)).split(iC);return{values:t,split:c,indexes:i,types:a}}function pL(n){return ex(n).values}function mL(n){const{split:e,types:t}=ex(n),i=e.length;return a=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],a[o]!==void 0){const c=t[o];c===dL?r+=Ug(a[o]):c===hL?r+=ma.transform(a[o]):r+=a[o]}return r}}const C8=n=>typeof n=="number"?0:ma.test(n)?ma.getAnimatableNone(n):n;function R8(n){const e=pL(n);return mL(n)(e.map(C8))}const $u={test:E8,parse:pL,createTransformer:mL,getAnimatableNone:R8};function xM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function N8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,r=0,o=0;if(!e)a=r=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,f=2*t-c;a=xM(f,c,n+1/3),r=xM(f,c,n),o=xM(f,c,n-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function e_(n,e){return t=>t>0?e:n}const Hi=(n,e,t)=>n+(e-n)*t,yM=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},D8=[ow,Dd,kp],O8=n=>D8.find(e=>e.test(n));function aC(n){const e=O8(n);if(!e)return!1;let t=e.parse(n);return e===kp&&(t=N8(t)),t}const rC=(n,e)=>{const t=aC(n),i=aC(e);if(!t||!i)return e_(n,e);const a={...t};return r=>(a.red=yM(t.red,i.red,r),a.green=yM(t.green,i.green,r),a.blue=yM(t.blue,i.blue,r),a.alpha=Hi(t.alpha,i.alpha,r),Dd.transform(a))},lw=new Set(["none","hidden"]);function L8(n,e){return lw.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function U8(n,e){return t=>Hi(n,e,t)}function VT(n){return typeof n=="number"?U8:typeof n=="string"?BT(n)?e_:ma.test(n)?rC:B8:Array.isArray(n)?gL:typeof n=="object"?ma.test(n)?rC:P8:e_}function gL(n,e){const t=[...n],i=t.length,a=n.map((r,o)=>VT(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)t[o]=a[o](r);return t}}function P8(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=VT(n[a])(n[a],e[a]));return a=>{for(const r in i)t[r]=i[r](a);return t}}function z8(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],o=n.indexes[r][i[r]],c=n.values[o]??0;t[a]=c,i[r]++}return t}const B8=(n,e)=>{const t=$u.createTransformer(e),i=ex(n),a=ex(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?lw.has(n)&&!a.values.length||lw.has(e)&&!i.values.length?L8(n,e):Rx(gL(z8(i,a),a.values),t):e_(n,e)};function xL(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Hi(n,e,t):VT(n)(n,e)}const I8=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Pi.update(e,t),stop:()=>Qu(e),now:()=>Ka.isProcessing?Ka.timestamp:rs.now()}},yL=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let r=0;r<a;r++)i+=Math.round(n(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},t_=2e4;function kT(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<t_;)e+=t,i=n.next(e);return e>=t_?1/0:e}function F8(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(kT(i),t_);return{type:"keyframes",ease:r=>i.next(a*r).value/e,duration:ao(a)}}const V8=5;function vL(n,e,t){const i=Math.max(e-V8,0);return QO(t-n(i),e-i)}const Ki={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vM=.001;function k8({duration:n=Ki.duration,bounce:e=Ki.bounce,velocity:t=Ki.velocity,mass:i=Ki.mass}){let a,r,o=1-e;o=Fc(Ki.minDamping,Ki.maxDamping,o),n=Fc(Ki.minDuration,Ki.maxDuration,ao(n)),o<1?(a=d=>{const m=d*o,g=m*n,y=m-t,b=cw(d,o),_=Math.exp(-g);return vM-y/b*_},r=d=>{const g=d*o*n,y=g*t+t,b=Math.pow(o,2)*Math.pow(d,2)*n,_=Math.exp(-g),T=cw(Math.pow(d,2),o);return(-a(d)+vM>0?-1:1)*((y-b)*_)/T}):(a=d=>{const m=Math.exp(-d*n),g=(d-t)*n+1;return-vM+m*g},r=d=>{const m=Math.exp(-d*n),g=(t-d)*(n*n);return m*g});const c=5/n,f=j8(a,r,c);if(n=Il(n),isNaN(f))return{stiffness:Ki.stiffness,damping:Ki.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const H8=12;function j8(n,e,t){let i=t;for(let a=1;a<H8;a++)i=i-n(i)/e(i);return i}function cw(n,e){return n*Math.sqrt(1-e*e)}const G8=["duration","bounce"],X8=["stiffness","damping","mass"];function sC(n,e){return e.some(t=>n[t]!==void 0)}function q8(n){let e={velocity:Ki.velocity,stiffness:Ki.stiffness,damping:Ki.damping,mass:Ki.mass,isResolvedFromDuration:!1,...n};if(!sC(n,X8)&&sC(n,G8))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,r=2*Fc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ki.mass,stiffness:a,damping:r}}else{const t=k8(n);e={...e,...t,mass:Ki.mass},e.isResolvedFromDuration=!0}return e}function n_(n=Ki.visualDuration,e=Ki.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:r},{stiffness:f,damping:d,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=q8({...t,velocity:-ao(t.velocity||0)}),_=y||0,T=d/(2*Math.sqrt(f*m)),E=o-r,S=ao(Math.sqrt(f/m)),R=Math.abs(E)<5;i||(i=R?Ki.restSpeed.granular:Ki.restSpeed.default),a||(a=R?Ki.restDelta.granular:Ki.restDelta.default);let D;if(T<1){const F=cw(S,T);D=P=>{const L=Math.exp(-T*S*P);return o-L*((_+T*S*E)/F*Math.sin(F*P)+E*Math.cos(F*P))}}else if(T===1)D=F=>o-Math.exp(-S*F)*(E+(_+S*E)*F);else{const F=S*Math.sqrt(T*T-1);D=P=>{const L=Math.exp(-T*S*P),B=Math.min(F*P,300);return o-L*((_+T*S*E)*Math.sinh(B)+F*E*Math.cosh(B))/F}}const U={calculatedDuration:b&&g||null,next:F=>{const P=D(F);if(b)c.done=F>=g;else{let L=F===0?_:0;T<1&&(L=F===0?Il(_):vL(D,F,P));const B=Math.abs(L)<=i,I=Math.abs(o-P)<=a;c.done=B&&I}return c.value=c.done?o:P,c},toString:()=>{const F=Math.min(kT(U),t_),P=yL(L=>U.next(F*L).value,F,30);return F+"ms "+P},toTransition:()=>{}};return U}n_.applyToOptions=n=>{const e=F8(n,100,n_);return n.ease=e.ease,n.duration=Il(e.duration),n.type="keyframes",n};function uw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:o,min:c,max:f,restDelta:d=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},b=B=>c!==void 0&&B<c||f!==void 0&&B>f,_=B=>c===void 0?f:f===void 0||Math.abs(c-B)<Math.abs(f-B)?c:f;let T=t*e;const E=g+T,S=o===void 0?E:o(E);S!==E&&(T=S-g);const R=B=>-T*Math.exp(-B/i),D=B=>S+R(B),U=B=>{const I=R(B),V=D(B);y.done=Math.abs(I)<=d,y.value=y.done?S:V};let F,P;const L=B=>{b(y.value)&&(F=B,P=n_({keyframes:[y.value,_(y.value)],velocity:vL(D,B,y.value),damping:a,stiffness:r,restDelta:d,restSpeed:m}))};return L(0),{calculatedDuration:null,next:B=>{let I=!1;return!P&&F===void 0&&(I=!0,U(B),L(B)),F!==void 0&&B>=F?P.next(B-F):(!I&&U(B),y)}}}function W8(n,e,t){const i=[],a=t||Vc.mix||xL,r=n.length-1;for(let o=0;o<r;o++){let c=a(n[o],n[o+1]);if(e){const f=Array.isArray(e)?e[o]||so:e;c=Rx(f,c)}i.push(c)}return i}function Y8(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const r=n.length;if(DT(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=W8(e,i,a),f=c.length,d=m=>{if(o&&m<n[0])return e[0];let g=0;if(f>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=Qg(n[g],n[g+1],m);return c[g](y)};return t?m=>d(Fc(n[0],n[r-1],m)):d}function K8(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=Qg(0,e,i);n.push(Hi(t,1,a))}}function Z8(n){const e=[0];return K8(e,n.length-1),e}function J8(n,e){return n.map(t=>t*e)}function Q8(n,e){return n.map(()=>e||oL).splice(0,n.length-1)}function Pg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=c8(i)?i.map(tC):tC(i),r={done:!1,value:e[0]},o=J8(t&&t.length===e.length?t:Z8(e),n),c=Y8(o,e,{ease:Array.isArray(a)?a:Q8(e,a)});return{calculatedDuration:n,next:f=>(r.value=c(f),r.done=f>=n,r)}}const $8=n=>n!==null;function HT(n,{repeat:e,repeatType:t="loop"},i,a=1){const r=n.filter($8),c=a<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!c||i===void 0?r[c]:i}const eV={decay:uw,inertia:uw,tween:Pg,keyframes:Pg,spring:n_};function bL(n){typeof n.type=="string"&&(n.type=eV[n.type])}class jT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const tV=n=>n/100;class GT extends jT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==rs.now()&&this.tick(rs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bL(e);const{type:t=Pg,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:o=0}=e;let{keyframes:c}=e;const f=t||Pg;f!==Pg&&typeof c[0]!="number"&&(this.mixKeyframes=Rx(tV,xL(c[0],c[1])),c=[0,100]);const d=f({...e,keyframes:c});r==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=kT(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:_,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let D=this.currentTime,U=i;if(g){const B=Math.min(this.currentTime,a)/c;let I=Math.floor(B),V=B%1;!V&&B>=1&&(V=1),V===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(y==="reverse"?(V=1-V,b&&(V-=b/c)):y==="mirror"&&(U=o)),D=Fc(0,1,V)*c}const F=R?{done:!1,value:m[0]}:U.next(D);r&&(F.value=r(F.value));let{done:P}=F;!R&&f!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return L&&_!==uw&&(F.value=HT(m,this.options,E,this.speed)),T&&T(F.value),L&&this.finish(),F}then(e,t){return this.finished.then(e,t)}get duration(){return ao(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ao(e)}get time(){return ao(this.currentTime)}set time(e){e=Il(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ao(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=I8,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nV(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Od=n=>n*180/Math.PI,fw=n=>{const e=Od(Math.atan2(n[1],n[0]));return dw(e)},iV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:fw,rotateZ:fw,skewX:n=>Od(Math.atan(n[1])),skewY:n=>Od(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},dw=n=>(n=n%360,n<0&&(n+=360),n),oC=fw,lC=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cC=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),aV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lC,scaleY:cC,scale:n=>(lC(n)+cC(n))/2,rotateX:n=>dw(Od(Math.atan2(n[6],n[5]))),rotateY:n=>dw(Od(Math.atan2(-n[2],n[0]))),rotateZ:oC,rotate:oC,skewX:n=>Od(Math.atan(n[4])),skewY:n=>Od(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function hw(n){return n.includes("scale")?1:0}function pw(n,e){if(!n||n==="none")return hw(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=aV,a=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=iV,a=c}if(!a)return hw(e);const r=i[e],o=a[1].split(",").map(sV);return typeof r=="function"?r(o):o[r]}const rV=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return pw(t,e)};function sV(n){return parseFloat(n.trim())}const bm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_m=new Set(bm),uC=n=>n===vm||n===sn,oV=new Set(["x","y","z"]),lV=bm.filter(n=>!oV.has(n));function cV(n){const e=[];return lV.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Bd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>pw(e,"x"),y:(n,{transform:e})=>pw(e,"y")};Bd.translateX=Bd.x;Bd.translateY=Bd.y;const Id=new Set;let mw=!1,gw=!1,xw=!1;function _L(){if(gw){const n=Array.from(Id).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=cV(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([r,o])=>{i.getValue(r)?.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}gw=!1,mw=!1,Id.forEach(n=>n.complete(xw)),Id.clear()}function SL(){Id.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(gw=!0)})}function uV(){xw=!0,SL(),_L(),xw=!1}class XT{constructor(e,t,i,a,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Id.add(this),mw||(mw=!0,Pi.read(SL),Pi.resolveKeyframes(_L))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const r=a?.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const c=i.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),a&&r===void 0&&a.set(e[0])}nV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Id.delete(this)}cancel(){this.state==="scheduled"&&(Id.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fV=n=>n.startsWith("--");function dV(n,e,t){fV(e)?n.style.setProperty(e,t):n.style[e]=t}const hV=OT(()=>window.ScrollTimeline!==void 0),pV={};function mV(n,e){const t=OT(n);return()=>pV[e]??t()}const ML=mV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,fC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rg([0,.65,.55,1]),circOut:Rg([.55,0,1,.45]),backIn:Rg([.31,.01,.66,-.59]),backOut:Rg([.33,1.53,.69,.99])};function EL(n,e){if(n)return typeof n=="function"?ML()?yL(n,e):"ease-out":lL(n)?Rg(n):Array.isArray(n)?n.map(t=>EL(t,e)||fC.easeOut):fC[n]}function gV(n,e,t,{delay:i=0,duration:a=300,repeat:r=0,repeatType:o="loop",ease:c="easeOut",times:f}={},d=void 0){const m={[e]:t};f&&(m.offset=f);const g=EL(c,a);Array.isArray(g)&&(m.easing=g);const y={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),n.animate(m,y)}function wL(n){return typeof n=="function"&&"applyToOptions"in n}function xV({type:n,...e}){return wL(n)&&ML()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yV extends jT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,DT(typeof e.type!="string");const d=xV(e);this.animation=gV(t,i,a,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=HT(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):dV(t,i,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ao(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ao(e)}get time(){return ao(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Il(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hV()?(this.animation.timeline=e,so):t(this)}}const TL={anticipate:aL,backInOut:iL,circInOut:sL};function vV(n){return n in TL}function bV(n){typeof n.ease=="string"&&vV(n.ease)&&(n.ease=TL[n.ease])}const dC=10;class _V extends yV{constructor(e){bV(e),bL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:r,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new GT({...o,autoplay:!1}),f=Il(this.finishedTime??this.time);t.setWithVelocity(c.sample(f-dC).value,c.sample(f).value,dC),c.stop()}}const hC=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&($u.test(n)||n==="0")&&!n.startsWith("url("));function SV(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function MV(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],o=hC(a,e),c=hC(r,e);return!o||!c?!1:SV(n)||(t==="spring"||wL(t))&&i}function yw(n){n.duration=0,n.type="keyframes"}const EV=new Set(["opacity","clipPath","filter","transform"]),wV=OT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TV(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:r,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return wV()&&t&&EV.has(t)&&(t!=="transform"||!d)&&!f&&!i&&a!=="mirror"&&r!==0&&o!=="inertia"}const AV=40;class CV extends jT{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:o="loop",keyframes:c,name:f,motionValue:d,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=rs.now();const y={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:r,repeatType:o,name:f,motionValue:d,element:m,...g},b=m?.KeyframeResolver||XT;this.keyframeResolver=new b(c,(_,T,E)=>this.onKeyframesResolved(_,T,y,!E),f,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:r,type:o,velocity:c,delay:f,isHandoff:d,onUpdate:m}=i;this.resolvedAt=rs.now(),MV(e,r,o,c)||((Vc.instantAnimations||!f)&&m?.(HT(e,i,t)),e[0]=e[e.length-1],yw(i),i.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>AV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!d&&TV(y)?new _V({...y,element:y.motionValue.owner.current}):new GT(y);b.finished.then(()=>this.notifyFinished()).catch(so),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),uV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const RV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NV(n){const e=RV.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function AL(n,e,t=1){const[i,a]=NV(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return KO(o)?parseFloat(o):o}return BT(a)?AL(a,e,t+1):a}function qT(n,e){return n?.[e]??n?.default??n}const CL=new Set(["width","height","top","left","right","bottom",...bm]),DV={test:n=>n==="auto",parse:n=>n},RL=n=>e=>e.test(n),NL=[vm,sn,Fl,ku,S8,_8,DV],pC=n=>NL.find(RL(n));function OV(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||JO(n):!0}const LV=new Set(["brightness","contrast","saturate","opacity"]);function UV(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(IT)||[];if(!i)return n;const a=t.replace(i,"");let r=LV.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+a+")"}const PV=/\b([a-z-]*)\(.*?\)/gu,vw={...$u,getAnimatableNone:n=>{const e=n.match(PV);return e?e.map(UV).join(" "):n}},mC={...vm,transform:Math.round},zV={rotate:ku,rotateX:ku,rotateY:ku,rotateZ:ku,scale:Ev,scaleX:Ev,scaleY:Ev,scaleZ:Ev,skew:ku,skewX:ku,skewY:ku,distance:sn,translateX:sn,translateY:sn,translateZ:sn,x:sn,y:sn,z:sn,perspective:sn,transformPerspective:sn,opacity:$g,originX:nC,originY:nC,originZ:sn},WT={borderWidth:sn,borderTopWidth:sn,borderRightWidth:sn,borderBottomWidth:sn,borderLeftWidth:sn,borderRadius:sn,radius:sn,borderTopLeftRadius:sn,borderTopRightRadius:sn,borderBottomRightRadius:sn,borderBottomLeftRadius:sn,width:sn,maxWidth:sn,height:sn,maxHeight:sn,top:sn,right:sn,bottom:sn,left:sn,padding:sn,paddingTop:sn,paddingRight:sn,paddingBottom:sn,paddingLeft:sn,margin:sn,marginTop:sn,marginRight:sn,marginBottom:sn,marginLeft:sn,backgroundPositionX:sn,backgroundPositionY:sn,...zV,zIndex:mC,fillOpacity:$g,strokeOpacity:$g,numOctaves:mC},BV={...WT,color:ma,backgroundColor:ma,outlineColor:ma,fill:ma,stroke:ma,borderColor:ma,borderTopColor:ma,borderRightColor:ma,borderBottomColor:ma,borderLeftColor:ma,filter:vw,WebkitFilter:vw},DL=n=>BV[n];function OL(n,e){let t=DL(n);return t!==vw&&(t=$u),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const IV=new Set(["auto","none","0"]);function FV(n,e,t){let i=0,a;for(;i<n.length&&!a;){const r=n[i];typeof r=="string"&&!IV.has(r)&&ex(r).values.length&&(a=n[i]),i++}if(a&&t)for(const r of e)n[r]=OL(t,a)}class VV extends XT{constructor(e,t,i,a,r){super(e,t,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),BT(d))){const m=AL(d,t.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!CL.has(i)||e.length!==2)return;const[a,r]=e,o=pC(a),c=pC(r);if(o!==c)if(uC(o)&&uC(c))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Bd[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||OV(e[a]))&&i.push(a);i.length&&FV(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,o=i[r];i[r]=Bd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function kV(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const LL=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function UL(n){return ZO(n)&&"offsetHeight"in n}const gC=30,HV=n=>!isNaN(parseFloat(n));class jV{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=rs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=rs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new LT);const i=this.events[e].add(t);return e==="change"?()=>{i(),Pi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gC)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,gC);return QO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nm(n,e){return new jV(n,e)}const{schedule:YT}=cL(queueMicrotask,!1),Vo={x:!1,y:!1};function PL(){return Vo.x||Vo.y}function GV(n){return n==="x"||n==="y"?Vo[n]?null:(Vo[n]=!0,()=>{Vo[n]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function zL(n,e){const t=kV(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function xC(n){return!(n.pointerType==="touch"||PL())}function XV(n,e,t={}){const[i,a,r]=zL(n,t),o=c=>{if(!xC(c))return;const{target:f}=c,d=e(f,c);if(typeof d!="function"||!f)return;const m=g=>{xC(g)&&(d(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,a)};return i.forEach(c=>{c.addEventListener("pointerenter",o,a)}),r}const BL=(n,e)=>e?n===e?!0:BL(n,e.parentElement):!1,KT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,qV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WV(n){return qV.has(n.tagName)||n.tabIndex!==-1}const Pb=new WeakSet;function yC(n){return e=>{e.key==="Enter"&&n(e)}}function bM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YV=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=yC(()=>{if(Pb.has(t))return;bM(t,"down");const a=yC(()=>{bM(t,"up")}),r=()=>bM(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function vC(n){return KT(n)&&!PL()}function KV(n,e,t={}){const[i,a,r]=zL(n,t),o=c=>{const f=c.currentTarget;if(!vC(c))return;Pb.add(f);const d=e(f,c),m=(b,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Pb.has(f)&&Pb.delete(f),vC(b)&&typeof d=="function"&&d(b,{success:_})},g=b=>{m(b,f===window||f===document||t.useGlobalTarget||BL(f,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",y,a)};return i.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),UL(c)&&(c.addEventListener("focus",d=>YV(d,a)),!WV(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),r}function IL(n){return ZO(n)&&"ownerSVGElement"in n}function ZV(n){return IL(n)&&n.tagName==="svg"}const xr=n=>!!(n&&n.getVelocity),JV=[...NL,ma,$u],QV=n=>JV.find(RL(n)),ZT=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function bC(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function $V(...n){return e=>{let t=!1;const i=n.map(a=>{const r=bC(a,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let a=0;a<i.length;a++){const r=i[a];typeof r=="function"?r():bC(n[a],null)}}}}function ek(...n){return O.useCallback($V(...n),n)}class tk extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=UL(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nk({children:n,isPresent:e,anchorX:t,root:i}){const a=O.useId(),r=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=O.useContext(ZT),f=ek(r,n?.ref);return O.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:y,right:b}=o.current;if(e||!r.current||!d||!m)return;const _=t==="left"?`left: ${y}`:`right: ${b}`;r.current.dataset.motionPopId=a;const T=document.createElement("style");c&&(T.nonce=c);const E=i??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[e]),A.jsx(tk,{isPresent:e,childRef:r,sizeRef:o,children:O.cloneElement(n,{ref:f})})}const ik=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:o,anchorX:c,root:f})=>{const d=AT(ak),m=O.useId();let g=!0,y=O.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:t,custom:a,onExitComplete:b=>{d.set(b,!0);for(const _ of d.values())if(!_)return;i&&i()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[t,d,i]);return r&&g&&(y={...y}),O.useMemo(()=>{d.forEach((b,_)=>d.set(_,!1))},[t]),O.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),o==="popLayout"&&(n=A.jsx(nk,{isPresent:t,anchorX:c,root:f,children:n})),A.jsx(bS.Provider,{value:y,children:n})};function ak(){return new Map}function FL(n=!0){const e=O.useContext(bS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,r=O.useId();O.useEffect(()=>{if(n)return a(r)},[n]);const o=O.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,o]:[!0]}const wv=n=>n.key||"";function _C(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const VL=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:o=!1,anchorX:c="left",root:f})=>{const[d,m]=FL(o),g=O.useMemo(()=>_C(n),[n]),y=o&&!d?[]:g.map(wv),b=O.useRef(!0),_=O.useRef(g),T=AT(()=>new Map),[E,S]=O.useState(g),[R,D]=O.useState(g);YO(()=>{b.current=!1,_.current=g;for(let P=0;P<R.length;P++){const L=wv(R[P]);y.includes(L)?T.delete(L):T.get(L)!==!0&&T.set(L,!1)}},[R,y.length,y.join("-")]);const U=[];if(g!==E){let P=[...g];for(let L=0;L<R.length;L++){const B=R[L],I=wv(B);y.includes(I)||(P.splice(L,0,B),U.push(B))}return r==="wait"&&U.length&&(P=U),D(_C(P)),S(g),null}const{forceRender:F}=O.useContext(TT);return A.jsx(A.Fragment,{children:R.map(P=>{const L=wv(P),B=o&&!d?!1:g===R||y.includes(L),I=()=>{if(T.has(L))T.set(L,!0);else return;let V=!0;T.forEach(W=>{W||(V=!1)}),V&&(F?.(),D(_.current),o&&m?.(),i&&i())};return A.jsx(ik,{isPresent:B,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:f,onExitComplete:B?void 0:I,anchorX:c,children:P},L)})})},kL=O.createContext({strict:!1}),SC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},im={};for(const n in SC)im[n]={isEnabled:e=>SC[n].some(t=>!!e[t])};function rk(n){for(const e in n)im[e]={...im[e],...n[e]}}const sk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sk.has(n)}let HL=n=>!i_(n);function ok(n){typeof n=="function"&&(HL=e=>e.startsWith("on")?!i_(e):n(e))}try{ok(require("@emotion/is-prop-valid").default)}catch{}function lk(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(HL(a)||t===!0&&i_(a)||!e&&!i_(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const _S=O.createContext({});function SS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function tx(n){return typeof n=="string"||Array.isArray(n)}const JT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QT=["initial",...JT];function MS(n){return SS(n.animate)||QT.some(e=>tx(n[e]))}function jL(n){return!!(MS(n)||n.variants)}function ck(n,e){if(MS(n)){const{initial:t,animate:i}=n;return{initial:t===!1||tx(t)?t:void 0,animate:tx(i)?i:void 0}}return n.inherit!==!1?e:{}}function uk(n){const{initial:e,animate:t}=ck(n,O.useContext(_S));return O.useMemo(()=>({initial:e,animate:t}),[MC(e),MC(t)])}function MC(n){return Array.isArray(n)?n.join(" "):n}const nx={};function fk(n){for(const e in n)nx[e]=n[e],zT(e)&&(nx[e].isCSSVariable=!0)}function GL(n,{layout:e,layoutId:t}){return _m.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!nx[n]||n==="opacity")}const dk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hk=bm.length;function pk(n,e,t){let i="",a=!0;for(let r=0;r<hk;r++){const o=bm[r],c=n[o];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(o.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||t){const d=LL(c,WT[o]);if(!f){a=!1;const m=dk[o]||o;i+=`${m}(${d}) `}t&&(e[o]=d)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function $T(n,e,t){const{style:i,vars:a,transformOrigin:r}=n;let o=!1,c=!1;for(const f in e){const d=e[f];if(_m.has(f)){o=!0;continue}else if(zT(f)){a[f]=d;continue}else{const m=LL(d,WT[f]);f.startsWith("origin")?(c=!0,r[f]=m):i[f]=m}}if(e.transform||(o||t?i.transform=pk(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:m=0}=r;i.transformOrigin=`${f} ${d} ${m}`}}const e2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XL(n,e,t){for(const i in e)!xr(e[i])&&!GL(i,t)&&(n[i]=e[i])}function mk({transformTemplate:n},e){return O.useMemo(()=>{const t=e2();return $T(t,e,n),Object.assign({},t.vars,t.style)},[e])}function gk(n,e){const t=n.style||{},i={};return XL(i,t,n),Object.assign(i,mk(n,e)),i}function xk(n,e){const t={},i=gk(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const yk={offset:"stroke-dashoffset",array:"stroke-dasharray"},vk={offset:"strokeDashoffset",array:"strokeDasharray"};function bk(n,e,t=1,i=0,a=!0){n.pathLength=1;const r=a?yk:vk;n[r.offset]=sn.transform(-i);const o=sn.transform(e),c=sn.transform(t);n[r.array]=`${o} ${c}`}function qL(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:o=0,...c},f,d,m){if($T(n,c,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),a!==void 0&&bk(g,a,r,o,!1)}const WL=()=>({...e2(),attrs:{}}),YL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _k(n,e,t,i){const a=O.useMemo(()=>{const r=WL();return qL(r,e,YL(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};XL(r,n.style,n),a.style={...r,...a.style}}return a}const Sk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t2(n){return typeof n!="string"||n.includes("-")?!1:!!(Sk.indexOf(n)>-1||/[A-Z]/u.test(n))}function Mk(n,e,t,{latestValues:i},a,r=!1){const c=(t2(n)?_k:xk)(e,i,a,n),f=lk(e,typeof n=="string",r),d=n!==O.Fragment?{...f,...c,ref:t}:{},{children:m}=e,g=O.useMemo(()=>xr(m)?m.get():m,[m]);return O.createElement(n,{...d,children:g})}function EC(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function n2(n,e,t,i){if(typeof e=="function"){const[a,r]=EC(i);e=e(t!==void 0?t:n.custom,a,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,r]=EC(i);e=e(t!==void 0?t:n.custom,a,r)}return e}function zb(n){return xr(n)?n.get():n}function Ek({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:wk(t,i,a,n),renderState:e()}}function wk(n,e,t,i){const a={},r=i(n,{});for(const y in r)a[y]=zb(r[y]);let{initial:o,animate:c}=n;const f=MS(n),d=jL(n);e&&d&&!f&&n.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const g=m?c:o;if(g&&typeof g!="boolean"&&!SS(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const _=n2(n,y[b]);if(_){const{transitionEnd:T,transition:E,...S}=_;for(const R in S){let D=S[R];if(Array.isArray(D)){const U=m?D.length-1:0;D=D[U]}D!==null&&(a[R]=D)}for(const R in T)a[R]=T[R]}}}return a}const KL=n=>(e,t)=>{const i=O.useContext(_S),a=O.useContext(bS),r=()=>Ek(n,e,i,a);return t?r():AT(r)};function i2(n,e,t){const{style:i}=n,a={};for(const r in i)(xr(i[r])||e.style&&xr(e.style[r])||GL(r,n)||t?.getValue(r)?.liveStyle!==void 0)&&(a[r]=i[r]);return a}const Tk=KL({scrapeMotionValuesFromProps:i2,createRenderState:e2});function ZL(n,e,t){const i=i2(n,e,t);for(const a in n)if(xr(n[a])||xr(e[a])){const r=bm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=n[a]}return i}const Ak=KL({scrapeMotionValuesFromProps:ZL,createRenderState:WL}),Ck=Symbol.for("motionComponentSymbol");function Hp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Rk(n,e,t){return O.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Hp(t)&&(t.current=i))},[e])}const a2=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nk="framerAppearId",JL="data-"+a2(Nk),QL=O.createContext({});function Dk(n,e,t,i,a){const{visualElement:r}=O.useContext(_S),o=O.useContext(kL),c=O.useContext(bS),f=O.useContext(ZT).reducedMotion,d=O.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:r,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const m=d.current,g=O.useContext(QL);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&Ok(d.current,t,a,g);const y=O.useRef(!1);O.useInsertionEffect(()=>{m&&y.current&&m.update(t,c)});const b=t[JL],_=O.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return YO(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),O.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),_.current=!1),m.enteringChildren=void 0)}),m}function Ok(n,e,t,i){const{layoutId:a,layout:r,drag:o,dragConstraints:c,layoutScroll:f,layoutRoot:d,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:$L(n.parent)),n.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!o||c&&Hp(c),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:f,layoutRoot:d})}function $L(n){if(n)return n.options.allowProjection!==!1?n.projection:$L(n.parent)}function _M(n,{forwardMotionProps:e=!1}={},t,i){t&&rk(t);const a=t2(n)?Ak:Tk;function r(c,f){let d;const m={...O.useContext(ZT),...c,layoutId:Lk(c)},{isStatic:g}=m,y=uk(c),b=a(c,g);if(!g&&CT){Uk();const _=Pk(m);d=_.MeasureLayout,y.visualElement=Dk(n,b,m,i,_.ProjectionNode)}return A.jsxs(_S.Provider,{value:y,children:[d&&y.visualElement?A.jsx(d,{visualElement:y.visualElement,...m}):null,Mk(n,c,Rk(b,y.visualElement,f),b,g,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=O.forwardRef(r);return o[Ck]=n,o}function Lk({layoutId:n}){const e=O.useContext(TT).id;return e&&n!==void 0?e+"-"+n:n}function Uk(n,e){O.useContext(kL).strict}function Pk(n){const{drag:e,layout:t}=im;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function zk(n,e){if(typeof Proxy>"u")return _M;const t=new Map,i=(r,o)=>_M(r,o,n,e),a=(r,o)=>i(r,o);return new Proxy(a,{get:(r,o)=>o==="create"?i:(t.has(o)||t.set(o,_M(o,void 0,n,e)),t.get(o))})}function eU({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Bk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Ik(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function SM(n){return n===void 0||n===1}function bw({scale:n,scaleX:e,scaleY:t}){return!SM(n)||!SM(e)||!SM(t)}function Ad(n){return bw(n)||tU(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function tU(n){return wC(n.x)||wC(n.y)}function wC(n){return n&&n!=="0%"}function a_(n,e,t){const i=n-t,a=e*i;return t+a}function TC(n,e,t,i,a){return a!==void 0&&(n=a_(n,a,i)),a_(n,t,i)+e}function _w(n,e=0,t=1,i,a){n.min=TC(n.min,e,t,i,a),n.max=TC(n.max,e,t,i,a)}function nU(n,{x:e,y:t}){_w(n.x,e.translate,e.scale,e.originPoint),_w(n.y,t.translate,t.scale,t.originPoint)}const AC=.999999999999,CC=1.0000000000001;function Fk(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let r,o;for(let c=0;c<a;c++){r=t[c],o=r.projectionDelta;const{visualElement:f}=r.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Gp(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nU(n,o)),i&&Ad(r.latestValues)&&Gp(n,r.latestValues))}e.x<CC&&e.x>AC&&(e.x=1),e.y<CC&&e.y>AC&&(e.y=1)}function jp(n,e){n.min=n.min+e,n.max=n.max+e}function RC(n,e,t,i,a=.5){const r=Hi(n.min,n.max,a);_w(n,e,t,r,i)}function Gp(n,e){RC(n.x,e.x,e.scaleX,e.scale,e.originX),RC(n.y,e.y,e.scaleY,e.scale,e.originY)}function iU(n,e){return eU(Ik(n.getBoundingClientRect(),e))}function Vk(n,e,t){const i=iU(n,t),{scroll:a}=e;return a&&(jp(i.x,a.offset.x),jp(i.y,a.offset.y)),i}const NC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xp=()=>({x:NC(),y:NC()}),DC=()=>({min:0,max:0}),oa=()=>({x:DC(),y:DC()}),Sw={current:null},aU={current:!1};function kk(){if(aU.current=!0,!!CT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sw.current=n.matches;n.addEventListener("change",e),e()}else Sw.current=!1}const Hk=new WeakMap;function jk(n,e,t){for(const i in e){const a=e[i],r=t[i];if(xr(a))n.addValue(i,a);else if(xr(r))n.addValue(i,nm(a,{owner:n}));else if(r!==a)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=n.getStaticValue(i);n.addValue(i,nm(o!==void 0?o:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const OC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Gk{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=rs.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Pi.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=MS(t),this.isVariantNode=jL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&xr(b)&&b.set(f[y])}}mount(e){this.current=e,Hk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),aU.current||kk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qu(this.notifyUpdate),Qu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=_m.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Pi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in im){const t=im[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<OC.length;i++){const a=OC[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,o=e[r];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=jk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=nm(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(KO(i)||JO(i))?i=parseFloat(i):!QV(i)&&$u.test(t)&&(i=OL(e,t)),this.setBaseTarget(e,xr(i)?i.get():i)),xr(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const r=n2(this.props,t,this.presenceContext?.custom);r&&(i=r[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new LT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){YT.render(this.render)}}class rU extends Gk{constructor(){super(...arguments),this.KeyframeResolver=VV}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function sU(n,{style:e,vars:t},i,a){const r=n.style;let o;for(o in e)r[o]=e[o];a?.applyProjectionStyles(r,i);for(o in t)r.setProperty(o,t[o])}function Xk(n){return window.getComputedStyle(n)}class qk extends rU{constructor(){super(...arguments),this.type="html",this.renderInstance=sU}readValueFromInstance(e,t){if(_m.has(t))return this.projection?.isProjecting?hw(t):rV(e,t);{const i=Xk(e),a=(zT(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iU(e,t)}build(e,t,i){$T(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return i2(e,t,i)}}const oU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wk(n,e,t,i){sU(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(oU.has(a)?a:a2(a),e.attrs[a])}class Yk extends rU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oa}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_m.has(t)){const i=DL(t);return i&&i.default||0}return t=oU.has(t)?t:a2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ZL(e,t,i)}build(e,t,i){qL(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){Wk(e,t,i,a)}mount(e){this.isSVGTag=YL(e.tagName),super.mount(e)}}const Kk=(n,e)=>t2(n)?new Yk(e):new qk(e,{allowProjection:n!==O.Fragment});function Jp(n,e,t){const i=n.getProps();return n2(i,e,t!==void 0?t:i.custom,n)}const Mw=n=>Array.isArray(n);function Zk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nm(t))}function Jk(n){return Mw(n)?n[n.length-1]||0:n}function Qk(n,e){const t=Jp(n,e);let{transitionEnd:i={},transition:a={},...r}=t||{};r={...r,...i};for(const o in r){const c=Jk(r[o]);Zk(n,o,c)}}function $k(n){return!!(xr(n)&&n.add)}function Ew(n,e){const t=n.getValue("willChange");if($k(t))return t.add(e);if(!t&&Vc.WillChange){const i=new Vc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function lU(n){return n.props[JL]}const eH=n=>n!==null;function tH(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(eH),r=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[r]}const nH={type:"spring",stiffness:500,damping:25,restSpeed:10},iH=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),aH={type:"keyframes",duration:.8},rH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sH=(n,{keyframes:e})=>e.length>2?aH:_m.has(n)?n.startsWith("scale")?iH(e[1]):nH:rH;function oH({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:o,repeatDelay:c,from:f,elapsed:d,...m}){return!!Object.keys(m).length}const r2=(n,e,t,i={},a,r)=>o=>{const c=qT(i,n)||{},f=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Il(f);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:r?void 0:a};oH(c)||Object.assign(m,sH(n,m)),m.duration&&(m.duration=Il(m.duration)),m.repeatDelay&&(m.repeatDelay=Il(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(yw(m),m.delay===0&&(g=!0)),(Vc.instantAnimations||Vc.skipAnimations)&&(g=!0,yw(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!r&&e.get()!==void 0){const y=tH(m.keyframes,c);if(y!==void 0){Pi.update(()=>{m.onUpdate(y),m.onComplete()});return}}return c.isSync?new GT(m):new CV(m)};function lH({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function cU(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:o,...c}=e;i&&(r=i);const f=[],d=a&&n.animationState&&n.animationState.getState()[a];for(const m in c){const g=n.getValue(m,n.latestValues[m]??null),y=c[m];if(y===void 0||d&&lH(d,m))continue;const b={delay:t,...qT(r||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!b.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=lU(n);if(S){const R=window.MotionHandoffAnimation(S,m,Pi);R!==null&&(b.startTime=R,T=!0)}}Ew(n,m),g.start(r2(m,g,y,n.shouldReduceMotion&&CL.has(m)?{type:!1}:b,n,T));const E=g.animation;E&&f.push(E)}return o&&Promise.all(f).then(()=>{Pi.update(()=>{o&&Qk(n,o)})}),f}function uU(n,e,t,i=0,a=1){const r=Array.from(n).sort((d,m)=>d.sortNodePosition(m)).indexOf(e),o=n.size,c=(o-1)*i;return typeof t=="function"?t(r,o):a===1?r*i:c-r*i}function ww(n,e,t={}){const i=Jp(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const r=i?()=>Promise.all(cU(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:g}=a;return cH(n,e,f,d,m,g,t)}:()=>Promise.resolve(),{when:c}=a;if(c){const[f,d]=c==="beforeChildren"?[r,o]:[o,r];return f().then(()=>d())}else return Promise.all([r(),o(t.delay)])}function cH(n,e,t=0,i=0,a=0,r=1,o){const c=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),c.push(ww(f,e,{...o,delay:t+(typeof i=="function"?0:i)+uU(n.variantChildren,f,i,a,r)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(c)}function uH(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(r=>ww(n,r,t));i=Promise.all(a)}else if(typeof e=="string")i=ww(n,e,t);else{const a=typeof e=="function"?Jp(n,e,t.custom):e;i=Promise.all(cU(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function fU(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const fH=QT.length;function dU(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?dU(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<fH;t++){const i=QT[t],a=n.props[i];(tx(a)||a===!1)&&(e[i]=a)}return e}const dH=[...JT].reverse(),hH=JT.length;function pH(n){return e=>Promise.all(e.map(({animation:t,options:i})=>uH(n,t,i)))}function mH(n){let e=pH(n),t=LC(),i=!0;const a=f=>(d,m)=>{const g=Jp(n,m,f==="exit"?n.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,..._}=g;d={...d,..._,...b}}return d};function r(f){e=f(n)}function o(f){const{props:d}=n,m=dU(n.parent)||{},g=[],y=new Set;let b={},_=1/0;for(let E=0;E<hH;E++){const S=dH[E],R=t[S],D=d[S]!==void 0?d[S]:m[S],U=tx(D),F=S===f?R.isActive:null;F===!1&&(_=E);let P=D===m[S]&&D!==d[S]&&U;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),R.protectedKeys={...b},!R.isActive&&F===null||!D&&!R.prevProp||SS(D)||typeof D=="boolean")continue;const L=gH(R.prevProp,D);let B=L||S===f&&R.isActive&&!P&&U||E>_&&U,I=!1;const V=Array.isArray(D)?D:[D];let W=V.reduce(a(S),{});F===!1&&(W={});const{prevResolvedValues:te={}}=R,ne={...te,...W},ie=q=>{B=!0,y.has(q)&&(I=!0,y.delete(q)),R.needsAnimating[q]=!0;const G=n.getValue(q);G&&(G.liveStyle=!1)};for(const q in ne){const G=W[q],ee=te[q];if(b.hasOwnProperty(q))continue;let ue=!1;Mw(G)&&Mw(ee)?ue=!fU(G,ee):ue=G!==ee,ue?G!=null?ie(q):y.add(q):G!==void 0&&y.has(q)?ie(q):R.protectedKeys[q]=!0}R.prevProp=D,R.prevResolvedValues=W,R.isActive&&(b={...b,...W}),i&&n.blockInitialAnimation&&(B=!1);const oe=P&&L;B&&(!oe||I)&&g.push(...V.map(q=>{const G={type:S};if(typeof q=="string"&&i&&!oe&&n.manuallyAnimateOnMount&&n.parent){const{parent:ee}=n,ue=Jp(ee,q);if(ee.enteringChildren&&ue){const{delayChildren:K}=ue.transition||{};G.delay=uU(ee.enteringChildren,n,K)}}return{animation:q,options:G}}))}if(y.size){const E={};if(typeof d.initial!="boolean"){const S=Jp(n,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(E.transition=S.transition)}y.forEach(S=>{const R=n.getBaseTarget(S),D=n.getValue(S);D&&(D.liveStyle=!0),E[S]=R??null}),g.push({animation:E})}let T=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(g):Promise.resolve()}function c(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(g=>g.animationState?.setActive(f,d)),t[f].isActive=d;const m=o(f);for(const g in t)t[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:r,getState:()=>t,reset:()=>{t=LC()}}}function gH(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!fU(e,n):!1}function ud(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LC(){return{animate:ud(!0),whileInView:ud(),whileHover:ud(),whileTap:ud(),whileDrag:ud(),whileFocus:ud(),exit:ud()}}class ff{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xH extends ff{constructor(e){super(e),e.animationState||(e.animationState=mH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();SS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yH=0;class vH extends ff{constructor(){super(...arguments),this.id=yH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bH={animation:{Feature:xH},exit:{Feature:vH}};function ix(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Ox(n){return{point:{x:n.pageX,y:n.pageY}}}const _H=n=>e=>KT(e)&&n(e,Ox(e));function zg(n,e,t,i){return ix(n,e,_H(t),i)}const hU=1e-4,SH=1-hU,MH=1+hU,pU=.01,EH=0-pU,wH=0+pU;function Hr(n){return n.max-n.min}function TH(n,e,t){return Math.abs(n-e)<=t}function UC(n,e,t,i=.5){n.origin=i,n.originPoint=Hi(e.min,e.max,n.origin),n.scale=Hr(t)/Hr(e),n.translate=Hi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=SH&&n.scale<=MH||isNaN(n.scale))&&(n.scale=1),(n.translate>=EH&&n.translate<=wH||isNaN(n.translate))&&(n.translate=0)}function Bg(n,e,t,i){UC(n.x,e.x,t.x,i?i.originX:void 0),UC(n.y,e.y,t.y,i?i.originY:void 0)}function PC(n,e,t){n.min=t.min+e.min,n.max=n.min+Hr(e)}function AH(n,e,t){PC(n.x,e.x,t.x),PC(n.y,e.y,t.y)}function zC(n,e,t){n.min=e.min-t.min,n.max=n.min+Hr(e)}function Ig(n,e,t){zC(n.x,e.x,t.x),zC(n.y,e.y,t.y)}function to(n){return[n("x"),n("y")]}const mU=({current:n})=>n?n.ownerDocument.defaultView:null,BC=(n,e)=>Math.abs(n-e);function CH(n,e){const t=BC(n.x,e.x),i=BC(n.y,e.y);return Math.sqrt(t**2+i**2)}class gU{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=EM(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=CH(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:T}=y,{timestamp:E}=Ka;this.history.push({...T,timestamp:E});const{onStart:S,onMove:R}=this.handlers;b||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=MM(b,this.transformPagePoint),Pi.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=EM(y.type==="pointercancel"?this.lastMoveEventInfo:MM(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,S),T&&T(y,S)},!KT(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=a||window;const c=Ox(e),f=MM(c,this.transformPagePoint),{point:d}=f,{timestamp:m}=Ka;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,EM(f,this.history)),this.removeListeners=Rx(zg(this.contextWindow,"pointermove",this.handlePointerMove),zg(this.contextWindow,"pointerup",this.handlePointerUp),zg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qu(this.updatePoint)}}function MM(n,e){return e?{point:e(n.point)}:n}function IC(n,e){return{x:n.x-e.x,y:n.y-e.y}}function EM({point:n},e){return{point:n,delta:IC(n,xU(e)),offset:IC(n,RH(e)),velocity:NH(e,.1)}}function RH(n){return n[0]}function xU(n){return n[n.length-1]}function NH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=xU(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Il(e)));)t--;if(!i)return{x:0,y:0};const r=ao(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function DH(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Hi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Hi(t,n,i.max):Math.min(n,t)),n}function FC(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function OH(n,{top:e,left:t,bottom:i,right:a}){return{x:FC(n.x,t,a),y:FC(n.y,e,i)}}function VC(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function LH(n,e){return{x:VC(n.x,e.x),y:VC(n.y,e.y)}}function UH(n,e){let t=.5;const i=Hr(n),a=Hr(e);return a>i?t=Qg(e.min,e.max-i,n.min):i>a&&(t=Qg(n.min,n.max-a,e.min)),Fc(0,1,t)}function PH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Tw=.35;function zH(n=Tw){return n===!1?n=0:n===!0&&(n=Tw),{x:kC(n,"left","right"),y:kC(n,"top","bottom")}}function kC(n,e,t){return{min:HC(n,e),max:HC(n,t)}}function HC(n,e){return typeof n=="number"?n:n[e]||0}const BH=new WeakMap;class IH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ox(g).point)},o=(g,y)=>{const{drag:b,dragPropagation:_,onDragStart:T}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GV(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),to(S=>{let R=this.getAxisMotionValue(S).get()||0;if(Fl.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const U=D.layout.layoutBox[S];U&&(R=Hr(U)*(parseFloat(R)/100))}}this.originPoint[S]=R}),T&&Pi.postRender(()=>T(g,y)),Ew(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:T,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=y;if(_&&this.currentDirection===null){this.currentDirection=FH(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),E&&E(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>to(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new gU(e,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:mU(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Pi.postRender(()=>c(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Tv(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=DH(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Hp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=OH(i.layoutBox,e):this.constraints=!1,this.elastic=zH(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&to(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=PH(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Hp(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=Vk(i,a.root,this.visualElement.getTransformPagePoint());let o=LH(a.layout.layoutBox,r);if(t){const c=t(Bk(o));this.hasMutatedConstraints=!!c,c&&(o=eU(c))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},d=to(m=>{if(!Tv(m,t,this.currentDirection))return;let g=f&&f[m]||{};o&&(g={min:0,max:0});const y=a?200:1e6,b=a?40:1e7,_={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Ew(this.visualElement,e),i.start(r2(e,i,0,t,this.visualElement,!1))}stopAnimation(){to(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){to(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){to(t=>{const{drag:i}=this.getProps();if(!Tv(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(t);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[t];r.set(e[t]-Hi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Hp(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};to(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const f=c.get();a[o]=UH({min:f,max:f},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),to(o=>{if(!Tv(o,e,null))return;const c=this.getAxisMotionValue(o),{min:f,max:d}=this.constraints[o];c.set(Hi(f,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;BH.set(this.visualElement,this);const e=this.visualElement.current,t=zg(e,"pointerdown",f=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Hp(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pi.read(i);const o=ix(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(to(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{o(),t(),r(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:o=Tw,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:o,dragMomentum:c}}}function Tv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function FH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class VH extends ff{constructor(e){super(e),this.removeGroupControls=so,this.removeListeners=so,this.controls=new IH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||so}unmount(){this.removeGroupControls(),this.removeListeners()}}const jC=n=>(e,t)=>{n&&Pi.postRender(()=>n(e,t))};class kH extends ff{constructor(){super(...arguments),this.removePointerDownListener=so}onPointerDown(e){this.session=new gU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:jC(e),onStart:jC(t),onMove:i,onEnd:(r,o)=>{delete this.session,a&&Pi.postRender(()=>a(r,o))}}}mount(){this.removePointerDownListener=zg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GC(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ug={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(sn.test(n))n=parseFloat(n);else return n;const t=GC(n,e.target.x),i=GC(n,e.target.y);return`${t}% ${i}%`}},HH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=$u.parse(n);if(a.length>5)return i;const r=$u.createTransformer(n),o=typeof a[0]!="number"?1:0,c=t.x.scale*e.x,f=t.y.scale*e.y;a[0+o]/=c,a[1+o]/=f;const d=Hi(c,f,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),r(a)}};let wM=!1;class jH extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=e;fk(GH),r&&(t.group&&t.group.add(r),i&&i.register&&a&&i.register(r),wM&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Bb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:r}=this.props,{projection:o}=i;return o&&(o.isPresent=r,wM=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||Pi.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;wM=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yU(n){const[e,t]=FL(),i=O.useContext(TT);return A.jsx(jH,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(QL),isPresent:e,safeToRemove:t})}const GH={borderRadius:{...ug,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ug,borderTopRightRadius:ug,borderBottomLeftRadius:ug,borderBottomRightRadius:ug,boxShadow:HH};function XH(n,e,t){const i=xr(n)?n:nm(n);return i.start(r2("",i,e,t)),i.animation}const qH=(n,e)=>n.depth-e.depth;class WH{constructor(){this.children=[],this.isDirty=!1}add(e){RT(this.children,e),this.isDirty=!0}remove(e){NT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qH),this.isDirty=!1,this.children.forEach(e)}}function YH(n,e){const t=rs.now(),i=({timestamp:a})=>{const r=a-t;r>=e&&(Qu(i),n(r-e))};return Pi.setup(i,!0),()=>Qu(i)}const vU=["TopLeft","TopRight","BottomLeft","BottomRight"],KH=vU.length,XC=n=>typeof n=="string"?parseFloat(n):n,qC=n=>typeof n=="number"||sn.test(n);function ZH(n,e,t,i,a,r){a?(n.opacity=Hi(0,t.opacity??1,JH(i)),n.opacityExit=Hi(e.opacity??1,0,QH(i))):r&&(n.opacity=Hi(e.opacity??1,t.opacity??1,i));for(let o=0;o<KH;o++){const c=`border${vU[o]}Radius`;let f=WC(e,c),d=WC(t,c);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||qC(f)===qC(d)?(n[c]=Math.max(Hi(XC(f),XC(d),i),0),(Fl.test(d)||Fl.test(f))&&(n[c]+="%")):n[c]=d}(e.rotate||t.rotate)&&(n.rotate=Hi(e.rotate||0,t.rotate||0,i))}function WC(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const JH=bU(0,.5,rL),QH=bU(.5,.95,so);function bU(n,e,t){return i=>i<n?0:i>e?1:t(Qg(n,e,i))}function YC(n,e){n.min=e.min,n.max=e.max}function Qs(n,e){YC(n.x,e.x),YC(n.y,e.y)}function KC(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ZC(n,e,t,i,a){return n-=e,n=a_(n,1/t,i),a!==void 0&&(n=a_(n,1/a,i)),n}function $H(n,e=0,t=1,i=.5,a,r=n,o=n){if(Fl.test(e)&&(e=parseFloat(e),e=Hi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Hi(r.min,r.max,i);n===r&&(c-=e),n.min=ZC(n.min,e,t,c,a),n.max=ZC(n.max,e,t,c,a)}function JC(n,e,[t,i,a],r,o){$H(n,e[t],e[i],e[a],e.scale,r,o)}const ej=["x","scaleX","originX"],tj=["y","scaleY","originY"];function QC(n,e,t,i){JC(n.x,e,ej,t?t.x:void 0,i?i.x:void 0),JC(n.y,e,tj,t?t.y:void 0,i?i.y:void 0)}function $C(n){return n.translate===0&&n.scale===1}function _U(n){return $C(n.x)&&$C(n.y)}function eR(n,e){return n.min===e.min&&n.max===e.max}function nj(n,e){return eR(n.x,e.x)&&eR(n.y,e.y)}function tR(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function SU(n,e){return tR(n.x,e.x)&&tR(n.y,e.y)}function nR(n){return Hr(n.x)/Hr(n.y)}function iR(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class ij{constructor(){this.members=[]}add(e){RT(this.members,e),e.scheduleRender()}remove(e){if(NT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aj(n,e,t){let i="";const a=n.x.translate/e.x,r=n.y.translate/e.y,o=t?.z||0;if((a||r||o)&&(i=`translate3d(${a}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:_}=t;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),_&&(i+=`skewY(${_}deg) `)}const c=n.x.scale*e.x,f=n.y.scale*e.y;return(c!==1||f!==1)&&(i+=`scale(${c}, ${f})`),i||"none"}const TM=["","X","Y","Z"],rj=1e3;let sj=0;function AM(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function MU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=lU(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Pi,!(a||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&MU(i)}function EU({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(o={},c=e?.()){this.id=sj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cj),this.nodes.forEach(hj),this.nodes.forEach(pj),this.nodes.forEach(uj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new WH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LT),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const f=this.eventHandlers.get(o);f&&f.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=IL(o)&&!ZV(o),this.instance=o;const{layoutId:c,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),n){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;Pi.read(()=>{g=window.innerWidth}),n(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=YH(y,250),Bb.hasAnimatedSinceResize&&(Bb.hasAnimatedSinceResize=!1,this.nodes.forEach(sR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||vj,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=d.getProps(),S=!this.targetLayout||!SU(this.targetLayout,b),R=!g&&y;if(this.options.layoutRoot||this.resumeFrom||R||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...qT(_,"layout"),onPlay:T,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else g||sR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dj),this.nodes.forEach(oj),this.nodes.forEach(lj)):this.nodes.forEach(rR),this.clearAllSnapshots();const c=rs.now();Ka.delta=Fc(0,1e3/60,c-Ka.timestamp),Ka.timestamp=c,Ka.isProcessing=!0,mM.update.process(Ka),mM.preRender.process(Ka),mM.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fj),this.sharedNodes.forEach(gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hr(this.snapshot.measuredBox.x)&&!Hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!_U(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||Ad(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return o&&(f=this.removeTransform(f)),bj(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return oa();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_j))){const{scroll:d}=this.root;d&&(jp(c.x,d.offset.x),jp(c.y,d.offset.y))}return c}removeElementScroll(o){const c=oa();if(Qs(c,o),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Qs(c,o),jp(c.x,m.offset.x),jp(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const f=oa();Qs(f,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Gp(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ad(m.latestValues)&&Gp(f,m.latestValues)}return Ad(this.latestValues)&&Gp(f,this.latestValues),f}removeTransform(o){const c=oa();Qs(c,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Ad(d.latestValues))continue;bw(d.latestValues)&&d.updateSnapshot();const m=oa(),g=d.measurePageBox();Qs(m,g),QC(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Ad(this.latestValues)&&QC(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Ka.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oa(),this.relativeTargetOrigin=oa(),Ig(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=oa(),this.targetWithTransforms=oa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),nU(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oa(),this.relativeTargetOrigin=oa(),Ig(this.relativeTargetOrigin,this.target,y.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bw(this.parent.latestValues)||tU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(f=!1),f)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Qs(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;Fk(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=oa());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KC(this.prevProjectionDelta.x,this.projectionDelta.x),KC(this.prevProjectionDelta.y,this.projectionDelta.y)),Bg(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!iR(this.projectionDelta.x,this.prevProjectionDelta.x)||!iR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xp(),this.projectionDelta=Xp(),this.projectionDeltaWithTransform=Xp()}setAnimationOrigin(o,c=!1){const f=this.snapshot,d=f?f.latestValues:{},m={...this.latestValues},g=Xp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=oa(),b=f?f.source:void 0,_=this.layout?this.layout.source:void 0,T=b!==_,E=this.getStack(),S=!E||E.members.length<=1,R=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(yj));this.animationProgress=0;let D;this.mixTargetDelta=U=>{const F=U/1e3;oR(g.x,o.x,F),oR(g.y,o.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ig(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xj(this.relativeTarget,this.relativeTargetOrigin,y,F),D&&nj(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=oa()),Qs(D,this.relativeTarget)),T&&(this.animationValues=m,ZH(m,d,this.latestValues,F,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pi.update(()=>{Bb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nm(0)),this.currentAnimation=XH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:f,layout:d,latestValues:m}=o;if(!(!c||!f||!d)){if(this!==o&&this.layout&&d&&wU(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||oa();const g=Hr(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+g;const y=Hr(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+y}Qs(c,f),Gp(c,m),Bg(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ij),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const d={};f.z&&AM("z",o,d,this.animationValues);for(let m=0;m<TM.length;m++)AM(`rotate${TM[m]}`,o,d,this.animationValues),AM(`skew${TM[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=zb(c?.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=zb(c?.pointerEvents)||""),this.hasProjected&&!Ad(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=aj(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),o.transform=g;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in nx){if(m[_]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:S}=nx[_],R=g==="none"?m[_]:T(m[_],d);if(E){const D=E.length;for(let U=0;U<D;U++)o[E[U]]=R}else S?this.options.visualElement.renderState.vars[_]=R:o[_]=R}this.options.layoutId&&(o.pointerEvents=d===this?zb(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(aR),this.root.sharedNodes.clear()}}}function oj(n){n.updateLayout()}function lj(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,r=e.source!==n.layout.source;a==="size"?to(m=>{const g=r?e.measuredBox[m]:e.layoutBox[m],y=Hr(g);g.min=t[m].min,g.max=g.min+y}):wU(a,e.layoutBox,t)&&to(m=>{const g=r?e.measuredBox[m]:e.layoutBox[m],y=Hr(t[m]);g.max=g.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+y)});const o=Xp();Bg(o,t,e.layoutBox);const c=Xp();r?Bg(c,n.applyTransform(i,!0),e.measuredBox):Bg(c,t,e.layoutBox);const f=!_U(o);let d=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=oa();Ig(b,e.layoutBox,g.layoutBox);const _=oa();Ig(_,t,y.layoutBox),SU(b,_)||(d=!0),m.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function cj(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function uj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function fj(n){n.clearSnapshot()}function aR(n){n.clearMeasurements()}function rR(n){n.isLayoutDirty=!1}function dj(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function sR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hj(n){n.resolveTargetDelta()}function pj(n){n.calcProjection()}function mj(n){n.resetSkewAndRotation()}function gj(n){n.removeLeadSnapshot()}function oR(n,e,t){n.translate=Hi(e.translate,0,t),n.scale=Hi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lR(n,e,t,i){n.min=Hi(e.min,t.min,i),n.max=Hi(e.max,t.max,i)}function xj(n,e,t,i){lR(n.x,e.x,t.x,i),lR(n.y,e.y,t.y,i)}function yj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const vj={duration:.45,ease:[.4,0,.1,1]},cR=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),uR=cR("applewebkit/")&&!cR("chrome/")?Math.round:so;function fR(n){n.min=uR(n.min),n.max=uR(n.max)}function bj(n){fR(n.x),fR(n.y)}function wU(n,e,t){return n==="position"||n==="preserve-aspect"&&!TH(nR(e),nR(t),.2)}function _j(n){return n!==n.root&&n.scroll?.wasRoot}const Sj=EU({attachResizeListener:(n,e)=>ix(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),CM={current:void 0},TU=EU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!CM.current){const n=new Sj({});n.mount(window),n.setOptions({layoutScroll:!0}),CM.current=n}return CM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Mj={pan:{Feature:kH},drag:{Feature:VH,ProjectionNode:TU,MeasureLayout:yU}};function dR(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,r=i[a];r&&Pi.postRender(()=>r(e,Ox(e)))}class Ej extends ff{mount(){const{current:e}=this.node;e&&(this.unmount=XV(e,(t,i)=>(dR(this.node,i,"Start"),a=>dR(this.node,a,"End"))))}unmount(){}}class wj extends ff{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rx(ix(this.node.current,"focus",()=>this.onFocus()),ix(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hR(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),r=i[a];r&&Pi.postRender(()=>r(e,Ox(e)))}class Tj extends ff{mount(){const{current:e}=this.node;e&&(this.unmount=KV(e,(t,i)=>(hR(this.node,i,"Start"),(a,{success:r})=>hR(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Aw=new WeakMap,RM=new WeakMap,Aj=n=>{const e=Aw.get(n.target);e&&e(n)},Cj=n=>{n.forEach(Aj)};function Rj({root:n,...e}){const t=n||document;RM.has(t)||RM.set(t,{});const i=RM.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Cj,{root:n,...e})),i[a]}function Nj(n,e,t){const i=Rj(e);return Aw.set(n,t),i.observe(n),()=>{Aw.delete(n),i.unobserve(n)}}const Dj={some:0,all:1};class Oj extends ff{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Dj[a]},c=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=d?m:g;y&&y(f)};return Nj(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Lj(e,t))&&this.startObserver()}unmount(){}}function Lj({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Uj={inView:{Feature:Oj},tap:{Feature:Tj},focus:{Feature:wj},hover:{Feature:Ej}},Pj={layout:{ProjectionNode:TU,MeasureLayout:yU}},zj={...bH,...Uj,...Mj,...Pj},Zi=zk(zj,Kk);function pR(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function df(...n){return e=>{let t=!1;const i=n.map(a=>{const r=pR(a,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let a=0;a<i.length;a++){const r=i[a];typeof r=="function"?r():pR(n[a],null)}}}}function Qa(...n){return O.useCallback(df(...n),n)}var Bj=Symbol.for("react.lazy"),r_=hT[" use ".trim().toString()];function Ij(n){return typeof n=="object"&&n!==null&&"then"in n}function AU(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Bj&&"_payload"in n&&Ij(n._payload)}function s2(n){const e=Fj(n),t=O.forwardRef((i,a)=>{let{children:r,...o}=i;AU(r)&&typeof r_=="function"&&(r=r_(r._payload));const c=O.Children.toArray(r),f=c.find(kj);if(f){const d=f.props.children,m=c.map(g=>g===f?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:g);return A.jsx(e,{...o,ref:a,children:O.isValidElement(d)?O.cloneElement(d,void 0,m):null})}return A.jsx(e,{...o,ref:a,children:r})});return t.displayName=`${n}.Slot`,t}var CU=s2("Slot");function Fj(n){const e=O.forwardRef((t,i)=>{let{children:a,...r}=t;if(AU(a)&&typeof r_=="function"&&(a=r_(a._payload)),O.isValidElement(a)){const o=jj(a),c=Hj(r,a.props);return a.type!==O.Fragment&&(c.ref=i?df(i,o):o),O.cloneElement(a,c)}return O.Children.count(a)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Vj=Symbol("radix.slottable");function kj(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Vj}function Hj(n,e){const t={...e};for(const i in e){const a=n[i],r=e[i];/^on[A-Z]/.test(i)?a&&r?t[i]=(...c)=>{const f=r(...c);return a(...c),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...r}:i==="className"&&(t[i]=[a,r].filter(Boolean).join(" "))}return{...n,...t}}function jj(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function RU(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=RU(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function NU(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=RU(n))&&(i&&(i+=" "),i+=e);return i}const mR=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gR=NU,DU=(n,e)=>t=>{var i;if(e?.variants==null)return gR(n,t?.class,t?.className);const{variants:a,defaultVariants:r}=e,o=Object.keys(a).map(d=>{const m=t?.[d],g=r?.[d];if(m===null)return null;const y=mR(m)||mR(g);return a[d][y]}),c=t&&Object.entries(t).reduce((d,m)=>{let[g,y]=m;return y===void 0||(d[g]=y),d},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,m)=>{let{class:g,className:y,...b}=m;return Object.entries(b).every(_=>{let[T,E]=_;return Array.isArray(E)?E.includes({...r,...c}[T]):{...r,...c}[T]===E})?[...d,g,y]:d},[]);return gR(n,o,f,t?.class,t?.className)},Gj=(n,e)=>{const t=new Array(n.length+e.length);for(let i=0;i<n.length;i++)t[i]=n[i];for(let i=0;i<e.length;i++)t[n.length+i]=e[i];return t},Xj=(n,e)=>({classGroupId:n,validator:e}),OU=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),s_="-",xR=[],qj="arbitrary..",Wj=n=>{const e=Kj(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Yj(o);const c=o.split(s_),f=c[0]===""&&c.length>1?1:0;return LU(c,f,e)},getConflictingClassGroupIds:(o,c)=>{if(c){const f=i[o],d=t[o];return f?d?Gj(d,f):f:d||xR}return t[o]||xR}}},LU=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const a=n[e],r=t.nextPart.get(a);if(r){const d=LU(n,e+1,r);if(d)return d}const o=t.validators;if(o===null)return;const c=e===0?n.join(s_):n.slice(e).join(s_),f=o.length;for(let d=0;d<f;d++){const m=o[d];if(m.validator(c))return m.classGroupId}},Yj=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?qj+i:void 0})(),Kj=n=>{const{theme:e,classGroups:t}=n;return Zj(t,e)},Zj=(n,e)=>{const t=OU();for(const i in n){const a=n[i];o2(a,t,i,e)}return t},o2=(n,e,t,i)=>{const a=n.length;for(let r=0;r<a;r++){const o=n[r];Jj(o,e,t,i)}},Jj=(n,e,t,i)=>{if(typeof n=="string"){Qj(n,e,t);return}if(typeof n=="function"){$j(n,e,t,i);return}e9(n,e,t,i)},Qj=(n,e,t)=>{const i=n===""?e:UU(e,n);i.classGroupId=t},$j=(n,e,t,i)=>{if(t9(n)){o2(n(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Xj(t,n))},e9=(n,e,t,i)=>{const a=Object.entries(n),r=a.length;for(let o=0;o<r;o++){const[c,f]=a[o];o2(f,UU(e,c),t,i)}},UU=(n,e)=>{let t=n;const i=e.split(s_),a=i.length;for(let r=0;r<a;r++){const o=i[r];let c=t.nextPart.get(o);c||(c=OU(),t.nextPart.set(o,c)),t=c}return t},t9=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,n9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const a=(r,o)=>{t[r]=o,e++,e>n&&(e=0,i=t,t=Object.create(null))};return{get(r){let o=t[r];if(o!==void 0)return o;if((o=i[r])!==void 0)return a(r,o),o},set(r,o){r in t?t[r]=o:a(r,o)}}},Cw="!",yR=":",i9=[],vR=(n,e,t,i,a)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:a}),a9=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const r=[];let o=0,c=0,f=0,d;const m=a.length;for(let T=0;T<m;T++){const E=a[T];if(o===0&&c===0){if(E===yR){r.push(a.slice(f,T)),f=T+1;continue}if(E==="/"){d=T;continue}}E==="["?o++:E==="]"?o--:E==="("?c++:E===")"&&c--}const g=r.length===0?a:a.slice(f);let y=g,b=!1;g.endsWith(Cw)?(y=g.slice(0,-1),b=!0):g.startsWith(Cw)&&(y=g.slice(1),b=!0);const _=d&&d>f?d-f:void 0;return vR(r,b,y,_)};if(e){const a=e+yR,r=i;i=o=>o.startsWith(a)?r(o.slice(a.length)):vR(i9,!1,o,void 0,!0)}if(t){const a=i;i=r=>t({className:r,parseClassName:a})}return i},r9=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let a=[];for(let r=0;r<t.length;r++){const o=t[r],c=o[0]==="[",f=e.has(o);c||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(o)):a.push(o)}return a.length>0&&(a.sort(),i.push(...a)),i}},s9=n=>({cache:n9(n.cacheSize),parseClassName:a9(n),sortModifiers:r9(n),...Wj(n)}),o9=/\s+/,l9=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:r}=e,o=[],c=n.trim().split(o9);let f="";for(let d=c.length-1;d>=0;d-=1){const m=c[d],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:T}=t(m);if(g){f=m+(f.length>0?" "+f:f);continue}let E=!!T,S=i(E?_.substring(0,T):_);if(!S){if(!E){f=m+(f.length>0?" "+f:f);continue}if(S=i(_),!S){f=m+(f.length>0?" "+f:f);continue}E=!1}const R=y.length===0?"":y.length===1?y[0]:r(y).join(":"),D=b?R+Cw:R,U=D+S;if(o.indexOf(U)>-1)continue;o.push(U);const F=a(S,E);for(let P=0;P<F.length;++P){const L=F[P];o.push(D+L)}f=m+(f.length>0?" "+f:f)}return f},c9=(...n)=>{let e=0,t,i,a="";for(;e<n.length;)(t=n[e++])&&(i=PU(t))&&(a&&(a+=" "),a+=i);return a},PU=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=PU(n[i]))&&(t&&(t+=" "),t+=e);return t},u9=(n,...e)=>{let t,i,a,r;const o=f=>{const d=e.reduce((m,g)=>g(m),n());return t=s9(d),i=t.cache.get,a=t.cache.set,r=c,c(f)},c=f=>{const d=i(f);if(d)return d;const m=l9(f,t);return a(f,m),m};return r=o,(...f)=>r(c9(...f))},f9=[],wa=n=>{const e=t=>t[n]||f9;return e.isThemeGetter=!0,e},zU=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BU=/^\((?:(\w[\w-]*):)?(.+)\)$/i,d9=/^\d+\/\d+$/,h9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fp=n=>d9.test(n),Cn=n=>!!n&&!Number.isNaN(Number(n)),Lu=n=>!!n&&Number.isInteger(Number(n)),NM=n=>n.endsWith("%")&&Cn(n.slice(0,-1)),wc=n=>h9.test(n),y9=()=>!0,v9=n=>p9.test(n)&&!m9.test(n),IU=()=>!1,b9=n=>g9.test(n),_9=n=>x9.test(n),S9=n=>!Ft(n)&&!Vt(n),M9=n=>Sm(n,kU,IU),Ft=n=>zU.test(n),fd=n=>Sm(n,HU,v9),DM=n=>Sm(n,C9,Cn),bR=n=>Sm(n,FU,IU),E9=n=>Sm(n,VU,_9),Av=n=>Sm(n,jU,b9),Vt=n=>BU.test(n),fg=n=>Mm(n,HU),w9=n=>Mm(n,R9),_R=n=>Mm(n,FU),T9=n=>Mm(n,kU),A9=n=>Mm(n,VU),Cv=n=>Mm(n,jU,!0),Sm=(n,e,t)=>{const i=zU.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Mm=(n,e,t=!1)=>{const i=BU.exec(n);return i?i[1]?e(i[1]):t:!1},FU=n=>n==="position"||n==="percentage",VU=n=>n==="image"||n==="url",kU=n=>n==="length"||n==="size"||n==="bg-size",HU=n=>n==="length",C9=n=>n==="number",R9=n=>n==="family-name",jU=n=>n==="shadow",N9=()=>{const n=wa("color"),e=wa("font"),t=wa("text"),i=wa("font-weight"),a=wa("tracking"),r=wa("leading"),o=wa("breakpoint"),c=wa("container"),f=wa("spacing"),d=wa("radius"),m=wa("shadow"),g=wa("inset-shadow"),y=wa("text-shadow"),b=wa("drop-shadow"),_=wa("blur"),T=wa("perspective"),E=wa("aspect"),S=wa("ease"),R=wa("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...U(),Vt,Ft],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],B=()=>[Vt,Ft,f],I=()=>[fp,"full","auto",...B()],V=()=>[Lu,"none","subgrid",Vt,Ft],W=()=>["auto",{span:["full",Lu,Vt,Ft]},Lu,Vt,Ft],te=()=>[Lu,"auto",Vt,Ft],ne=()=>["auto","min","max","fr",Vt,Ft],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...B()],q=()=>[fp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],G=()=>[n,Vt,Ft],ee=()=>[...U(),_R,bR,{position:[Vt,Ft]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",T9,M9,{size:[Vt,Ft]}],le=()=>[NM,fg,fd],_e=()=>["","none","full",d,Vt,Ft],Se=()=>["",Cn,fg,fd],je=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Cn,NM,_R,bR],Je=()=>["","none",_,Vt,Ft],ct=()=>["none",Cn,Vt,Ft],gt=()=>["none",Cn,Vt,Ft],wt=()=>[Cn,Vt,Ft],$t=()=>[fp,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wc],breakpoint:[wc],color:[y9],container:[wc],"drop-shadow":[wc],ease:["in","out","in-out"],font:[S9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wc],shadow:[wc],spacing:["px",Cn],text:[wc],"text-shadow":[wc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fp,Ft,Vt,E]}],container:["container"],columns:[{columns:[Cn,Ft,Vt,c]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Lu,"auto",Vt,Ft]}],basis:[{basis:[fp,"full","auto",c,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Cn,fp,"auto","initial","none",Ft]}],grow:[{grow:["",Cn,Vt,Ft]}],shrink:[{shrink:["",Cn,Vt,Ft]}],order:[{order:[Lu,"first","last","none",Vt,Ft]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[c,"screen",...q()]}],"min-w":[{"min-w":[c,"screen","none",...q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",t,fg,fd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Vt,DM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",NM,Ft]}],"font-family":[{font:[w9,Ft,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Vt,Ft]}],"line-clamp":[{"line-clamp":[Cn,"none",Vt,DM]}],leading:[{leading:[r,...B()]}],"list-image":[{"list-image":["none",Vt,Ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vt,Ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Cn,"from-font","auto",Vt,fd]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Cn,"auto",Vt,Ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt,Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt,Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lu,Vt,Ft],radial:["",Vt,Ft],conic:[Lu,Vt,Ft]},A9,E9]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Cn,Vt,Ft]}],"outline-w":[{outline:["",Cn,fg,fd]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",m,Cv,Av]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,Cv,Av]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Cn,fd]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",y,Cv,Av]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Cn,Vt,Ft]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Cn]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Vt,Ft]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Cn]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vt,Ft]}],filter:[{filter:["","none",Vt,Ft]}],blur:[{blur:Je()}],brightness:[{brightness:[Cn,Vt,Ft]}],contrast:[{contrast:[Cn,Vt,Ft]}],"drop-shadow":[{"drop-shadow":["","none",b,Cv,Av]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Cn,Vt,Ft]}],"hue-rotate":[{"hue-rotate":[Cn,Vt,Ft]}],invert:[{invert:["",Cn,Vt,Ft]}],saturate:[{saturate:[Cn,Vt,Ft]}],sepia:[{sepia:["",Cn,Vt,Ft]}],"backdrop-filter":[{"backdrop-filter":["","none",Vt,Ft]}],"backdrop-blur":[{"backdrop-blur":Je()}],"backdrop-brightness":[{"backdrop-brightness":[Cn,Vt,Ft]}],"backdrop-contrast":[{"backdrop-contrast":[Cn,Vt,Ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Cn,Vt,Ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Cn,Vt,Ft]}],"backdrop-invert":[{"backdrop-invert":["",Cn,Vt,Ft]}],"backdrop-opacity":[{"backdrop-opacity":[Cn,Vt,Ft]}],"backdrop-saturate":[{"backdrop-saturate":[Cn,Vt,Ft]}],"backdrop-sepia":[{"backdrop-sepia":["",Cn,Vt,Ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vt,Ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Cn,"initial",Vt,Ft]}],ease:[{ease:["linear","initial",S,Vt,Ft]}],delay:[{delay:[Cn,Vt,Ft]}],animate:[{animate:["none",R,Vt,Ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Vt,Ft]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:ct()}],"rotate-x":[{"rotate-x":ct()}],"rotate-y":[{"rotate-y":ct()}],"rotate-z":[{"rotate-z":ct()}],scale:[{scale:gt()}],"scale-x":[{"scale-x":gt()}],"scale-y":[{"scale-y":gt()}],"scale-z":[{"scale-z":gt()}],"scale-3d":["scale-3d"],skew:[{skew:wt()}],"skew-x":[{"skew-x":wt()}],"skew-y":[{"skew-y":wt()}],transform:[{transform:[Vt,Ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$t()}],"translate-x":[{"translate-x":$t()}],"translate-y":[{"translate-y":$t()}],"translate-z":[{"translate-z":$t()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt,Ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt,Ft]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Cn,fg,fd,DM]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D9=u9(N9);function fo(...n){return D9(NU(n))}const O9=DU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Sn({className:n,variant:e,size:t,asChild:i=!1,...a}){const r=i?CU:"button";return A.jsx(r,{"data-slot":"button",className:fo(O9({variant:e,size:t,className:n})),...a})}const GU=O.createContext({theme:"system",setTheme:()=>null});function XU({children:n,defaultTheme:e="system",storageKey:t="vite-ui-theme"}){const[i,a]=O.useState(()=>localStorage.getItem(t)||e);O.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c);return}o.classList.add(i)},[i]);const r={theme:i,setTheme:o=>{localStorage.setItem(t,o),a(o)}};return A.jsx(GU.Provider,{value:r,children:n})}function L9(){const n=O.useContext(GU);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}const U9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),SR=n=>{const e=P9(n);return e.charAt(0).toUpperCase()+e.slice(1)},qU=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),z9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var B9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I9=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:o,...c},f)=>O.createElement("svg",{ref:f,...B9,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:qU("lucide",a),...!r&&!z9(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,m])=>O.createElement(d,m)),...Array.isArray(r)?r:[r]]));const Si=(n,e)=>{const t=O.forwardRef(({className:i,...a},r)=>O.createElement(I9,{ref:r,iconNode:e,className:qU(`lucide-${U9(SR(n))}`,`lucide-${n}`,i),...a}));return t.displayName=SR(n),t};const F9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V9=Si("badge-check",F9);const k9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],H9=Si("book-open",k9);const j9=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],G9=Si("bookmark",j9);const X9=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],WU=Si("building-2",X9);const q9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],YU=Si("calendar",q9);const W9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y9=Si("chevron-down",W9);const K9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z9=Si("chevron-up",K9);const J9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],KU=Si("clipboard-list",J9);const Q9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$9=Si("external-link",Q9);const e7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MR=Si("file-text",e7);const t7=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],n7=Si("heart",t7);const i7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],a7=Si("house",i7);const r7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],s7=Si("log-in",r7);const o7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l7=Si("log-out",o7);const c7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],u7=Si("mail",c7);const f7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lx=Si("map-pin",f7);const d7=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],h7=Si("message-circle",d7);const p7=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],m7=Si("microscope",p7);const g7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],x7=Si("moon",g7);const y7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ER=Si("settings",y7);const v7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Rw=Si("star",v7);const b7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_7=Si("sun",b7);const S7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M7=Si("user-plus",S7);const E7=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],w7=Si("user-round",E7);const T7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ib=Si("user",T7);const A7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nw=Si("users",A7);const C7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gd=Si("x",C7);function Rn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n?.(a),t===!1||!a.defaultPrevented)return e?.(a)}}function R7(n,e){const t=O.createContext(e),i=r=>{const{children:o,...c}=r,f=O.useMemo(()=>c,Object.values(c));return A.jsx(t.Provider,{value:f,children:o})};i.displayName=n+"Provider";function a(r){const o=O.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${n}\``)}return[i,a]}function Em(n,e=[]){let t=[];function i(r,o){const c=O.createContext(o),f=t.length;t=[...t,o];const d=g=>{const{scope:y,children:b,..._}=g,T=y?.[n]?.[f]||c,E=O.useMemo(()=>_,Object.values(_));return A.jsx(T.Provider,{value:E,children:b})};d.displayName=r+"Provider";function m(g,y){const b=y?.[n]?.[f]||c,_=O.useContext(b);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${r}\``)}return[d,m]}const a=()=>{const r=t.map(o=>O.createContext(o));return function(c){const f=c?.[n]||r;return O.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return a.scopeName=n,[i,N7(a,...e)]}function N7(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const o=i.reduce((c,{useScope:f,scopeName:d})=>{const g=f(r)[`__scope${d}`];return{...c,...g}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var ef=globalThis?.document?O.useLayoutEffect:()=>{},D7=hT[" useInsertionEffect ".trim().toString()]||ef;function l2({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,r,o]=O7({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:a;{const m=O.useRef(n!==void 0);O.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const d=O.useCallback(m=>{if(c){const g=L7(m)?m(n):m;g!==n&&o.current?.(g)}else r(m)},[c,n,r,o]);return[f,d]}function O7({defaultProp:n,onChange:e}){const[t,i]=O.useState(n),a=O.useRef(t),r=O.useRef(e);return D7(()=>{r.current=e},[e]),O.useEffect(()=>{a.current!==t&&(r.current?.(t),a.current=t)},[t,a]),[t,i,r]}function L7(n){return typeof n=="function"}function U7(n){const e=P7(n),t=O.forwardRef((i,a)=>{const{children:r,...o}=i,c=O.Children.toArray(r),f=c.find(B7);if(f){const d=f.props.children,m=c.map(g=>g===f?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:g);return A.jsx(e,{...o,ref:a,children:O.isValidElement(d)?O.cloneElement(d,void 0,m):null})}return A.jsx(e,{...o,ref:a,children:r})});return t.displayName=`${n}.Slot`,t}function P7(n){const e=O.forwardRef((t,i)=>{const{children:a,...r}=t;if(O.isValidElement(a)){const o=F7(a),c=I7(r,a.props);return a.type!==O.Fragment&&(c.ref=i?df(i,o):o),O.cloneElement(a,c)}return O.Children.count(a)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var z7=Symbol("radix.slottable");function B7(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===z7}function I7(n,e){const t={...e};for(const i in e){const a=n[i],r=e[i];/^on[A-Z]/.test(i)?a&&r?t[i]=(...c)=>{const f=r(...c);return a(...c),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...r}:i==="className"&&(t[i]=[a,r].filter(Boolean).join(" "))}return{...n,...t}}function F7(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var V7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xa=V7.reduce((n,e)=>{const t=U7(`Primitive.${e}`),i=O.forwardRef((a,r)=>{const{asChild:o,...c}=a,f=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(f,{...c,ref:r})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function ZU(n,e){n&&vS.flushSync(()=>n.dispatchEvent(e))}function wR(n){const e=k7(n),t=O.forwardRef((i,a)=>{const{children:r,...o}=i,c=O.Children.toArray(r),f=c.find(j7);if(f){const d=f.props.children,m=c.map(g=>g===f?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:g);return A.jsx(e,{...o,ref:a,children:O.isValidElement(d)?O.cloneElement(d,void 0,m):null})}return A.jsx(e,{...o,ref:a,children:r})});return t.displayName=`${n}.Slot`,t}function k7(n){const e=O.forwardRef((t,i)=>{const{children:a,...r}=t;if(O.isValidElement(a)){const o=X7(a),c=G7(r,a.props);return a.type!==O.Fragment&&(c.ref=i?df(i,o):o),O.cloneElement(a,c)}return O.Children.count(a)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var H7=Symbol("radix.slottable");function j7(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===H7}function G7(n,e){const t={...e};for(const i in e){const a=n[i],r=e[i];/^on[A-Z]/.test(i)?a&&r?t[i]=(...c)=>{const f=r(...c);return a(...c),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...r}:i==="className"&&(t[i]=[a,r].filter(Boolean).join(" "))}return{...n,...t}}function X7(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function JU(n){const e=n+"CollectionProvider",[t,i]=Em(e),[a,r]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:E,children:S}=T,R=pr.useRef(null),D=pr.useRef(new Map).current;return A.jsx(a,{scope:E,itemMap:D,collectionRef:R,children:S})};o.displayName=e;const c=n+"CollectionSlot",f=wR(c),d=pr.forwardRef((T,E)=>{const{scope:S,children:R}=T,D=r(c,S),U=Qa(E,D.collectionRef);return A.jsx(f,{ref:U,children:R})});d.displayName=c;const m=n+"CollectionItemSlot",g="data-radix-collection-item",y=wR(m),b=pr.forwardRef((T,E)=>{const{scope:S,children:R,...D}=T,U=pr.useRef(null),F=Qa(E,U),P=r(m,S);return pr.useEffect(()=>(P.itemMap.set(U,{ref:U,...D}),()=>void P.itemMap.delete(U))),A.jsx(y,{[g]:"",ref:F,children:R})});b.displayName=m;function _(T){const E=r(n+"CollectionConsumer",T);return pr.useCallback(()=>{const R=E.collectionRef.current;if(!R)return[];const D=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((P,L)=>D.indexOf(P.ref.current)-D.indexOf(L.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:b},_,i]}var q7=O.createContext(void 0);function QU(n){const e=O.useContext(q7);return n||e||"ltr"}function kc(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>e.current?.(...t),[])}function W7(n,e=globalThis?.document){const t=kc(n);O.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Y7="DismissableLayer",Dw="dismissableLayer.update",K7="dismissableLayer.pointerDownOutside",Z7="dismissableLayer.focusOutside",TR,$U=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),c2=O.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:r,onInteractOutside:o,onDismiss:c,...f}=n,d=O.useContext($U),[m,g]=O.useState(null),y=m?.ownerDocument??globalThis?.document,[,b]=O.useState({}),_=Qa(e,L=>g(L)),T=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=T.indexOf(E),R=m?T.indexOf(m):-1,D=d.layersWithOutsidePointerEventsDisabled.size>0,U=R>=S,F=$7(L=>{const B=L.target,I=[...d.branches].some(V=>V.contains(B));!U||I||(a?.(L),o?.(L),L.defaultPrevented||c?.())},y),P=eG(L=>{const B=L.target;[...d.branches].some(V=>V.contains(B))||(r?.(L),o?.(L),L.defaultPrevented||c?.())},y);return W7(L=>{R===d.layers.size-1&&(i?.(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},y),O.useEffect(()=>{if(m)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(TR=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),AR(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=TR)}},[m,y,t,d]),O.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),AR())},[m,d]),O.useEffect(()=>{const L=()=>b({});return document.addEventListener(Dw,L),()=>document.removeEventListener(Dw,L)},[]),A.jsx(xa.div,{...f,ref:_,style:{pointerEvents:D?U?"auto":"none":void 0,...n.style},onFocusCapture:Rn(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Rn(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Rn(n.onPointerDownCapture,F.onPointerDownCapture)})});c2.displayName=Y7;var J7="DismissableLayerBranch",Q7=O.forwardRef((n,e)=>{const t=O.useContext($U),i=O.useRef(null),a=Qa(e,i);return O.useEffect(()=>{const r=i.current;if(r)return t.branches.add(r),()=>{t.branches.delete(r)}},[t.branches]),A.jsx(xa.div,{...n,ref:a})});Q7.displayName=J7;function $7(n,e=globalThis?.document){const t=kc(n),i=O.useRef(!1),a=O.useRef(()=>{});return O.useEffect(()=>{const r=c=>{if(c.target&&!i.current){let f=function(){eP(K7,t,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",r),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function eG(n,e=globalThis?.document){const t=kc(n),i=O.useRef(!1);return O.useEffect(()=>{const a=r=>{r.target&&!i.current&&eP(Z7,t,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function AR(){const n=new CustomEvent(Dw);document.dispatchEvent(n)}function eP(n,e,t,{discrete:i}){const a=t.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?ZU(a,r):a.dispatchEvent(r)}var OM=0;function tP(){O.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??CR()),document.body.insertAdjacentElement("beforeend",n[1]??CR()),OM++,()=>{OM===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),OM--}},[])}function CR(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var LM="focusScope.autoFocusOnMount",UM="focusScope.autoFocusOnUnmount",RR={bubbles:!1,cancelable:!0},tG="FocusScope",u2=O.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:r,...o}=n,[c,f]=O.useState(null),d=kc(a),m=kc(r),g=O.useRef(null),y=Qa(e,T=>f(T)),b=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(i){let T=function(D){if(b.paused||!c)return;const U=D.target;c.contains(U)?g.current=U:Hu(g.current,{select:!0})},E=function(D){if(b.paused||!c)return;const U=D.relatedTarget;U!==null&&(c.contains(U)||Hu(g.current,{select:!0}))},S=function(D){if(document.activeElement===document.body)for(const F of D)F.removedNodes.length>0&&Hu(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",E);const R=new MutationObserver(S);return c&&R.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",E),R.disconnect()}}},[i,c,b.paused]),O.useEffect(()=>{if(c){DR.add(b);const T=document.activeElement;if(!c.contains(T)){const S=new CustomEvent(LM,RR);c.addEventListener(LM,d),c.dispatchEvent(S),S.defaultPrevented||(nG(oG(nP(c)),{select:!0}),document.activeElement===T&&Hu(c))}return()=>{c.removeEventListener(LM,d),setTimeout(()=>{const S=new CustomEvent(UM,RR);c.addEventListener(UM,m),c.dispatchEvent(S),S.defaultPrevented||Hu(T??document.body,{select:!0}),c.removeEventListener(UM,m),DR.remove(b)},0)}}},[c,d,m,b]);const _=O.useCallback(T=>{if(!t&&!i||b.paused)return;const E=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,S=document.activeElement;if(E&&S){const R=T.currentTarget,[D,U]=iG(R);D&&U?!T.shiftKey&&S===U?(T.preventDefault(),t&&Hu(D,{select:!0})):T.shiftKey&&S===D&&(T.preventDefault(),t&&Hu(U,{select:!0})):S===R&&T.preventDefault()}},[t,i,b.paused]);return A.jsx(xa.div,{tabIndex:-1,...o,ref:y,onKeyDown:_})});u2.displayName=tG;function nG(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Hu(i,{select:e}),document.activeElement!==t)return}function iG(n){const e=nP(n),t=NR(e,n),i=NR(e.reverse(),n);return[t,i]}function nP(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function NR(n,e){for(const t of n)if(!aG(t,{upTo:e}))return t}function aG(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function rG(n){return n instanceof HTMLInputElement&&"select"in n}function Hu(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&rG(n)&&e&&n.select()}}var DR=sG();function sG(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=OR(n,e),n.unshift(e)},remove(e){n=OR(n,e),n[0]?.resume()}}}function OR(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function oG(n){return n.filter(e=>e.tagName!=="A")}var lG=hT[" useId ".trim().toString()]||(()=>{}),cG=0;function Qp(n){const[e,t]=O.useState(lG());return ef(()=>{t(i=>i??String(cG++))},[n]),n||(e?`radix-${e}`:"")}const uG=["top","right","bottom","left"],tf=Math.min,As=Math.max,o_=Math.round,Rv=Math.floor,Vl=n=>({x:n,y:n}),fG={left:"right",right:"left",bottom:"top",top:"bottom"},dG={start:"end",end:"start"};function Ow(n,e,t){return As(n,tf(e,t))}function Hc(n,e){return typeof n=="function"?n(e):n}function jc(n){return n.split("-")[0]}function wm(n){return n.split("-")[1]}function f2(n){return n==="x"?"y":"x"}function d2(n){return n==="y"?"height":"width"}const hG=new Set(["top","bottom"]);function Ll(n){return hG.has(jc(n))?"y":"x"}function h2(n){return f2(Ll(n))}function pG(n,e,t){t===void 0&&(t=!1);const i=wm(n),a=h2(n),r=d2(a);let o=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=l_(o)),[o,l_(o)]}function mG(n){const e=l_(n);return[Lw(n),e,Lw(e)]}function Lw(n){return n.replace(/start|end/g,e=>dG[e])}const LR=["left","right"],UR=["right","left"],gG=["top","bottom"],xG=["bottom","top"];function yG(n,e,t){switch(n){case"top":case"bottom":return t?e?UR:LR:e?LR:UR;case"left":case"right":return e?gG:xG;default:return[]}}function vG(n,e,t,i){const a=wm(n);let r=yG(jc(n),t==="start",i);return a&&(r=r.map(o=>o+"-"+a),e&&(r=r.concat(r.map(Lw)))),r}function l_(n){return n.replace(/left|right|bottom|top/g,e=>fG[e])}function bG(n){return{top:0,right:0,bottom:0,left:0,...n}}function iP(n){return typeof n!="number"?bG(n):{top:n,right:n,bottom:n,left:n}}function c_(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function PR(n,e,t){let{reference:i,floating:a}=n;const r=Ll(e),o=h2(e),c=d2(o),f=jc(e),d=r==="y",m=i.x+i.width/2-a.width/2,g=i.y+i.height/2-a.height/2,y=i[c]/2-a[c]/2;let b;switch(f){case"top":b={x:m,y:i.y-a.height};break;case"bottom":b={x:m,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:g};break;case"left":b={x:i.x-a.width,y:g};break;default:b={x:i.x,y:i.y}}switch(wm(e)){case"start":b[o]-=y*(t&&d?-1:1);break;case"end":b[o]+=y*(t&&d?-1:1);break}return b}const _G=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:r=[],platform:o}=t,c=r.filter(Boolean),f=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:a}),{x:m,y:g}=PR(d,i,f),y=i,b={},_=0;for(let T=0;T<c.length;T++){const{name:E,fn:S}=c[T],{x:R,y:D,data:U,reset:F}=await S({x:m,y:g,initialPlacement:i,placement:y,strategy:a,middlewareData:b,rects:d,platform:o,elements:{reference:n,floating:e}});m=R??m,g=D??g,b={...b,[E]:{...b[E],...U}},F&&_<=50&&(_++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(d=F.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:a}):F.rects),{x:m,y:g}=PR(d,y,f)),T=-1)}return{x:m,y:g,placement:y,strategy:a,middlewareData:b}};async function ax(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:r,rects:o,elements:c,strategy:f}=n,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Hc(e,n),_=iP(b),E=c[y?g==="floating"?"reference":"floating":g],S=c_(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(E)))==null||t?E:E.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:f})),R=g==="floating"?{x:i,y:a,width:o.floating.width,height:o.floating.height}:o.reference,D=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),U=await(r.isElement==null?void 0:r.isElement(D))?await(r.getScale==null?void 0:r.getScale(D))||{x:1,y:1}:{x:1,y:1},F=c_(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:D,strategy:f}):R);return{top:(S.top-F.top+_.top)/U.y,bottom:(F.bottom-S.bottom+_.bottom)/U.y,left:(S.left-F.left+_.left)/U.x,right:(F.right-S.right+_.right)/U.x}}const SG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:r,platform:o,elements:c,middlewareData:f}=e,{element:d,padding:m=0}=Hc(n,e)||{};if(d==null)return{};const g=iP(m),y={x:t,y:i},b=h2(a),_=d2(b),T=await o.getDimensions(d),E=b==="y",S=E?"top":"left",R=E?"bottom":"right",D=E?"clientHeight":"clientWidth",U=r.reference[_]+r.reference[b]-y[b]-r.floating[_],F=y[b]-r.reference[b],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let L=P?P[D]:0;(!L||!await(o.isElement==null?void 0:o.isElement(P)))&&(L=c.floating[D]||r.floating[_]);const B=U/2-F/2,I=L/2-T[_]/2-1,V=tf(g[S],I),W=tf(g[R],I),te=V,ne=L-T[_]-W,ie=L/2-T[_]/2+B,oe=Ow(te,ie,ne),H=!f.arrow&&wm(a)!=null&&ie!==oe&&r.reference[_]/2-(ie<te?V:W)-T[_]/2<0,q=H?ie<te?ie-te:ie-ne:0;return{[b]:y[b]+q,data:{[b]:oe,centerOffset:ie-oe-q,...H&&{alignmentOffset:q}},reset:H}}}),MG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:r,rects:o,initialPlacement:c,platform:f,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:T=!0,...E}=Hc(n,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const S=jc(a),R=Ll(c),D=jc(c)===c,U=await(f.isRTL==null?void 0:f.isRTL(d.floating)),F=y||(D||!T?[l_(c)]:mG(c)),P=_!=="none";!y&&P&&F.push(...vG(c,T,_,U));const L=[c,...F],B=await ax(e,E),I=[];let V=((i=r.flip)==null?void 0:i.overflows)||[];if(m&&I.push(B[S]),g){const ie=pG(a,o,U);I.push(B[ie[0]],B[ie[1]])}if(V=[...V,{placement:a,overflows:I}],!I.every(ie=>ie<=0)){var W,te;const ie=(((W=r.flip)==null?void 0:W.index)||0)+1,oe=L[ie];if(oe&&(!(g==="alignment"?R!==Ll(oe):!1)||V.every(G=>Ll(G.placement)===R?G.overflows[0]>0:!0)))return{data:{index:ie,overflows:V},reset:{placement:oe}};let H=(te=V.filter(q=>q.overflows[0]<=0).sort((q,G)=>q.overflows[1]-G.overflows[1])[0])==null?void 0:te.placement;if(!H)switch(b){case"bestFit":{var ne;const q=(ne=V.filter(G=>{if(P){const ee=Ll(G.placement);return ee===R||ee==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ee=>ee>0).reduce((ee,ue)=>ee+ue,0)]).sort((G,ee)=>G[1]-ee[1])[0])==null?void 0:ne[0];q&&(H=q);break}case"initialPlacement":H=c;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function zR(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function BR(n){return uG.some(e=>n[e]>=0)}const EG=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=Hc(n,e);switch(i){case"referenceHidden":{const r=await ax(e,{...a,elementContext:"reference"}),o=zR(r,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BR(o)}}}case"escaped":{const r=await ax(e,{...a,altBoundary:!0}),o=zR(r,t.floating);return{data:{escapedOffsets:o,escaped:BR(o)}}}default:return{}}}}},aP=new Set(["left","top"]);async function wG(n,e){const{placement:t,platform:i,elements:a}=n,r=await(i.isRTL==null?void 0:i.isRTL(a.floating)),o=jc(t),c=wm(t),f=Ll(t)==="y",d=aP.has(o)?-1:1,m=r&&f?-1:1,g=Hc(e,n);let{mainAxis:y,crossAxis:b,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof _=="number"&&(b=c==="end"?_*-1:_),f?{x:b*m,y:y*d}:{x:y*d,y:b*m}}const TG=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:r,placement:o,middlewareData:c}=e,f=await wG(e,n);return o===((t=c.offset)==null?void 0:t.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:a+f.x,y:r+f.y,data:{...f,placement:o}}}}},AG=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:c={fn:E=>{let{x:S,y:R}=E;return{x:S,y:R}}},...f}=Hc(n,e),d={x:t,y:i},m=await ax(e,f),g=Ll(jc(a)),y=f2(g);let b=d[y],_=d[g];if(r){const E=y==="y"?"top":"left",S=y==="y"?"bottom":"right",R=b+m[E],D=b-m[S];b=Ow(R,b,D)}if(o){const E=g==="y"?"top":"left",S=g==="y"?"bottom":"right",R=_+m[E],D=_-m[S];_=Ow(R,_,D)}const T=c.fn({...e,[y]:b,[g]:_});return{...T,data:{x:T.x-t,y:T.y-i,enabled:{[y]:r,[g]:o}}}}}},CG=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:r,middlewareData:o}=e,{offset:c=0,mainAxis:f=!0,crossAxis:d=!0}=Hc(n,e),m={x:t,y:i},g=Ll(a),y=f2(g);let b=m[y],_=m[g];const T=Hc(c,e),E=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const D=y==="y"?"height":"width",U=r.reference[y]-r.floating[D]+E.mainAxis,F=r.reference[y]+r.reference[D]-E.mainAxis;b<U?b=U:b>F&&(b=F)}if(d){var S,R;const D=y==="y"?"width":"height",U=aP.has(jc(a)),F=r.reference[g]-r.floating[D]+(U&&((S=o.offset)==null?void 0:S[g])||0)+(U?0:E.crossAxis),P=r.reference[g]+r.reference[D]+(U?0:((R=o.offset)==null?void 0:R[g])||0)-(U?E.crossAxis:0);_<F?_=F:_>P&&(_=P)}return{[y]:b,[g]:_}}}},RG=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:r,platform:o,elements:c}=e,{apply:f=()=>{},...d}=Hc(n,e),m=await ax(e,d),g=jc(a),y=wm(a),b=Ll(a)==="y",{width:_,height:T}=r.floating;let E,S;g==="top"||g==="bottom"?(E=g,S=y===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(S=g,E=y==="end"?"top":"bottom");const R=T-m.top-m.bottom,D=_-m.left-m.right,U=tf(T-m[E],R),F=tf(_-m[S],D),P=!e.middlewareData.shift;let L=U,B=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(B=D),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(L=R),P&&!y){const V=As(m.left,0),W=As(m.right,0),te=As(m.top,0),ne=As(m.bottom,0);b?B=_-2*(V!==0||W!==0?V+W:As(m.left,m.right)):L=T-2*(te!==0||ne!==0?te+ne:As(m.top,m.bottom))}await f({...e,availableWidth:B,availableHeight:L});const I=await o.getDimensions(c.floating);return _!==I.width||T!==I.height?{reset:{rects:!0}}:{}}}};function ES(){return typeof window<"u"}function Tm(n){return rP(n)?(n.nodeName||"").toLowerCase():"#document"}function Rs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Yl(n){var e;return(e=(rP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function rP(n){return ES()?n instanceof Node||n instanceof Rs(n).Node:!1}function Xo(n){return ES()?n instanceof Element||n instanceof Rs(n).Element:!1}function Gl(n){return ES()?n instanceof HTMLElement||n instanceof Rs(n).HTMLElement:!1}function IR(n){return!ES()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Rs(n).ShadowRoot}const NG=new Set(["inline","contents"]);function Ux(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=qo(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!NG.has(a)}const DG=new Set(["table","td","th"]);function OG(n){return DG.has(Tm(n))}const LG=[":popover-open",":modal"];function wS(n){return LG.some(e=>{try{return n.matches(e)}catch{return!1}})}const UG=["transform","translate","scale","rotate","perspective"],PG=["transform","translate","scale","rotate","perspective","filter"],zG=["paint","layout","strict","content"];function p2(n){const e=m2(),t=Xo(n)?qo(n):n;return UG.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||PG.some(i=>(t.willChange||"").includes(i))||zG.some(i=>(t.contain||"").includes(i))}function BG(n){let e=nf(n);for(;Gl(e)&&!am(e);){if(p2(e))return e;if(wS(e))return null;e=nf(e)}return null}function m2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IG=new Set(["html","body","#document"]);function am(n){return IG.has(Tm(n))}function qo(n){return Rs(n).getComputedStyle(n)}function TS(n){return Xo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function nf(n){if(Tm(n)==="html")return n;const e=n.assignedSlot||n.parentNode||IR(n)&&n.host||Yl(n);return IR(e)?e.host:e}function sP(n){const e=nf(n);return am(e)?n.ownerDocument?n.ownerDocument.body:n.body:Gl(e)&&Ux(e)?e:sP(e)}function rx(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=sP(n),r=a===((i=n.ownerDocument)==null?void 0:i.body),o=Rs(a);if(r){const c=Uw(o);return e.concat(o,o.visualViewport||[],Ux(a)?a:[],c&&t?rx(c):[])}return e.concat(a,rx(a,[],t))}function Uw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function oP(n){const e=qo(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Gl(n),r=a?n.offsetWidth:t,o=a?n.offsetHeight:i,c=o_(t)!==r||o_(i)!==o;return c&&(t=r,i=o),{width:t,height:i,$:c}}function g2(n){return Xo(n)?n:n.contextElement}function $p(n){const e=g2(n);if(!Gl(e))return Vl(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:r}=oP(e);let o=(r?o_(t.width):t.width)/i,c=(r?o_(t.height):t.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const FG=Vl(0);function lP(n){const e=Rs(n);return!m2()||!e.visualViewport?FG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VG(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Rs(n)?!1:e}function Xd(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),r=g2(n);let o=Vl(1);e&&(i?Xo(i)&&(o=$p(i)):o=$p(n));const c=VG(r,t,i)?lP(r):Vl(0);let f=(a.left+c.x)/o.x,d=(a.top+c.y)/o.y,m=a.width/o.x,g=a.height/o.y;if(r){const y=Rs(r),b=i&&Xo(i)?Rs(i):i;let _=y,T=Uw(_);for(;T&&i&&b!==_;){const E=$p(T),S=T.getBoundingClientRect(),R=qo(T),D=S.left+(T.clientLeft+parseFloat(R.paddingLeft))*E.x,U=S.top+(T.clientTop+parseFloat(R.paddingTop))*E.y;f*=E.x,d*=E.y,m*=E.x,g*=E.y,f+=D,d+=U,_=Rs(T),T=Uw(_)}}return c_({width:m,height:g,x:f,y:d})}function AS(n,e){const t=TS(n).scrollLeft;return e?e.left+t:Xd(Yl(n)).left+t}function cP(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-AS(n,t),a=t.top+e.scrollTop;return{x:i,y:a}}function kG(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const r=a==="fixed",o=Yl(i),c=e?wS(e.floating):!1;if(i===o||c&&r)return t;let f={scrollLeft:0,scrollTop:0},d=Vl(1);const m=Vl(0),g=Gl(i);if((g||!g&&!r)&&((Tm(i)!=="body"||Ux(o))&&(f=TS(i)),Gl(i))){const b=Xd(i);d=$p(i),m.x=b.x+i.clientLeft,m.y=b.y+i.clientTop}const y=o&&!g&&!r?cP(o,f):Vl(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-f.scrollLeft*d.x+m.x+y.x,y:t.y*d.y-f.scrollTop*d.y+m.y+y.y}}function HG(n){return Array.from(n.getClientRects())}function jG(n){const e=Yl(n),t=TS(n),i=n.ownerDocument.body,a=As(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=As(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+AS(n);const c=-t.scrollTop;return qo(i).direction==="rtl"&&(o+=As(e.clientWidth,i.clientWidth)-a),{width:a,height:r,x:o,y:c}}const FR=25;function GG(n,e){const t=Rs(n),i=Yl(n),a=t.visualViewport;let r=i.clientWidth,o=i.clientHeight,c=0,f=0;if(a){r=a.width,o=a.height;const m=m2();(!m||m&&e==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}const d=AS(i);if(d<=0){const m=i.ownerDocument,g=m.body,y=getComputedStyle(g),b=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,_=Math.abs(i.clientWidth-g.clientWidth-b);_<=FR&&(r-=_)}else d<=FR&&(r+=d);return{width:r,height:o,x:c,y:f}}const XG=new Set(["absolute","fixed"]);function qG(n,e){const t=Xd(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,r=Gl(n)?$p(n):Vl(1),o=n.clientWidth*r.x,c=n.clientHeight*r.y,f=a*r.x,d=i*r.y;return{width:o,height:c,x:f,y:d}}function VR(n,e,t){let i;if(e==="viewport")i=GG(n,t);else if(e==="document")i=jG(Yl(n));else if(Xo(e))i=qG(e,t);else{const a=lP(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return c_(i)}function uP(n,e){const t=nf(n);return t===e||!Xo(t)||am(t)?!1:qo(t).position==="fixed"||uP(t,e)}function WG(n,e){const t=e.get(n);if(t)return t;let i=rx(n,[],!1).filter(c=>Xo(c)&&Tm(c)!=="body"),a=null;const r=qo(n).position==="fixed";let o=r?nf(n):n;for(;Xo(o)&&!am(o);){const c=qo(o),f=p2(o);!f&&c.position==="fixed"&&(a=null),(r?!f&&!a:!f&&c.position==="static"&&!!a&&XG.has(a.position)||Ux(o)&&!f&&uP(n,o))?i=i.filter(m=>m!==o):a=c,o=nf(o)}return e.set(n,i),i}function YG(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const o=[...t==="clippingAncestors"?wS(e)?[]:WG(e,this._c):[].concat(t),i],c=o[0],f=o.reduce((d,m)=>{const g=VR(e,m,a);return d.top=As(g.top,d.top),d.right=tf(g.right,d.right),d.bottom=tf(g.bottom,d.bottom),d.left=As(g.left,d.left),d},VR(e,c,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function KG(n){const{width:e,height:t}=oP(n);return{width:e,height:t}}function ZG(n,e,t){const i=Gl(e),a=Yl(e),r=t==="fixed",o=Xd(n,!0,r,e);let c={scrollLeft:0,scrollTop:0};const f=Vl(0);function d(){f.x=AS(a)}if(i||!i&&!r)if((Tm(e)!=="body"||Ux(a))&&(c=TS(e)),i){const b=Xd(e,!0,r,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else a&&d();r&&!i&&a&&d();const m=a&&!i&&!r?cP(a,c):Vl(0),g=o.left+c.scrollLeft-f.x-m.x,y=o.top+c.scrollTop-f.y-m.y;return{x:g,y,width:o.width,height:o.height}}function PM(n){return qo(n).position==="static"}function kR(n,e){if(!Gl(n)||qo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Yl(n)===t&&(t=t.ownerDocument.body),t}function fP(n,e){const t=Rs(n);if(wS(n))return t;if(!Gl(n)){let a=nf(n);for(;a&&!am(a);){if(Xo(a)&&!PM(a))return a;a=nf(a)}return t}let i=kR(n,e);for(;i&&OG(i)&&PM(i);)i=kR(i,e);return i&&am(i)&&PM(i)&&!p2(i)?t:i||BG(n)||t}const JG=async function(n){const e=this.getOffsetParent||fP,t=this.getDimensions,i=await t(n.floating);return{reference:ZG(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function QG(n){return qo(n).direction==="rtl"}const $G={convertOffsetParentRelativeRectToViewportRelativeRect:kG,getDocumentElement:Yl,getClippingRect:YG,getOffsetParent:fP,getElementRects:JG,getClientRects:HG,getDimensions:KG,getScale:$p,isElement:Xo,isRTL:QG};function dP(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function eX(n,e){let t=null,i;const a=Yl(n);function r(){var c;clearTimeout(i),(c=t)==null||c.disconnect(),t=null}function o(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),r();const d=n.getBoundingClientRect(),{left:m,top:g,width:y,height:b}=d;if(c||e(),!y||!b)return;const _=Rv(g),T=Rv(a.clientWidth-(m+y)),E=Rv(a.clientHeight-(g+b)),S=Rv(m),D={rootMargin:-_+"px "+-T+"px "+-E+"px "+-S+"px",threshold:As(0,tf(1,f))||1};let U=!0;function F(P){const L=P[0].intersectionRatio;if(L!==f){if(!U)return o();L?o(!1,L):i=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!dP(d,n.getBoundingClientRect())&&o(),U=!1}try{t=new IntersectionObserver(F,{...D,root:a.ownerDocument})}catch{t=new IntersectionObserver(F,D)}t.observe(n)}return o(!0),r}function tX(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,d=g2(n),m=a||r?[...d?rx(d):[],...rx(e)]:[];m.forEach(S=>{a&&S.addEventListener("scroll",t,{passive:!0}),r&&S.addEventListener("resize",t)});const g=d&&c?eX(d,t):null;let y=-1,b=null;o&&(b=new ResizeObserver(S=>{let[R]=S;R&&R.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var D;(D=b)==null||D.observe(e)})),t()}),d&&!f&&b.observe(d),b.observe(e));let _,T=f?Xd(n):null;f&&E();function E(){const S=Xd(n);T&&!dP(T,S)&&t(),T=S,_=requestAnimationFrame(E)}return t(),()=>{var S;m.forEach(R=>{a&&R.removeEventListener("scroll",t),r&&R.removeEventListener("resize",t)}),g?.(),(S=b)==null||S.disconnect(),b=null,f&&cancelAnimationFrame(_)}}const nX=TG,iX=AG,aX=MG,rX=RG,sX=EG,HR=SG,oX=CG,lX=(n,e,t)=>{const i=new Map,a={platform:$G,...t},r={...a.platform,_c:i};return _G(n,e,{...a,platform:r})};var cX=typeof document<"u",uX=function(){},Fb=cX?O.useLayoutEffect:uX;function u_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!u_(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const r=a[i];if(!(r==="_owner"&&n.$$typeof)&&!u_(n[r],e[r]))return!1}return!0}return n!==n&&e!==e}function hP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function jR(n,e){const t=hP(n);return Math.round(e*t)/t}function zM(n){const e=O.useRef(n);return Fb(()=>{e.current=n}),e}function fX(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:r,floating:o}={},transform:c=!0,whileElementsMounted:f,open:d}=n,[m,g]=O.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=O.useState(i);u_(y,i)||b(i);const[_,T]=O.useState(null),[E,S]=O.useState(null),R=O.useCallback(G=>{G!==P.current&&(P.current=G,T(G))},[]),D=O.useCallback(G=>{G!==L.current&&(L.current=G,S(G))},[]),U=r||_,F=o||E,P=O.useRef(null),L=O.useRef(null),B=O.useRef(m),I=f!=null,V=zM(f),W=zM(a),te=zM(d),ne=O.useCallback(()=>{if(!P.current||!L.current)return;const G={placement:e,strategy:t,middleware:y};W.current&&(G.platform=W.current),lX(P.current,L.current,G).then(ee=>{const ue={...ee,isPositioned:te.current!==!1};ie.current&&!u_(B.current,ue)&&(B.current=ue,vS.flushSync(()=>{g(ue)}))})},[y,e,t,W,te]);Fb(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[d]);const ie=O.useRef(!1);Fb(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Fb(()=>{if(U&&(P.current=U),F&&(L.current=F),U&&F){if(V.current)return V.current(U,F,ne);ne()}},[U,F,ne,V,I]);const oe=O.useMemo(()=>({reference:P,floating:L,setReference:R,setFloating:D}),[R,D]),H=O.useMemo(()=>({reference:U,floating:F}),[U,F]),q=O.useMemo(()=>{const G={position:t,left:0,top:0};if(!H.floating)return G;const ee=jR(H.floating,m.x),ue=jR(H.floating,m.y);return c?{...G,transform:"translate("+ee+"px, "+ue+"px)",...hP(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:ue}},[t,c,H.floating,m.x,m.y]);return O.useMemo(()=>({...m,update:ne,refs:oe,elements:H,floatingStyles:q}),[m,ne,oe,H,q])}const dX=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?HR({element:i.current,padding:a}).fn(t):{}:i?HR({element:i,padding:a}).fn(t):{}}}},hX=(n,e)=>({...nX(n),options:[n,e]}),pX=(n,e)=>({...iX(n),options:[n,e]}),mX=(n,e)=>({...oX(n),options:[n,e]}),gX=(n,e)=>({...aX(n),options:[n,e]}),xX=(n,e)=>({...rX(n),options:[n,e]}),yX=(n,e)=>({...sX(n),options:[n,e]}),vX=(n,e)=>({...dX(n),options:[n,e]});var bX="Arrow",pP=O.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...r}=n;return A.jsx(xa.svg,{...r,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});pP.displayName=bX;var _X=pP;function SX(n){const[e,t]=O.useState(void 0);return ef(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const r=a[0];let o,c;if("borderBoxSize"in r){const f=r.borderBoxSize,d=Array.isArray(f)?f[0]:f;o=d.inlineSize,c=d.blockSize}else o=n.offsetWidth,c=n.offsetHeight;t({width:o,height:c})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var x2="Popper",[mP,gP]=Em(x2),[MX,xP]=mP(x2),yP=n=>{const{__scopePopper:e,children:t}=n,[i,a]=O.useState(null);return A.jsx(MX,{scope:e,anchor:i,onAnchorChange:a,children:t})};yP.displayName=x2;var vP="PopperAnchor",bP=O.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,r=xP(vP,t),o=O.useRef(null),c=Qa(e,o),f=O.useRef(null);return O.useEffect(()=>{const d=f.current;f.current=i?.current||o.current,d!==f.current&&r.onAnchorChange(f.current)}),i?null:A.jsx(xa.div,{...a,ref:c})});bP.displayName=vP;var y2="PopperContent",[EX,wX]=mP(y2),_P=O.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:r="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:_,...T}=n,E=xP(y2,t),[S,R]=O.useState(null),D=Qa(e,pe=>R(pe)),[U,F]=O.useState(null),P=SX(U),L=P?.width??0,B=P?.height??0,I=i+(r!=="center"?"-"+r:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(d)?d:[d],te=W.length>0,ne={padding:V,boundary:W.filter(AX),altBoundary:te},{refs:ie,floatingStyles:oe,placement:H,isPositioned:q,middlewareData:G}=fX({strategy:"fixed",placement:I,whileElementsMounted:(...pe)=>tX(...pe,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[hX({mainAxis:a+B,alignmentAxis:o}),f&&pX({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?mX():void 0,...ne}),f&&gX({...ne}),xX({...ne,apply:({elements:pe,rects:Je,availableWidth:ct,availableHeight:gt})=>{const{width:wt,height:$t}=Je.reference,Bt=pe.floating.style;Bt.setProperty("--radix-popper-available-width",`${ct}px`),Bt.setProperty("--radix-popper-available-height",`${gt}px`),Bt.setProperty("--radix-popper-anchor-width",`${wt}px`),Bt.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),U&&vX({element:U,padding:c}),CX({arrowWidth:L,arrowHeight:B}),y&&yX({strategy:"referenceHidden",...ne})]}),[ee,ue]=EP(H),K=kc(_);ef(()=>{q&&K?.()},[q,K]);const le=G.arrow?.x,_e=G.arrow?.y,Se=G.arrow?.centerOffset!==0,[je,ve]=O.useState();return ef(()=>{S&&ve(window.getComputedStyle(S).zIndex)},[S]),A.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:q?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:A.jsx(EX,{scope:t,placedSide:ee,onArrowChange:F,arrowX:le,arrowY:_e,shouldHideArrow:Se,children:A.jsx(xa.div,{"data-side":ee,"data-align":ue,...T,ref:D,style:{...T.style,animation:q?void 0:"none"}})})})});_P.displayName=y2;var SP="PopperArrow",TX={top:"bottom",right:"left",bottom:"top",left:"right"},MP=O.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,r=wX(SP,i),o=TX[r.placedSide];return A.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:A.jsx(_X,{...a,ref:t,style:{...a.style,display:"block"}})})});MP.displayName=SP;function AX(n){return n!==null}var CX=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,c=o?0:n.arrowWidth,f=o?0:n.arrowHeight,[d,m]=EP(t),g={start:"0%",center:"50%",end:"100%"}[m],y=(a.arrow?.x??0)+c/2,b=(a.arrow?.y??0)+f/2;let _="",T="";return d==="bottom"?(_=o?g:`${y}px`,T=`${-f}px`):d==="top"?(_=o?g:`${y}px`,T=`${i.floating.height+f}px`):d==="right"?(_=`${-f}px`,T=o?g:`${b}px`):d==="left"&&(_=`${i.floating.width+f}px`,T=o?g:`${b}px`),{data:{x:_,y:T}}}});function EP(n){const[e,t="center"]=n.split("-");return[e,t]}var RX=yP,NX=bP,DX=_P,OX=MP,LX="Portal",v2=O.forwardRef((n,e)=>{const{container:t,...i}=n,[a,r]=O.useState(!1);ef(()=>r(!0),[]);const o=t||a&&globalThis?.document?.body;return o?t8.createPortal(A.jsx(xa.div,{...i,ref:e}),o):null});v2.displayName=LX;function UX(n,e){return O.useReducer((t,i)=>e[t][i]??t,n)}var hf=n=>{const{present:e,children:t}=n,i=PX(e),a=typeof t=="function"?t({present:i.isPresent}):O.Children.only(t),r=Qa(i.ref,zX(a));return typeof t=="function"||i.isPresent?O.cloneElement(a,{ref:r}):null};hf.displayName="Presence";function PX(n){const[e,t]=O.useState(),i=O.useRef(null),a=O.useRef(n),r=O.useRef("none"),o=n?"mounted":"unmounted",[c,f]=UX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const d=Nv(i.current);r.current=c==="mounted"?d:"none"},[c]),ef(()=>{const d=i.current,m=a.current;if(m!==n){const y=r.current,b=Nv(d);n?f("MOUNT"):b==="none"||d?.display==="none"?f("UNMOUNT"):f(m&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,f]),ef(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=b=>{const T=Nv(i.current).includes(CSS.escape(b.animationName));if(b.target===e&&T&&(f("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},y=b=>{b.target===e&&(r.current=Nv(i.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:O.useCallback(d=>{i.current=d?getComputedStyle(d):null,t(d)},[])}}function Nv(n){return n?.animationName||"none"}function zX(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var BM="rovingFocusGroup.onEntryFocus",BX={bubbles:!1,cancelable:!0},Px="RovingFocusGroup",[Pw,wP,IX]=JU(Px),[FX,TP]=Em(Px,[IX]),[VX,kX]=FX(Px),AP=O.forwardRef((n,e)=>A.jsx(Pw.Provider,{scope:n.__scopeRovingFocusGroup,children:A.jsx(Pw.Slot,{scope:n.__scopeRovingFocusGroup,children:A.jsx(HX,{...n,ref:e})})}));AP.displayName=Px;var HX=O.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:a=!1,dir:r,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=n,y=O.useRef(null),b=Qa(e,y),_=QU(r),[T,E]=l2({prop:o,defaultProp:c??null,onChange:f,caller:Px}),[S,R]=O.useState(!1),D=kc(d),U=wP(t),F=O.useRef(!1),[P,L]=O.useState(0);return O.useEffect(()=>{const B=y.current;if(B)return B.addEventListener(BM,D),()=>B.removeEventListener(BM,D)},[D]),A.jsx(VX,{scope:t,orientation:i,dir:_,loop:a,currentTabStopId:T,onItemFocus:O.useCallback(B=>E(B),[E]),onItemShiftTab:O.useCallback(()=>R(!0),[]),onFocusableItemAdd:O.useCallback(()=>L(B=>B+1),[]),onFocusableItemRemove:O.useCallback(()=>L(B=>B-1),[]),children:A.jsx(xa.div,{tabIndex:S||P===0?-1:0,"data-orientation":i,...g,ref:b,style:{outline:"none",...n.style},onMouseDown:Rn(n.onMouseDown,()=>{F.current=!0}),onFocus:Rn(n.onFocus,B=>{const I=!F.current;if(B.target===B.currentTarget&&I&&!S){const V=new CustomEvent(BM,BX);if(B.currentTarget.dispatchEvent(V),!V.defaultPrevented){const W=U().filter(H=>H.focusable),te=W.find(H=>H.active),ne=W.find(H=>H.id===T),oe=[te,ne,...W].filter(Boolean).map(H=>H.ref.current);NP(oe,m)}}F.current=!1}),onBlur:Rn(n.onBlur,()=>R(!1))})})}),CP="RovingFocusGroupItem",RP=O.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:a=!1,tabStopId:r,children:o,...c}=n,f=Qp(),d=r||f,m=kX(CP,t),g=m.currentTabStopId===d,y=wP(t),{onFocusableItemAdd:b,onFocusableItemRemove:_,currentTabStopId:T}=m;return O.useEffect(()=>{if(i)return b(),()=>_()},[i,b,_]),A.jsx(Pw.ItemSlot,{scope:t,id:d,focusable:i,active:a,children:A.jsx(xa.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Rn(n.onMouseDown,E=>{i?m.onItemFocus(d):E.preventDefault()}),onFocus:Rn(n.onFocus,()=>m.onItemFocus(d)),onKeyDown:Rn(n.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){m.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const S=XX(E,m.orientation,m.dir);if(S!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let D=y().filter(U=>U.focusable).map(U=>U.ref.current);if(S==="last")D.reverse();else if(S==="prev"||S==="next"){S==="prev"&&D.reverse();const U=D.indexOf(E.currentTarget);D=m.loop?qX(D,U+1):D.slice(U+1)}setTimeout(()=>NP(D))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:T!=null}):o})})});RP.displayName=CP;var jX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GX(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function XX(n,e,t){const i=GX(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return jX[i]}function NP(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function qX(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var WX=AP,YX=RP;function KX(n){const e=ZX(n),t=O.forwardRef((i,a)=>{const{children:r,...o}=i,c=O.Children.toArray(r),f=c.find(QX);if(f){const d=f.props.children,m=c.map(g=>g===f?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:g);return A.jsx(e,{...o,ref:a,children:O.isValidElement(d)?O.cloneElement(d,void 0,m):null})}return A.jsx(e,{...o,ref:a,children:r})});return t.displayName=`${n}.Slot`,t}function ZX(n){const e=O.forwardRef((t,i)=>{const{children:a,...r}=t;if(O.isValidElement(a)){const o=eq(a),c=$X(r,a.props);return a.type!==O.Fragment&&(c.ref=i?df(i,o):o),O.cloneElement(a,c)}return O.Children.count(a)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var JX=Symbol("radix.slottable");function QX(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===JX}function $X(n,e){const t={...e};for(const i in e){const a=n[i],r=e[i];/^on[A-Z]/.test(i)?a&&r?t[i]=(...c)=>{const f=r(...c);return a(...c),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...r}:i==="className"&&(t[i]=[a,r].filter(Boolean).join(" "))}return{...n,...t}}function eq(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var tq=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},dp=new WeakMap,Dv=new WeakMap,Ov={},IM=0,DP=function(n){return n&&(n.host||DP(n.parentNode))},nq=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=DP(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},iq=function(n,e,t,i){var a=nq(e,Array.isArray(n)?n:[n]);Ov[t]||(Ov[t]=new WeakMap);var r=Ov[t],o=[],c=new Set,f=new Set(a),d=function(g){!g||c.has(g)||(c.add(g),d(g.parentNode))};a.forEach(d);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))m(y);else try{var b=y.getAttribute(i),_=b!==null&&b!=="false",T=(dp.get(y)||0)+1,E=(r.get(y)||0)+1;dp.set(y,T),r.set(y,E),o.push(y),T===1&&_&&Dv.set(y,!0),E===1&&y.setAttribute(t,"true"),_||y.setAttribute(i,"true")}catch(S){console.error("aria-hidden: cannot operate on ",y,S)}})};return m(e),c.clear(),IM++,function(){o.forEach(function(g){var y=dp.get(g)-1,b=r.get(g)-1;dp.set(g,y),r.set(g,b),y||(Dv.has(g)||g.removeAttribute(i),Dv.delete(g)),b||g.removeAttribute(t)}),IM--,IM||(dp=new WeakMap,dp=new WeakMap,Dv=new WeakMap,Ov={})}},OP=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=tq(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),iq(i,a,t,"aria-hidden")):function(){return null}},Dl=function(){return Dl=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dl.apply(this,arguments)};function LP(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function aq(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,r;i<a;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var Vb="right-scroll-bar-position",kb="width-before-scroll-bar",rq="with-scroll-bars-hidden",sq="--removed-body-scroll-bar-size";function FM(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function oq(n,e){var t=O.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var lq=typeof window<"u"?O.useLayoutEffect:O.useEffect,GR=new WeakMap;function cq(n,e){var t=oq(null,function(i){return n.forEach(function(a){return FM(a,i)})});return lq(function(){var i=GR.get(t);if(i){var a=new Set(i),r=new Set(n),o=t.current;a.forEach(function(c){r.has(c)||FM(c,null)}),r.forEach(function(c){a.has(c)||FM(c,o)})}GR.set(t,n)},[n]),t}function uq(n){return n}function fq(n,e){e===void 0&&(e=uq);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(r){var o=e(r,i);return t.push(o),function(){t=t.filter(function(c){return c!==o})}},assignSyncMedium:function(r){for(i=!0;t.length;){var o=t;t=[],o.forEach(r)}t={push:function(c){return r(c)},filter:function(){return t}}},assignMedium:function(r){i=!0;var o=[];if(t.length){var c=t;t=[],c.forEach(r),o=t}var f=function(){var m=o;o=[],m.forEach(r)},d=function(){return Promise.resolve().then(f)};d(),t={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),t}}}};return a}function dq(n){n===void 0&&(n={});var e=fq(null);return e.options=Dl({async:!0,ssr:!1},n),e}var UP=function(n){var e=n.sideCar,t=LP(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return O.createElement(i,Dl({},t))};UP.isSideCarExport=!0;function hq(n,e){return n.useMedium(e),UP}var PP=dq(),VM=function(){},CS=O.forwardRef(function(n,e){var t=O.useRef(null),i=O.useState({onScrollCapture:VM,onWheelCapture:VM,onTouchMoveCapture:VM}),a=i[0],r=i[1],o=n.forwardProps,c=n.children,f=n.className,d=n.removeScrollBar,m=n.enabled,g=n.shards,y=n.sideCar,b=n.noRelative,_=n.noIsolation,T=n.inert,E=n.allowPinchZoom,S=n.as,R=S===void 0?"div":S,D=n.gapMode,U=LP(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=y,P=cq([t,e]),L=Dl(Dl({},U),a);return O.createElement(O.Fragment,null,m&&O.createElement(F,{sideCar:PP,removeScrollBar:d,shards:g,noRelative:b,noIsolation:_,inert:T,setCallbacks:r,allowPinchZoom:!!E,lockRef:t,gapMode:D}),o?O.cloneElement(O.Children.only(c),Dl(Dl({},L),{ref:P})):O.createElement(R,Dl({},L,{className:f,ref:P}),c))});CS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};CS.classNames={fullWidth:kb,zeroRight:Vb};var pq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mq(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=pq();return e&&n.setAttribute("nonce",e),n}function gq(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function xq(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var yq=function(){var n=0,e=null;return{add:function(t){n==0&&(e=mq())&&(gq(e,t),xq(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vq=function(){var n=yq();return function(e,t){O.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},zP=function(){var n=vq(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},bq={left:0,top:0,right:0,gap:0},kM=function(n){return parseInt(n||"",10)||0},_q=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[kM(t),kM(i),kM(a)]},Sq=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return bq;var e=_q(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Mq=zP(),em="data-scroll-locked",Eq=function(n,e,t,i){var a=n.left,r=n.top,o=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rq,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(em,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vb,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(kb,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Vb," .").concat(Vb,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(kb," .").concat(kb,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(em,`] {
    `).concat(sq,": ").concat(c,`px;
  }
`)},XR=function(){var n=parseInt(document.body.getAttribute(em)||"0",10);return isFinite(n)?n:0},wq=function(){O.useEffect(function(){return document.body.setAttribute(em,(XR()+1).toString()),function(){var n=XR()-1;n<=0?document.body.removeAttribute(em):document.body.setAttribute(em,n.toString())}},[])},Tq=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;wq();var r=O.useMemo(function(){return Sq(a)},[a]);return O.createElement(Mq,{styles:Eq(r,!e,a,t?"":"!important")})},zw=!1;if(typeof window<"u")try{var Lv=Object.defineProperty({},"passive",{get:function(){return zw=!0,!0}});window.addEventListener("test",Lv,Lv),window.removeEventListener("test",Lv,Lv)}catch{zw=!1}var hp=zw?{passive:!1}:!1,Aq=function(n){return n.tagName==="TEXTAREA"},BP=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Aq(n)&&t[e]==="visible")},Cq=function(n){return BP(n,"overflowY")},Rq=function(n){return BP(n,"overflowX")},qR=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=IP(n,i);if(a){var r=FP(n,i),o=r[1],c=r[2];if(o>c)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},Nq=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},Dq=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},IP=function(n,e){return n==="v"?Cq(e):Rq(e)},FP=function(n,e){return n==="v"?Nq(e):Dq(e)},Oq=function(n,e){return n==="h"&&e==="rtl"?-1:1},Lq=function(n,e,t,i,a){var r=Oq(n,window.getComputedStyle(e).direction),o=r*i,c=t.target,f=e.contains(c),d=!1,m=o>0,g=0,y=0;do{if(!c)break;var b=FP(n,c),_=b[0],T=b[1],E=b[2],S=T-E-r*_;(_||S)&&IP(n,c)&&(g+=S,y+=_);var R=c.parentNode;c=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(d=!0),d},Uv=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},WR=function(n){return[n.deltaX,n.deltaY]},YR=function(n){return n&&"current"in n?n.current:n},Uq=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Pq=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},zq=0,pp=[];function Bq(n){var e=O.useRef([]),t=O.useRef([0,0]),i=O.useRef(),a=O.useState(zq++)[0],r=O.useState(zP)[0],o=O.useRef(n);O.useEffect(function(){o.current=n},[n]),O.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var T=aq([n.lockRef.current],(n.shards||[]).map(YR),!0).filter(Boolean);return T.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),T.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var c=O.useCallback(function(T,E){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var S=Uv(T),R=t.current,D="deltaX"in T?T.deltaX:R[0]-S[0],U="deltaY"in T?T.deltaY:R[1]-S[1],F,P=T.target,L=Math.abs(D)>Math.abs(U)?"h":"v";if("touches"in T&&L==="h"&&P.type==="range")return!1;var B=qR(L,P);if(!B)return!0;if(B?F=L:(F=L==="v"?"h":"v",B=qR(L,P)),!B)return!1;if(!i.current&&"changedTouches"in T&&(D||U)&&(i.current=F),!F)return!0;var I=i.current||F;return Lq(I,E,T,I==="h"?D:U)},[]),f=O.useCallback(function(T){var E=T;if(!(!pp.length||pp[pp.length-1]!==r)){var S="deltaY"in E?WR(E):Uv(E),R=e.current.filter(function(F){return F.name===E.type&&(F.target===E.target||E.target===F.shadowParent)&&Uq(F.delta,S)})[0];if(R&&R.should){E.cancelable&&E.preventDefault();return}if(!R){var D=(o.current.shards||[]).map(YR).filter(Boolean).filter(function(F){return F.contains(E.target)}),U=D.length>0?c(E,D[0]):!o.current.noIsolation;U&&E.cancelable&&E.preventDefault()}}},[]),d=O.useCallback(function(T,E,S,R){var D={name:T,delta:E,target:S,should:R,shadowParent:Iq(S)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(U){return U!==D})},1)},[]),m=O.useCallback(function(T){t.current=Uv(T),i.current=void 0},[]),g=O.useCallback(function(T){d(T.type,WR(T),T.target,c(T,n.lockRef.current))},[]),y=O.useCallback(function(T){d(T.type,Uv(T),T.target,c(T,n.lockRef.current))},[]);O.useEffect(function(){return pp.push(r),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,hp),document.addEventListener("touchmove",f,hp),document.addEventListener("touchstart",m,hp),function(){pp=pp.filter(function(T){return T!==r}),document.removeEventListener("wheel",f,hp),document.removeEventListener("touchmove",f,hp),document.removeEventListener("touchstart",m,hp)}},[]);var b=n.removeScrollBar,_=n.inert;return O.createElement(O.Fragment,null,_?O.createElement(r,{styles:Pq(a)}):null,b?O.createElement(Tq,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Iq(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Fq=hq(PP,Bq);var b2=O.forwardRef(function(n,e){return O.createElement(CS,Dl({},n,{ref:e,sideCar:Fq}))});b2.classNames=CS.classNames;var Bw=["Enter"," "],Vq=["ArrowDown","PageUp","Home"],VP=["ArrowUp","PageDown","End"],kq=[...Vq,...VP],Hq={ltr:[...Bw,"ArrowRight"],rtl:[...Bw,"ArrowLeft"]},jq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zx="Menu",[sx,Gq,Xq]=JU(zx),[eh,kP]=Em(zx,[Xq,gP,TP]),RS=gP(),HP=TP(),[qq,th]=eh(zx),[Wq,Bx]=eh(zx),jP=n=>{const{__scopeMenu:e,open:t=!1,children:i,dir:a,onOpenChange:r,modal:o=!0}=n,c=RS(e),[f,d]=O.useState(null),m=O.useRef(!1),g=kc(r),y=QU(a);return O.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),A.jsx(RX,{...c,children:A.jsx(qq,{scope:e,open:t,onOpenChange:g,content:f,onContentChange:d,children:A.jsx(Wq,{scope:e,onClose:O.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:y,modal:o,children:i})})})};jP.displayName=zx;var Yq="MenuAnchor",_2=O.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,a=RS(t);return A.jsx(NX,{...a,...i,ref:e})});_2.displayName=Yq;var S2="MenuPortal",[Kq,GP]=eh(S2,{forceMount:void 0}),XP=n=>{const{__scopeMenu:e,forceMount:t,children:i,container:a}=n,r=th(S2,e);return A.jsx(Kq,{scope:e,forceMount:t,children:A.jsx(hf,{present:t||r.open,children:A.jsx(v2,{asChild:!0,container:a,children:i})})})};XP.displayName=S2;var oo="MenuContent",[Zq,M2]=eh(oo),qP=O.forwardRef((n,e)=>{const t=GP(oo,n.__scopeMenu),{forceMount:i=t.forceMount,...a}=n,r=th(oo,n.__scopeMenu),o=Bx(oo,n.__scopeMenu);return A.jsx(sx.Provider,{scope:n.__scopeMenu,children:A.jsx(hf,{present:i||r.open,children:A.jsx(sx.Slot,{scope:n.__scopeMenu,children:o.modal?A.jsx(Jq,{...a,ref:e}):A.jsx(Qq,{...a,ref:e})})})})}),Jq=O.forwardRef((n,e)=>{const t=th(oo,n.__scopeMenu),i=O.useRef(null),a=Qa(e,i);return O.useEffect(()=>{const r=i.current;if(r)return OP(r)},[]),A.jsx(E2,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Rn(n.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Qq=O.forwardRef((n,e)=>{const t=th(oo,n.__scopeMenu);return A.jsx(E2,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),$q=KX("MenuContent.ScrollLock"),E2=O.forwardRef((n,e)=>{const{__scopeMenu:t,loop:i=!1,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:_,...T}=n,E=th(oo,t),S=Bx(oo,t),R=RS(t),D=HP(t),U=Gq(t),[F,P]=O.useState(null),L=O.useRef(null),B=Qa(e,L,E.onContentChange),I=O.useRef(0),V=O.useRef(""),W=O.useRef(0),te=O.useRef(null),ne=O.useRef("right"),ie=O.useRef(0),oe=_?b2:O.Fragment,H=_?{as:$q,allowPinchZoom:!0}:void 0,q=ee=>{const ue=V.current+ee,K=U().filter(pe=>!pe.disabled),le=document.activeElement,_e=K.find(pe=>pe.ref.current===le)?.textValue,Se=K.map(pe=>pe.textValue),je=fW(Se,ue,_e),ve=K.find(pe=>pe.textValue===je)?.ref.current;(function pe(Je){V.current=Je,window.clearTimeout(I.current),Je!==""&&(I.current=window.setTimeout(()=>pe(""),1e3))})(ue),ve&&setTimeout(()=>ve.focus())};O.useEffect(()=>()=>window.clearTimeout(I.current),[]),tP();const G=O.useCallback(ee=>ne.current===te.current?.side&&hW(ee,te.current?.area),[]);return A.jsx(Zq,{scope:t,searchRef:V,onItemEnter:O.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),onItemLeave:O.useCallback(ee=>{G(ee)||(L.current?.focus(),P(null))},[G]),onTriggerLeave:O.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),pointerGraceTimerRef:W,onPointerGraceIntentChange:O.useCallback(ee=>{te.current=ee},[]),children:A.jsx(oe,{...H,children:A.jsx(u2,{asChild:!0,trapped:a,onMountAutoFocus:Rn(r,ee=>{ee.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:A.jsx(c2,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:A.jsx(WX,{asChild:!0,...D,dir:S.dir,orientation:"vertical",loop:i,currentTabStopId:F,onCurrentTabStopIdChange:P,onEntryFocus:Rn(f,ee=>{S.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:A.jsx(DX,{role:"menu","aria-orientation":"vertical","data-state":l4(E.open),"data-radix-menu-content":"",dir:S.dir,...R,...T,ref:B,style:{outline:"none",...T.style},onKeyDown:Rn(T.onKeyDown,ee=>{const K=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,le=ee.ctrlKey||ee.altKey||ee.metaKey,_e=ee.key.length===1;K&&(ee.key==="Tab"&&ee.preventDefault(),!le&&_e&&q(ee.key));const Se=L.current;if(ee.target!==Se||!kq.includes(ee.key))return;ee.preventDefault();const ve=U().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);VP.includes(ee.key)&&ve.reverse(),cW(ve)}),onBlur:Rn(n.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(I.current),V.current="")}),onPointerMove:Rn(n.onPointerMove,ox(ee=>{const ue=ee.target,K=ie.current!==ee.clientX;if(ee.currentTarget.contains(ue)&&K){const le=ee.clientX>ie.current?"right":"left";ne.current=le,ie.current=ee.clientX}}))})})})})})})});qP.displayName=oo;var eW="MenuGroup",w2=O.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return A.jsx(xa.div,{role:"group",...i,ref:e})});w2.displayName=eW;var tW="MenuLabel",WP=O.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return A.jsx(xa.div,{...i,ref:e})});WP.displayName=tW;var f_="MenuItem",KR="menu.itemSelect",NS=O.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:i,...a}=n,r=O.useRef(null),o=Bx(f_,n.__scopeMenu),c=M2(f_,n.__scopeMenu),f=Qa(e,r),d=O.useRef(!1),m=()=>{const g=r.current;if(!t&&g){const y=new CustomEvent(KR,{bubbles:!0,cancelable:!0});g.addEventListener(KR,b=>i?.(b),{once:!0}),ZU(g,y),y.defaultPrevented?d.current=!1:o.onClose()}};return A.jsx(YP,{...a,ref:f,disabled:t,onClick:Rn(n.onClick,m),onPointerDown:g=>{n.onPointerDown?.(g),d.current=!0},onPointerUp:Rn(n.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:Rn(n.onKeyDown,g=>{const y=c.searchRef.current!=="";t||y&&g.key===" "||Bw.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});NS.displayName=f_;var YP=O.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:i=!1,textValue:a,...r}=n,o=M2(f_,t),c=HP(t),f=O.useRef(null),d=Qa(e,f),[m,g]=O.useState(!1),[y,b]=O.useState("");return O.useEffect(()=>{const _=f.current;_&&b((_.textContent??"").trim())},[r.children]),A.jsx(sx.ItemSlot,{scope:t,disabled:i,textValue:a??y,children:A.jsx(YX,{asChild:!0,...c,focusable:!i,children:A.jsx(xa.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...r,ref:d,onPointerMove:Rn(n.onPointerMove,ox(_=>{i?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Rn(n.onPointerLeave,ox(_=>o.onItemLeave(_))),onFocus:Rn(n.onFocus,()=>g(!0)),onBlur:Rn(n.onBlur,()=>g(!1))})})})}),nW="MenuCheckboxItem",KP=O.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:i,...a}=n;return A.jsx(e4,{scope:n.__scopeMenu,checked:t,children:A.jsx(NS,{role:"menuitemcheckbox","aria-checked":d_(t)?"mixed":t,...a,ref:e,"data-state":A2(t),onSelect:Rn(a.onSelect,()=>i?.(d_(t)?!0:!t),{checkForDefaultPrevented:!1})})})});KP.displayName=nW;var ZP="MenuRadioGroup",[iW,aW]=eh(ZP,{value:void 0,onValueChange:()=>{}}),JP=O.forwardRef((n,e)=>{const{value:t,onValueChange:i,...a}=n,r=kc(i);return A.jsx(iW,{scope:n.__scopeMenu,value:t,onValueChange:r,children:A.jsx(w2,{...a,ref:e})})});JP.displayName=ZP;var QP="MenuRadioItem",$P=O.forwardRef((n,e)=>{const{value:t,...i}=n,a=aW(QP,n.__scopeMenu),r=t===a.value;return A.jsx(e4,{scope:n.__scopeMenu,checked:r,children:A.jsx(NS,{role:"menuitemradio","aria-checked":r,...i,ref:e,"data-state":A2(r),onSelect:Rn(i.onSelect,()=>a.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});$P.displayName=QP;var T2="MenuItemIndicator",[e4,rW]=eh(T2,{checked:!1}),t4=O.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:i,...a}=n,r=rW(T2,t);return A.jsx(hf,{present:i||d_(r.checked)||r.checked===!0,children:A.jsx(xa.span,{...a,ref:e,"data-state":A2(r.checked)})})});t4.displayName=T2;var sW="MenuSeparator",n4=O.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return A.jsx(xa.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});n4.displayName=sW;var oW="MenuArrow",i4=O.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,a=RS(t);return A.jsx(OX,{...a,...i,ref:e})});i4.displayName=oW;var lW="MenuSub",[Xoe,a4]=eh(lW),Ng="MenuSubTrigger",r4=O.forwardRef((n,e)=>{const t=th(Ng,n.__scopeMenu),i=Bx(Ng,n.__scopeMenu),a=a4(Ng,n.__scopeMenu),r=M2(Ng,n.__scopeMenu),o=O.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=r,d={__scopeMenu:n.__scopeMenu},m=O.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return O.useEffect(()=>m,[m]),O.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),f(null)}},[c,f]),A.jsx(_2,{asChild:!0,...d,children:A.jsx(YP,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":l4(t.open),...n,ref:df(e,a.onTriggerChange),onClick:g=>{n.onClick?.(g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Rn(n.onPointerMove,ox(g=>{r.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(r.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:Rn(n.onPointerLeave,ox(g=>{m();const y=t.content?.getBoundingClientRect();if(y){const b=t.content?.dataset.side,_=b==="right",T=_?-5:5,E=y[_?"left":"right"],S=y[_?"right":"left"];r.onPointerGraceIntentChange({area:[{x:g.clientX+T,y:g.clientY},{x:E,y:y.top},{x:S,y:y.top},{x:S,y:y.bottom},{x:E,y:y.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(g),g.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:Rn(n.onKeyDown,g=>{const y=r.searchRef.current!=="";n.disabled||y&&g.key===" "||Hq[i.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});r4.displayName=Ng;var s4="MenuSubContent",o4=O.forwardRef((n,e)=>{const t=GP(oo,n.__scopeMenu),{forceMount:i=t.forceMount,...a}=n,r=th(oo,n.__scopeMenu),o=Bx(oo,n.__scopeMenu),c=a4(s4,n.__scopeMenu),f=O.useRef(null),d=Qa(e,f);return A.jsx(sx.Provider,{scope:n.__scopeMenu,children:A.jsx(hf,{present:i||r.open,children:A.jsx(sx.Slot,{scope:n.__scopeMenu,children:A.jsx(E2,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&f.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Rn(n.onFocusOutside,m=>{m.target!==c.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:Rn(n.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Rn(n.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),y=jq[o.dir].includes(m.key);g&&y&&(r.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});o4.displayName=s4;function l4(n){return n?"open":"closed"}function d_(n){return n==="indeterminate"}function A2(n){return d_(n)?"indeterminate":n?"checked":"unchecked"}function cW(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function uW(n,e){return n.map((t,i)=>n[(e+i)%n.length])}function fW(n,e,t){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,r=t?n.indexOf(t):-1;let o=uW(n,Math.max(r,0));a.length===1&&(o=o.filter(d=>d!==t));const f=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return f!==t?f:void 0}function dW(n,e){const{x:t,y:i}=n;let a=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const c=e[r],f=e[o],d=c.x,m=c.y,g=f.x,y=f.y;m>i!=y>i&&t<(g-d)*(i-m)/(y-m)+d&&(a=!a)}return a}function hW(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return dW(t,e)}function ox(n){return e=>e.pointerType==="mouse"?n(e):void 0}var pW=jP,mW=_2,gW=XP,xW=qP,yW=w2,vW=WP,bW=NS,_W=KP,SW=JP,MW=$P,EW=t4,wW=n4,TW=i4,AW=r4,CW=o4,DS="DropdownMenu",[RW]=Em(DS,[kP]),Gr=kP(),[NW,c4]=RW(DS),u4=n=>{const{__scopeDropdownMenu:e,children:t,dir:i,open:a,defaultOpen:r,onOpenChange:o,modal:c=!0}=n,f=Gr(e),d=O.useRef(null),[m,g]=l2({prop:a,defaultProp:r??!1,onChange:o,caller:DS});return A.jsx(NW,{scope:e,triggerId:Qp(),triggerRef:d,contentId:Qp(),open:m,onOpenChange:g,onOpenToggle:O.useCallback(()=>g(y=>!y),[g]),modal:c,children:A.jsx(pW,{...f,open:m,onOpenChange:g,dir:i,modal:c,children:t})})};u4.displayName=DS;var f4="DropdownMenuTrigger",d4=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:i=!1,...a}=n,r=c4(f4,t),o=Gr(t);return A.jsx(mW,{asChild:!0,...o,children:A.jsx(xa.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...a,ref:df(e,r.triggerRef),onPointerDown:Rn(n.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(r.onOpenToggle(),r.open||c.preventDefault())}),onKeyDown:Rn(n.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&r.onOpenToggle(),c.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});d4.displayName=f4;var DW="DropdownMenuPortal",h4=n=>{const{__scopeDropdownMenu:e,...t}=n,i=Gr(e);return A.jsx(gW,{...i,...t})};h4.displayName=DW;var p4="DropdownMenuContent",m4=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=c4(p4,t),r=Gr(t),o=O.useRef(!1);return A.jsx(xW,{id:a.contentId,"aria-labelledby":a.triggerId,...r,...i,ref:e,onCloseAutoFocus:Rn(n.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Rn(n.onInteractOutside,c=>{const f=c.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0,m=f.button===2||d;(!a.modal||m)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m4.displayName=p4;var OW="DropdownMenuGroup",LW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(yW,{...a,...i,ref:e})});LW.displayName=OW;var UW="DropdownMenuLabel",PW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(vW,{...a,...i,ref:e})});PW.displayName=UW;var zW="DropdownMenuItem",g4=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(bW,{...a,...i,ref:e})});g4.displayName=zW;var BW="DropdownMenuCheckboxItem",IW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(_W,{...a,...i,ref:e})});IW.displayName=BW;var FW="DropdownMenuRadioGroup",VW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(SW,{...a,...i,ref:e})});VW.displayName=FW;var kW="DropdownMenuRadioItem",HW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(MW,{...a,...i,ref:e})});HW.displayName=kW;var jW="DropdownMenuItemIndicator",GW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(EW,{...a,...i,ref:e})});GW.displayName=jW;var XW="DropdownMenuSeparator",qW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(wW,{...a,...i,ref:e})});qW.displayName=XW;var WW="DropdownMenuArrow",YW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(TW,{...a,...i,ref:e})});YW.displayName=WW;var KW="DropdownMenuSubTrigger",ZW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(AW,{...a,...i,ref:e})});ZW.displayName=KW;var JW="DropdownMenuSubContent",QW=O.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Gr(t);return A.jsx(CW,{...a,...i,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QW.displayName=JW;var $W=u4,eY=d4,tY=h4,nY=m4,iY=g4;function aY({...n}){return A.jsx($W,{"data-slot":"dropdown-menu",...n})}function rY({...n}){return A.jsx(eY,{"data-slot":"dropdown-menu-trigger",...n})}function sY({className:n,sideOffset:e=4,...t}){return A.jsx(tY,{children:A.jsx(nY,{"data-slot":"dropdown-menu-content",sideOffset:e,className:fo("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function HM({className:n,inset:e,variant:t="default",...i}){return A.jsx(iY,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:fo("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function x4(){const{setTheme:n}=L9();return A.jsxs(aY,{children:[A.jsx(rY,{asChild:!0,children:A.jsxs(Sn,{variant:"outline",size:"icon",children:[A.jsx(_7,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),A.jsx(x7,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),A.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),A.jsxs(sY,{align:"end",children:[A.jsx(HM,{onClick:()=>n("light"),children:"Light"}),A.jsx(HM,{onClick:()=>n("dark"),children:"Dark"}),A.jsx(HM,{onClick:()=>n("system"),children:"System"})]})]})}function oY(){const[n,e]=O.useState(!1),[t,i]=O.useState(null),[a,r]=O.useState({fullName:"",email:""}),o=uf(),c=g=>i(t===g?null:g),f=[{name:"Trials",path:"/trials"},{name:"Publications",path:"/publications"},{name:"Experts",path:"/experts"},{name:"Forum",path:"/forum"}],d={Trials:A.jsx(WU,{className:"w-4 h-4"}),Publications:A.jsx(MR,{className:"w-4 h-4"}),Experts:A.jsx(V9,{className:"w-4 h-4"}),Forum:A.jsx(Rw,{className:"w-4 h-4"})};O.useEffect(()=>{(async()=>{try{const b=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();r(b.user||{fullName:"",email:""})}catch(y){console.error("User fetch error:",y)}})()},[]);const m=async()=>{try{const g=await fetch("/user/logout",{method:"POST",credentials:"include"}),y=await g.json();g.ok&&(r({fullName:"",email:""}),o("/"))}catch(g){console.log("Logout error:",g)}};return A.jsxs(A.Fragment,{children:[A.jsx(Zi.div,{className:"fixed top-5 right-4 z-50",whileHover:{rotate:5},children:A.jsx(XU,{children:A.jsx(x4,{})})}),A.jsx(Zi.div,{className:"fixed top-5 left-4 z-50",whileHover:{rotate:5},children:A.jsx(Sn,{variant:"outline",size:"icon",onClick:()=>e(!0),children:A.jsx(Ib,{className:"w-5 h-5"})})}),A.jsx(VL,{children:n&&A.jsxs(A.Fragment,{children:[A.jsx(Zi.div,{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>e(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),A.jsxs(Zi.aside,{className:"fixed top-0 left-0 h-full w-80 bg-gray-100 dark:bg-neutral-900 z-50 shadow-2xl p-6 flex flex-col overflow-hidden",initial:{x:-300},animate:{x:0},exit:{x:-300},children:[A.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 scroll-hide",children:[A.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 scroll-hide relative",children:[A.jsx("div",{className:"flex justify-start gap-2",children:A.jsx(Sn,{variant:"ghost",size:"icon",onClick:()=>o("/dashboard"),children:A.jsx(a7,{className:"w-5 h-5 "})})}),A.jsx("div",{className:"absolute top-1 right-1",children:A.jsx(Sn,{variant:"ghost",size:"icon",onClick:()=>e(!1),children:A.jsx(Gd,{className:"w-10 h-10"})})})]}),A.jsxs("div",{className:"mt-3 flex flex-col items-center",children:[A.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-300 dark:bg-neutral-700 flex items-center justify-center shadow",children:A.jsx(Ib,{className:"w-12 h-12 opacity-80"})}),A.jsx("p",{className:"mt-3 text-xl font-bold",children:a.fullName}),A.jsx("p",{className:"text-sm opacity-70",children:a.email})]}),A.jsx("div",{className:"mt-6 mb-2 h-px w-full bg-neutral-300 dark:bg-neutral-700"}),A.jsx("h2",{className:"text-lg font-bold opacity-70 mb-3",children:"Profile"}),A.jsx(jM,{title:"Profile Info",icon:A.jsx(Ib,{className:"w-5 h-5"}),isOpen:t==="profileInfo",onClick:()=>c("profileInfo"),items:[{name:"Edit Profile",path:"/edit-user",icon:A.jsx(ER,{className:"w-4 h-4"})},{name:"Show Connection Requests",path:"/connectionRequests",icon:A.jsx(M7,{className:"w-4 h-4"})},{name:"Show Meetings",path:"/meetingRequests",icon:A.jsx(YU,{className:"w-4 h-4"})}],navigate:o,close:()=>e(!1)}),A.jsx(jM,{title:"Favorites",icon:A.jsx(n7,{className:"w-5 h-5"}),isOpen:t==="favorites",onClick:()=>c("favorites"),items:[{name:"Favourite Publications",path:"/favoritePublication",icon:A.jsx(MR,{className:"w-4 h-4"})},{name:"Favourite Experts",path:"/followedExperts",icon:A.jsx(Rw,{className:"w-4 h-4"})}],navigate:o,close:()=>e(!1)}),A.jsx(jM,{title:"Followed",icon:A.jsx(Nw,{className:"w-5 h-5"}),isOpen:t==="followed",onClick:()=>c("followed"),items:[{name:"Followed Experts",path:"/followedExperts",icon:A.jsx(Nw,{className:"w-4 h-4"})},{name:"Interested Trials",path:"/interestedtrials",icon:A.jsx(G9,{className:"w-4 h-4"})}],navigate:o,close:()=>e(!1)}),A.jsx("div",{className:"mt-6 mb-2 h-px w-full bg-neutral-300 dark:bg-neutral-700"}),A.jsx("h2",{className:"mb-3 text-lg font-bold opacity-70",children:"Explore"}),A.jsx("div",{className:"flex flex-col space-y-2",children:f.map(g=>A.jsxs(Sn,{variant:"ghost",className:"w-full justify-start text-base flex items-center gap-2",onClick:()=>{o(g.path),e(!1)},children:[d[g.name]," ",g.name]},g.name))})]}),A.jsxs("div",{className:"mt-auto flex items-center justify-between pt-6",children:[A.jsx(Sn,{variant:"ghost",size:"icon",onClick:()=>o("/edit-user"),children:A.jsx(ER,{className:"w-6 h-6 opacity-80"})}),A.jsx(Sn,{variant:"ghost",size:"icon",onClick:m,children:A.jsx(l7,{className:"w-6 h-6 text-red-600"})})]})]})]})}),A.jsx("style",{children:`
        .scroll-hide::-webkit-scrollbar { display: none; }
        .scroll-hide { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})}function jM({title:n,icon:e,isOpen:t,onClick:i,items:a,navigate:r,close:o}){return A.jsxs("div",{className:"mb-2",children:[A.jsxs("button",{onClick:i,className:"w-full flex justify-between items-center text-left font-medium text-base py-2",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[e," ",n]}),t?A.jsx(Z9,{className:"w-5 h-5"}):A.jsx(Y9,{className:"w-5 h-5"})]}),A.jsx(VL,{children:t&&A.jsx(Zi.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"ml-8 mt-2 space-y-2",children:a.map(c=>A.jsxs(Sn,{variant:"ghost",className:"justify-start flex items-center gap-2 text-base",onClick:()=>{r(c.path),o()},children:[c.icon," ",c.name]},c.name))})})]})}function _i({className:n,type:e,...t}){return A.jsx("input",{type:e,"data-slot":"input",className:fo("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var lY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cY=lY.reduce((n,e)=>{const t=s2(`Primitive.${e}`),i=O.forwardRef((a,r)=>{const{asChild:o,...c}=a,f=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(f,{...c,ref:r})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),uY="Label",y4=O.forwardRef((n,e)=>A.jsx(cY.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));y4.displayName=uY;var fY=y4;function Mi({className:n,...e}){return A.jsx(fY,{"data-slot":"label",className:fo("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function dY({open:n,onClose:e}){const t=uf(),[i,a]=O.useState({email:"",password:"",rememberMe:!1}),[r,o]=O.useState(!1),[c,f]=O.useState(""),d=async()=>{if(f(""),!i.email.includes("@")){f("Not real email");return}if(i.password.length<6){f("Password too weak");return}try{o(!0);const m=await fetch("/user/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.email,password:i.password})}),g=await m.json();if(o(!1),!m.ok){f(g.message||"Login failed.");return}t("/dashboard")}catch(m){console.log(m),o(!1),f("Server cooked bro. Try again.")}};return n?A.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:A.jsxs(Zi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"relative bg-white dark:bg-neutral-900 p-7 rounded-2xl shadow-2xl w-[90%] max-w-sm border border-neutral-200 dark:border-neutral-700",children:[A.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-white text-2xl leading-none",children:""}),A.jsx("h2",{className:"text-3xl font-semibold mb-5 text-center bg-gradient-to-r leading-relaxed from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Login"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsxs("div",{className:"flex flex-col gap-1",children:[A.jsx(Mi,{className:"pl-1 pb-1",children:"Email"}),A.jsx(_i,{type:"email",placeholder:"you@example.com",value:i.email,onChange:m=>a({...i,email:m.target.value}),className:"rounded-xl px-4 py-3 border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-600 shadow-md hover:shadow-lg transition-all"})]}),A.jsxs("div",{className:"flex flex-col gap-1",children:[A.jsx(Mi,{className:"pl-1 pb-1",children:"Password"}),A.jsx(_i,{type:"password",placeholder:"Your password",value:i.password,onChange:m=>a({...i,password:m.target.value}),className:"rounded-xl px-4 py-3 border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-600 shadow-md hover:shadow-lg transition-all"})]}),A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsx("input",{type:"checkbox",checked:i.rememberMe,onChange:m=>a({...i,rememberMe:m.target.checked}),className:"w-4 h-4 accent-indigo-600"}),A.jsx(Mi,{className:"cursor-pointer",children:"Remember me"})]})]}),c&&A.jsx("p",{className:"text-red-500 text-sm mt-2 font-medium",children:c}),A.jsx(Sn,{onClick:d,disabled:r,className:"w-full mt-5 py-3 shadow-md hover:shadow-lg rounded-xl flex justify-center bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-70 transition",children:r?A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),A.jsx("span",{children:"Logging in"})]}):"Login"})]})}):null}function hY(){const[n,e]=O.useState(!1);return A.jsxs(A.Fragment,{children:[A.jsx(Zi.div,{className:"fixed top-5 right-4 z-50",whileHover:{rotate:5},transition:{type:"spring",stiffness:200},children:A.jsx(XU,{children:A.jsx(x4,{})})}),A.jsx(Zi.div,{className:"fixed top-5 left-4 z-50",whileHover:{rotate:5},transition:{type:"spring",stiffness:200},children:A.jsx(Sn,{variant:"outline",onClick:()=>e(!0),className:"",size:"icon",children:A.jsx(s7,{className:"w-5 h-5"})})}),A.jsx(dY,{open:n,onClose:e})]})}function pY(){const e=cf().pathname==="/";return A.jsxs("div",{className:"min-h-screen bg-background text-foreground relative",children:[e?A.jsx(hY,{}):A.jsx(oY,{}),A.jsx("main",{className:"pt-0",children:A.jsx(v6,{})})]})}var GM={exports:{}},Tc={};var ZR;function mY(){return ZR||(ZR=1,Tc.ConcurrentRoot=1,Tc.ContinuousEventPriority=8,Tc.DefaultEventPriority=32,Tc.DiscreteEventPriority=2,Tc.IdleEventPriority=268435456,Tc.LegacyRoot=0,Tc.NoEventPriority=0),Tc}var JR;function gY(){return JR||(JR=1,GM.exports=mY()),GM.exports}var Hb=gY();const Ix="181",xY={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},yY={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},v4=0,Iw=1,b4=2,vY=3,_4=0,OS=1,Fg=2,ko=3,Gc=0,jr=1,Ol=2,kl=0,Fd=1,Fw=2,Vw=3,kw=4,S4=5,qu=100,M4=101,E4=102,w4=103,T4=104,A4=200,C4=201,R4=202,N4=203,h_=204,p_=205,D4=206,O4=207,L4=208,U4=209,P4=210,z4=211,B4=212,I4=213,F4=214,m_=0,g_=1,x_=2,qd=3,y_=4,v_=5,b_=6,__=7,Fx=0,V4=1,k4=2,Hl=0,H4=1,j4=2,G4=3,C2=4,X4=5,q4=6,W4=7,Hw="attached",Y4="detached",LS=300,Xc=301,af=302,lx=303,cx=304,Am=306,ux=1e3,ss=1001,fx=1002,Za=1003,R2=1004,bY=1004,qp=1005,_Y=1005,la=1006,Vg=1007,SY=1007,Ul=1008,MY=1008,co=1009,N2=1010,D2=1011,rm=1012,US=1013,qc=1014,os=1015,nh=1016,PS=1017,zS=1018,sm=1020,O2=35902,L2=35899,U2=1021,P2=1022,yr=1023,om=1026,lm=1027,BS=1028,Vx=1029,IS=1030,FS=1031,EY=1032,VS=1033,kg=33776,Hg=33777,jg=33778,Gg=33779,S_=35840,M_=35841,E_=35842,w_=35843,T_=36196,A_=37492,C_=37496,R_=37808,N_=37809,D_=37810,O_=37811,L_=37812,U_=37813,P_=37814,z_=37815,B_=37816,I_=37817,F_=37818,V_=37819,k_=37820,H_=37821,j_=36492,G_=36494,X_=36495,q_=36283,W_=36284,Y_=36285,K_=36286,K4=2200,Z4=2201,J4=2202,dx=2300,Z_=2301,jb=2302,Ld=2400,Ud=2401,hx=2402,kS=2500,z2=2501,wY=0,TY=1,AY=2,Q4=3200,$4=3201,CY=3202,RY=3203,pf=0,ez=1,zc="",mr="srgb",rf="srgb-linear",px="linear",fi="srgb",NY=0,Cd=7680,DY=7681,OY=7682,LY=7683,UY=34055,PY=34056,zY=5386,BY=512,IY=513,FY=514,VY=515,kY=516,HY=517,jY=518,jw=519,tz=512,nz=513,iz=514,B2=515,az=516,rz=517,sz=518,oz=519,mx=35044,Vd=35048,GY=35040,XY=35045,qY=35049,WY=35041,YY=35046,KY=35050,ZY=35042,JY="100",Gw="300 es",Cs=2e3,cm=2001,QY={COMPUTE:"compute",RENDER:"render"},$Y={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},eK={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function lz(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const tK={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wp(n,e){return new tK[n](e)}function gx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function cz(){const n=gx("canvas");return n.style.display="block",n}const QR={};let sf=null;function nK(n){sf=n}function iK(){return sf}function xx(...n){const e="THREE."+n.shift();sf?sf("log",e,...n):console.log(e,...n)}function vt(...n){const e="THREE."+n.shift();sf?sf("warn",e,...n):console.warn(e,...n)}function ln(...n){const e="THREE."+n.shift();sf?sf("error",e,...n):console.error(e,...n)}function um(...n){const e=n.join(" ");e in QR||(QR[e]=!0,vt(...n))}function aK(n,e,t){return new Promise(function(i,a){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}class Kl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,o=a.length;r<o;r++)a[r].call(this,e);e.target=null}}}const fr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $R=1234567;const kd=Math.PI/180,fm=180/Math.PI;function Ns(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(fr[n&255]+fr[n>>8&255]+fr[n>>16&255]+fr[n>>24&255]+"-"+fr[e&255]+fr[e>>8&255]+"-"+fr[e>>16&15|64]+fr[e>>24&255]+"-"+fr[t&63|128]+fr[t>>8&255]+"-"+fr[t>>16&255]+fr[t>>24&255]+fr[i&255]+fr[i>>8&255]+fr[i>>16&255]+fr[i>>24&255]).toLowerCase()}function an(n,e,t){return Math.max(e,Math.min(t,n))}function I2(n,e){return(n%e+e)%e}function rK(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function sK(n,e,t){return n!==e?(t-n)/(e-n):0}function Xg(n,e,t){return(1-t)*n+t*e}function oK(n,e,t,i){return Xg(n,e,1-Math.exp(-t*i))}function lK(n,e=1){return e-Math.abs(I2(n,e*2)-e)}function cK(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function uK(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function fK(n,e){return n+Math.floor(Math.random()*(e-n+1))}function dK(n,e){return n+Math.random()*(e-n)}function hK(n){return n*(.5-Math.random())}function pK(n){n!==void 0&&($R=n);let e=$R+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mK(n){return n*kd}function gK(n){return n*fm}function xK(n){return(n&n-1)===0&&n!==0}function yK(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vK(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function bK(n,e,t,i,a){const r=Math.cos,o=Math.sin,c=r(t/2),f=o(t/2),d=r((e+i)/2),m=o((e+i)/2),g=r((e-i)/2),y=o((e-i)/2),b=r((i-e)/2),_=o((i-e)/2);switch(a){case"XYX":n.set(c*m,f*g,f*y,c*d);break;case"YZY":n.set(f*y,c*m,f*g,c*d);break;case"ZXZ":n.set(f*g,f*y,c*m,c*d);break;case"XZX":n.set(c*m,f*_,f*b,c*d);break;case"YXY":n.set(f*b,c*m,f*_,c*d);break;case"ZYZ":n.set(f*_,f*b,c*m,c*d);break;default:vt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function kr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function gn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const _K={DEG2RAD:kd,RAD2DEG:fm,generateUUID:Ns,clamp:an,euclideanModulo:I2,mapLinear:rK,inverseLerp:sK,lerp:Xg,damp:oK,pingpong:lK,smoothstep:cK,smootherstep:uK,randInt:fK,randFloat:dK,randFloatSpread:hK,seededRandom:pK,degToRad:mK,radToDeg:gK,isPowerOfTwo:xK,ceilPowerOfTwo:yK,floorPowerOfTwo:vK,setQuaternionFromProperEuler:bK,normalize:gn,denormalize:kr};class Xe{constructor(e=0,t=0){Xe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(an(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(an(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*a+e.x,this.y=r*a+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ls{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,r,o,c){let f=i[a+0],d=i[a+1],m=i[a+2],g=i[a+3],y=r[o+0],b=r[o+1],_=r[o+2],T=r[o+3];if(c<=0){e[t+0]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(c>=1){e[t+0]=y,e[t+1]=b,e[t+2]=_,e[t+3]=T;return}if(g!==T||f!==y||d!==b||m!==_){let E=f*y+d*b+m*_+g*T;E<0&&(y=-y,b=-b,_=-_,T=-T,E=-E);let S=1-c;if(E<.9995){const R=Math.acos(E),D=Math.sin(R);S=Math.sin(S*R)/D,c=Math.sin(c*R)/D,f=f*S+y*c,d=d*S+b*c,m=m*S+_*c,g=g*S+T*c}else{f=f*S+y*c,d=d*S+b*c,m=m*S+_*c,g=g*S+T*c;const R=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=R,d*=R,m*=R,g*=R}}e[t]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,a,r,o){const c=i[a],f=i[a+1],d=i[a+2],m=i[a+3],g=r[o],y=r[o+1],b=r[o+2],_=r[o+3];return e[t]=c*_+m*g+f*b-d*y,e[t+1]=f*_+m*y+d*g-c*b,e[t+2]=d*_+m*b+c*y-f*g,e[t+3]=m*_-c*g-f*y-d*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,r=e._z,o=e._order,c=Math.cos,f=Math.sin,d=c(i/2),m=c(a/2),g=c(r/2),y=f(i/2),b=f(a/2),_=f(r/2);switch(o){case"XYZ":this._x=y*m*g+d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g-y*b*_;break;case"YXZ":this._x=y*m*g+d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g+y*b*_;break;case"ZXY":this._x=y*m*g-d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g-y*b*_;break;case"ZYX":this._x=y*m*g-d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g+y*b*_;break;case"YZX":this._x=y*m*g+d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g-y*b*_;break;case"XZY":this._x=y*m*g-d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g+y*b*_;break;default:vt("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],r=t[8],o=t[1],c=t[5],f=t[9],d=t[2],m=t[6],g=t[10],y=i+c+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-f)*b,this._y=(r-d)*b,this._z=(o-a)*b}else if(i>c&&i>g){const b=2*Math.sqrt(1+i-c-g);this._w=(m-f)/b,this._x=.25*b,this._y=(a+o)/b,this._z=(r+d)/b}else if(c>g){const b=2*Math.sqrt(1+c-i-g);this._w=(r-d)/b,this._x=(a+o)/b,this._y=.25*b,this._z=(f+m)/b}else{const b=2*Math.sqrt(1+g-i-c);this._w=(o-a)/b,this._x=(r+d)/b,this._y=(f+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(an(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,r=e._z,o=e._w,c=t._x,f=t._y,d=t._z,m=t._w;return this._x=i*m+o*c+a*d-r*f,this._y=a*m+o*f+r*c-i*d,this._z=r*m+o*d+i*f-a*c,this._w=o*m-i*c-a*f-r*d,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,a=e._y,r=e._z,o=e._w,c=this.dot(e);c<0&&(i=-i,a=-a,r=-r,o=-o,c=-c);let f=1-t;if(c<.9995){const d=Math.acos(c),m=Math.sin(d);f=Math.sin(f*d)/m,t=Math.sin(t*d)/m,this._x=this._x*f+i*t,this._y=this._y*f+a*t,this._z=this._z*f+r*t,this._w=this._w*f+o*t,this._onChangeCallback()}else this._x=this._x*f+i*t,this._y=this._y*f+a*t,this._z=this._z*f+r*t,this._w=this._w*f+o*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,i=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(eN.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(eN.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*a,this.y=r[1]*t+r[4]*i+r[7]*a,this.z=r[2]*t+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*a+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*a+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*a+r[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,r=e.x,o=e.y,c=e.z,f=e.w,d=2*(o*a-c*i),m=2*(c*t-r*a),g=2*(r*i-o*t);return this.x=t+f*d+o*g-c*m,this.y=i+f*m+c*d-r*g,this.z=a+f*g+r*m-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*a,this.y=r[1]*t+r[5]*i+r[9]*a,this.z=r[2]*t+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this.z=an(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this.z=an(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(an(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,r=e.z,o=t.x,c=t.y,f=t.z;return this.x=a*f-r*c,this.y=r*o-i*f,this.z=i*c-a*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return XM.copy(this).projectOnVector(e),this.sub(XM)}reflect(e){return this.sub(XM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(an(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const XM=new $,eN=new ls;class pn{constructor(e,t,i,a,r,o,c,f,d){pn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,o,c,f,d)}set(e,t,i,a,r,o,c,f,d){const m=this.elements;return m[0]=e,m[1]=a,m[2]=c,m[3]=t,m[4]=r,m[5]=f,m[6]=i,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,o=i[0],c=i[3],f=i[6],d=i[1],m=i[4],g=i[7],y=i[2],b=i[5],_=i[8],T=a[0],E=a[3],S=a[6],R=a[1],D=a[4],U=a[7],F=a[2],P=a[5],L=a[8];return r[0]=o*T+c*R+f*F,r[3]=o*E+c*D+f*P,r[6]=o*S+c*U+f*L,r[1]=d*T+m*R+g*F,r[4]=d*E+m*D+g*P,r[7]=d*S+m*U+g*L,r[2]=y*T+b*R+_*F,r[5]=y*E+b*D+_*P,r[8]=y*S+b*U+_*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],o=e[4],c=e[5],f=e[6],d=e[7],m=e[8];return t*o*m-t*c*d-i*r*m+i*c*f+a*r*d-a*o*f}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],o=e[4],c=e[5],f=e[6],d=e[7],m=e[8],g=m*o-c*d,y=c*f-m*r,b=d*r-o*f,_=t*g+i*y+a*b;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/_;return e[0]=g*T,e[1]=(a*d-m*i)*T,e[2]=(c*i-a*o)*T,e[3]=y*T,e[4]=(m*t-a*f)*T,e[5]=(a*r-c*t)*T,e[6]=b*T,e[7]=(i*f-d*t)*T,e[8]=(o*t-i*r)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,r,o,c){const f=Math.cos(r),d=Math.sin(r);return this.set(i*f,i*d,-i*(f*o+d*c)+o+e,-a*d,a*f,-a*(-d*o+f*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(qM.makeScale(e,t)),this}rotate(e){return this.premultiply(qM.makeRotation(-e)),this}translate(e,t){return this.premultiply(qM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qM=new pn,tN=new pn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),nN=new pn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function SK(){const n={enabled:!0,workingColorSpace:rf,spaces:{},convert:function(a,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===fi&&(a.r=Ic(a.r),a.g=Ic(a.g),a.b=Ic(a.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===fi&&(a.r=tm(a.r),a.g=tm(a.g),a.b=tm(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===zc?px:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,o){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return um("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return um("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[rf]:{primaries:e,whitePoint:i,transfer:px,toXYZ:tN,fromXYZ:nN,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:mr},outputColorSpaceConfig:{drawingBufferColorSpace:mr}},[mr]:{primaries:e,whitePoint:i,transfer:fi,toXYZ:tN,fromXYZ:nN,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:mr}}}),n}const Xn=SK();function Ic(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function tm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let mp;class uz{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{mp===void 0&&(mp=gx("canvas")),mp.width=e.width,mp.height=e.height;const a=mp.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=mp}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=gx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let o=0;o<r.length;o++)r[o]=Ic(r[o]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ic(t[i]/255)*255):t[i]=Ic(t[i]);return{data:t,width:e.width,height:e.height}}else return vt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MK=0;class Zu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MK++}),this.uuid=Ns(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let o=0,c=a.length;o<c;o++)a[o].isDataTexture?r.push(WM(a[o].image)):r.push(WM(a[o]))}else r=WM(a);i.url=r}return t||(e.images[this.uuid]=i),i}}function WM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?uz.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(vt("Texture: Unable to serialize Texture."),{})}let EK=0;const YM=new $;class Ji extends Kl{constructor(e=Ji.DEFAULT_IMAGE,t=Ji.DEFAULT_MAPPING,i=ss,a=ss,r=la,o=Ul,c=yr,f=co,d=Ji.DEFAULT_ANISOTROPY,m=zc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:EK++}),this.uuid=Ns(),this.name="",this.source=new Zu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=o,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=f,this.offset=new Xe(0,0),this.repeat=new Xe(1,1),this.center=new Xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(YM).x}get height(){return this.source.getSize(YM).y}get depth(){return this.source.getSize(YM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){vt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){vt(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ux:e.x=e.x-Math.floor(e.x);break;case ss:e.x=e.x<0?0:1;break;case fx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ux:e.y=e.y-Math.floor(e.y);break;case ss:e.y=e.y<0?0:1;break;case fx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ji.DEFAULT_IMAGE=null;Ji.DEFAULT_MAPPING=LS;Ji.DEFAULT_ANISOTROPY=1;class Yn{constructor(e=0,t=0,i=0,a=1){Yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*a+o[12]*r,this.y=o[1]*t+o[5]*i+o[9]*a+o[13]*r,this.z=o[2]*t+o[6]*i+o[10]*a+o[14]*r,this.w=o[3]*t+o[7]*i+o[11]*a+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,r;const f=e.elements,d=f[0],m=f[4],g=f[8],y=f[1],b=f[5],_=f[9],T=f[2],E=f[6],S=f[10];if(Math.abs(m-y)<.01&&Math.abs(g-T)<.01&&Math.abs(_-E)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+T)<.1&&Math.abs(_+E)<.1&&Math.abs(d+b+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(d+1)/2,U=(b+1)/2,F=(S+1)/2,P=(m+y)/4,L=(g+T)/4,B=(_+E)/4;return D>U&&D>F?D<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(D),a=P/i,r=L/i):U>F?U<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(U),i=P/a,r=B/a):F<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(F),i=L/r,a=B/r),this.set(i,a,r,t),this}let R=Math.sqrt((E-_)*(E-_)+(g-T)*(g-T)+(y-m)*(y-m));return Math.abs(R)<.001&&(R=1),this.x=(E-_)/R,this.y=(g-T)/R,this.z=(y-m)/R,this.w=Math.acos((d+b+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this.z=an(this.z,e.z,t.z),this.w=an(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this.z=an(this.z,e,t),this.w=an(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(an(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class F2 extends Kl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:la,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Yn(0,0,e,t),this.scissorTest=!1,this.viewport=new Yn(0,0,e,t);const a={width:e,height:t,depth:i.depth},r=new Ji(a);this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=r.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:la,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Zu(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Xl extends F2{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class HS extends Ji{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Za,this.minFilter=Za,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wK extends Xl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new HS(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class jS extends Ji{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Za,this.minFilter=Za,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TK extends Xl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new jS(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class vr{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Bo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Bo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Bo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=r.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,Bo):Bo.fromBufferAttribute(r,o),Bo.applyMatrix4(e.matrixWorld),this.expandByPoint(Bo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Pv.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Pv.copy(i.boundingBox)),Pv.applyMatrix4(e.matrixWorld),this.union(Pv)}const a=e.children;for(let r=0,o=a.length;r<o;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Bo),Bo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(dg),zv.subVectors(this.max,dg),gp.subVectors(e.a,dg),xp.subVectors(e.b,dg),yp.subVectors(e.c,dg),Uu.subVectors(xp,gp),Pu.subVectors(yp,xp),dd.subVectors(gp,yp);let t=[0,-Uu.z,Uu.y,0,-Pu.z,Pu.y,0,-dd.z,dd.y,Uu.z,0,-Uu.x,Pu.z,0,-Pu.x,dd.z,0,-dd.x,-Uu.y,Uu.x,0,-Pu.y,Pu.x,0,-dd.y,dd.x,0];return!KM(t,gp,xp,yp,zv)||(t=[1,0,0,0,1,0,0,0,1],!KM(t,gp,xp,yp,zv))?!1:(Bv.crossVectors(Uu,Pu),t=[Bv.x,Bv.y,Bv.z],KM(t,gp,xp,yp,zv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ac[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ac[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ac[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ac[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ac[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ac[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ac[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ac[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ac),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ac=[new $,new $,new $,new $,new $,new $,new $,new $],Bo=new $,Pv=new vr,gp=new $,xp=new $,yp=new $,Uu=new $,Pu=new $,dd=new $,dg=new $,zv=new $,Bv=new $,hd=new $;function KM(n,e,t,i,a){for(let r=0,o=n.length-3;r<=o;r+=3){hd.fromArray(n,r);const c=a.x*Math.abs(hd.x)+a.y*Math.abs(hd.y)+a.z*Math.abs(hd.z),f=e.dot(hd),d=t.dot(hd),m=i.dot(hd);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>c)return!1}return!0}const AK=new vr,hg=new $,ZM=new $;class Ja{constructor(e=new $,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):AK.setFromPoints(e).getCenter(i);let a=0;for(let r=0,o=e.length;r<o;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hg.subVectors(e,this.center);const t=hg.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(hg,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(ZM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hg.copy(e.center).add(ZM)),this.expandByPoint(hg.copy(e.center).sub(ZM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Cc=new $,JM=new $,Iv=new $,zu=new $,QM=new $,Fv=new $,$M=new $;class Cm{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Cc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Cc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Cc.copy(this.origin).addScaledVector(this.direction,t),Cc.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){JM.copy(e).add(t).multiplyScalar(.5),Iv.copy(t).sub(e).normalize(),zu.copy(this.origin).sub(JM);const r=e.distanceTo(t)*.5,o=-this.direction.dot(Iv),c=zu.dot(this.direction),f=-zu.dot(Iv),d=zu.lengthSq(),m=Math.abs(1-o*o);let g,y,b,_;if(m>0)if(g=o*f-c,y=o*c-f,_=r*m,g>=0)if(y>=-_)if(y<=_){const T=1/m;g*=T,y*=T,b=g*(g+o*y+2*c)+y*(o*g+y+2*f)+d}else y=r,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*f)+d;else y=-r,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*f)+d;else y<=-_?(g=Math.max(0,-(-o*r+c)),y=g>0?-r:Math.min(Math.max(-r,-f),r),b=-g*g+y*(y+2*f)+d):y<=_?(g=0,y=Math.min(Math.max(-r,-f),r),b=y*(y+2*f)+d):(g=Math.max(0,-(o*r+c)),y=g>0?r:Math.min(Math.max(-r,-f),r),b=-g*g+y*(y+2*f)+d);else y=o>0?-r:r,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*f)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,g),a&&a.copy(JM).addScaledVector(Iv,y),b}intersectSphere(e,t){Cc.subVectors(e.center,this.origin);const i=Cc.dot(this.direction),a=Cc.dot(Cc)-i*i,r=e.radius*e.radius;if(a>r)return null;const o=Math.sqrt(r-a),c=i-o,f=i+o;return f<0?null:c<0?this.at(f,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,r,o,c,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return d>=0?(i=(e.min.x-y.x)*d,a=(e.max.x-y.x)*d):(i=(e.max.x-y.x)*d,a=(e.min.x-y.x)*d),m>=0?(r=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(r=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),i>o||r>a||((r>i||isNaN(i))&&(i=r),(o<a||isNaN(a))&&(a=o),g>=0?(c=(e.min.z-y.z)*g,f=(e.max.z-y.z)*g):(c=(e.max.z-y.z)*g,f=(e.min.z-y.z)*g),i>f||c>a)||((c>i||i!==i)&&(i=c),(f<a||a!==a)&&(a=f),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,Cc)!==null}intersectTriangle(e,t,i,a,r){QM.subVectors(t,e),Fv.subVectors(i,e),$M.crossVectors(QM,Fv);let o=this.direction.dot($M),c;if(o>0){if(a)return null;c=1}else if(o<0)c=-1,o=-o;else return null;zu.subVectors(this.origin,e);const f=c*this.direction.dot(Fv.crossVectors(zu,Fv));if(f<0)return null;const d=c*this.direction.dot(QM.cross(zu));if(d<0||f+d>o)return null;const m=-c*zu.dot($M);return m<0?null:this.at(m/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class rn{constructor(e,t,i,a,r,o,c,f,d,m,g,y,b,_,T,E){rn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,o,c,f,d,m,g,y,b,_,T,E)}set(e,t,i,a,r,o,c,f,d,m,g,y,b,_,T,E){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=a,S[1]=r,S[5]=o,S[9]=c,S[13]=f,S[2]=d,S[6]=m,S[10]=g,S[14]=y,S[3]=b,S[7]=_,S[11]=T,S[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new rn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,a=1/vp.setFromMatrixColumn(e,0).length(),r=1/vp.setFromMatrixColumn(e,1).length(),o=1/vp.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,r=e.z,o=Math.cos(i),c=Math.sin(i),f=Math.cos(a),d=Math.sin(a),m=Math.cos(r),g=Math.sin(r);if(e.order==="XYZ"){const y=o*m,b=o*g,_=c*m,T=c*g;t[0]=f*m,t[4]=-f*g,t[8]=d,t[1]=b+_*d,t[5]=y-T*d,t[9]=-c*f,t[2]=T-y*d,t[6]=_+b*d,t[10]=o*f}else if(e.order==="YXZ"){const y=f*m,b=f*g,_=d*m,T=d*g;t[0]=y+T*c,t[4]=_*c-b,t[8]=o*d,t[1]=o*g,t[5]=o*m,t[9]=-c,t[2]=b*c-_,t[6]=T+y*c,t[10]=o*f}else if(e.order==="ZXY"){const y=f*m,b=f*g,_=d*m,T=d*g;t[0]=y-T*c,t[4]=-o*g,t[8]=_+b*c,t[1]=b+_*c,t[5]=o*m,t[9]=T-y*c,t[2]=-o*d,t[6]=c,t[10]=o*f}else if(e.order==="ZYX"){const y=o*m,b=o*g,_=c*m,T=c*g;t[0]=f*m,t[4]=_*d-b,t[8]=y*d+T,t[1]=f*g,t[5]=T*d+y,t[9]=b*d-_,t[2]=-d,t[6]=c*f,t[10]=o*f}else if(e.order==="YZX"){const y=o*f,b=o*d,_=c*f,T=c*d;t[0]=f*m,t[4]=T-y*g,t[8]=_*g+b,t[1]=g,t[5]=o*m,t[9]=-c*m,t[2]=-d*m,t[6]=b*g+_,t[10]=y-T*g}else if(e.order==="XZY"){const y=o*f,b=o*d,_=c*f,T=c*d;t[0]=f*m,t[4]=-g,t[8]=d*m,t[1]=y*g+T,t[5]=o*m,t[9]=b*g-_,t[2]=_*g-b,t[6]=c*m,t[10]=T*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CK,e,RK)}lookAt(e,t,i){const a=this.elements;return Es.subVectors(e,t),Es.lengthSq()===0&&(Es.z=1),Es.normalize(),Bu.crossVectors(i,Es),Bu.lengthSq()===0&&(Math.abs(i.z)===1?Es.x+=1e-4:Es.z+=1e-4,Es.normalize(),Bu.crossVectors(i,Es)),Bu.normalize(),Vv.crossVectors(Es,Bu),a[0]=Bu.x,a[4]=Vv.x,a[8]=Es.x,a[1]=Bu.y,a[5]=Vv.y,a[9]=Es.y,a[2]=Bu.z,a[6]=Vv.z,a[10]=Es.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,o=i[0],c=i[4],f=i[8],d=i[12],m=i[1],g=i[5],y=i[9],b=i[13],_=i[2],T=i[6],E=i[10],S=i[14],R=i[3],D=i[7],U=i[11],F=i[15],P=a[0],L=a[4],B=a[8],I=a[12],V=a[1],W=a[5],te=a[9],ne=a[13],ie=a[2],oe=a[6],H=a[10],q=a[14],G=a[3],ee=a[7],ue=a[11],K=a[15];return r[0]=o*P+c*V+f*ie+d*G,r[4]=o*L+c*W+f*oe+d*ee,r[8]=o*B+c*te+f*H+d*ue,r[12]=o*I+c*ne+f*q+d*K,r[1]=m*P+g*V+y*ie+b*G,r[5]=m*L+g*W+y*oe+b*ee,r[9]=m*B+g*te+y*H+b*ue,r[13]=m*I+g*ne+y*q+b*K,r[2]=_*P+T*V+E*ie+S*G,r[6]=_*L+T*W+E*oe+S*ee,r[10]=_*B+T*te+E*H+S*ue,r[14]=_*I+T*ne+E*q+S*K,r[3]=R*P+D*V+U*ie+F*G,r[7]=R*L+D*W+U*oe+F*ee,r[11]=R*B+D*te+U*H+F*ue,r[15]=R*I+D*ne+U*q+F*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],o=e[1],c=e[5],f=e[9],d=e[13],m=e[2],g=e[6],y=e[10],b=e[14],_=e[3],T=e[7],E=e[11],S=e[15];return _*(+r*f*g-a*d*g-r*c*y+i*d*y+a*c*b-i*f*b)+T*(+t*f*b-t*d*y+r*o*y-a*o*b+a*d*m-r*f*m)+E*(+t*d*g-t*c*b-r*o*g+i*o*b+r*c*m-i*d*m)+S*(-a*c*m-t*f*g+t*c*y+a*o*g-i*o*y+i*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],o=e[4],c=e[5],f=e[6],d=e[7],m=e[8],g=e[9],y=e[10],b=e[11],_=e[12],T=e[13],E=e[14],S=e[15],R=g*E*d-T*y*d+T*f*b-c*E*b-g*f*S+c*y*S,D=_*y*d-m*E*d-_*f*b+o*E*b+m*f*S-o*y*S,U=m*T*d-_*g*d+_*c*b-o*T*b-m*c*S+o*g*S,F=_*g*f-m*T*f-_*c*y+o*T*y+m*c*E-o*g*E,P=t*R+i*D+a*U+r*F;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=R*L,e[1]=(T*y*r-g*E*r-T*a*b+i*E*b+g*a*S-i*y*S)*L,e[2]=(c*E*r-T*f*r+T*a*d-i*E*d-c*a*S+i*f*S)*L,e[3]=(g*f*r-c*y*r-g*a*d+i*y*d+c*a*b-i*f*b)*L,e[4]=D*L,e[5]=(m*E*r-_*y*r+_*a*b-t*E*b-m*a*S+t*y*S)*L,e[6]=(_*f*r-o*E*r-_*a*d+t*E*d+o*a*S-t*f*S)*L,e[7]=(o*y*r-m*f*r+m*a*d-t*y*d-o*a*b+t*f*b)*L,e[8]=U*L,e[9]=(_*g*r-m*T*r-_*i*b+t*T*b+m*i*S-t*g*S)*L,e[10]=(o*T*r-_*c*r+_*i*d-t*T*d-o*i*S+t*c*S)*L,e[11]=(m*c*r-o*g*r-m*i*d+t*g*d+o*i*b-t*c*b)*L,e[12]=F*L,e[13]=(m*T*a-_*g*a+_*i*y-t*T*y-m*i*E+t*g*E)*L,e[14]=(_*c*a-o*T*a-_*i*f+t*T*f+o*i*E-t*c*E)*L,e[15]=(o*g*a-m*c*a+m*i*f-t*g*f-o*i*y+t*c*y)*L,this}scale(e){const t=this.elements,i=e.x,a=e.y,r=e.z;return t[0]*=i,t[4]*=a,t[8]*=r,t[1]*=i,t[5]*=a,t[9]*=r,t[2]*=i,t[6]*=a,t[10]*=r,t[3]*=i,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),r=1-i,o=e.x,c=e.y,f=e.z,d=r*o,m=r*c;return this.set(d*o+i,d*c-a*f,d*f+a*c,0,d*c+a*f,m*c+i,m*f-a*o,0,d*f-a*c,m*f+a*o,r*f*f+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,r,o){return this.set(1,i,r,0,e,1,o,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,r=t._x,o=t._y,c=t._z,f=t._w,d=r+r,m=o+o,g=c+c,y=r*d,b=r*m,_=r*g,T=o*m,E=o*g,S=c*g,R=f*d,D=f*m,U=f*g,F=i.x,P=i.y,L=i.z;return a[0]=(1-(T+S))*F,a[1]=(b+U)*F,a[2]=(_-D)*F,a[3]=0,a[4]=(b-U)*P,a[5]=(1-(y+S))*P,a[6]=(E+R)*P,a[7]=0,a[8]=(_+D)*L,a[9]=(E-R)*L,a[10]=(1-(y+T))*L,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;let r=vp.set(a[0],a[1],a[2]).length();const o=vp.set(a[4],a[5],a[6]).length(),c=vp.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],Io.copy(this);const d=1/r,m=1/o,g=1/c;return Io.elements[0]*=d,Io.elements[1]*=d,Io.elements[2]*=d,Io.elements[4]*=m,Io.elements[5]*=m,Io.elements[6]*=m,Io.elements[8]*=g,Io.elements[9]*=g,Io.elements[10]*=g,t.setFromRotationMatrix(Io),i.x=r,i.y=o,i.z=c,this}makePerspective(e,t,i,a,r,o,c=Cs,f=!1){const d=this.elements,m=2*r/(t-e),g=2*r/(i-a),y=(t+e)/(t-e),b=(i+a)/(i-a);let _,T;if(f)_=r/(o-r),T=o*r/(o-r);else if(c===Cs)_=-(o+r)/(o-r),T=-2*o*r/(o-r);else if(c===cm)_=-o/(o-r),T=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return d[0]=m,d[4]=0,d[8]=y,d[12]=0,d[1]=0,d[5]=g,d[9]=b,d[13]=0,d[2]=0,d[6]=0,d[10]=_,d[14]=T,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,i,a,r,o,c=Cs,f=!1){const d=this.elements,m=2/(t-e),g=2/(i-a),y=-(t+e)/(t-e),b=-(i+a)/(i-a);let _,T;if(f)_=1/(o-r),T=o/(o-r);else if(c===Cs)_=-2/(o-r),T=-(o+r)/(o-r);else if(c===cm)_=-1/(o-r),T=-r/(o-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return d[0]=m,d[4]=0,d[8]=0,d[12]=y,d[1]=0,d[5]=g,d[9]=0,d[13]=b,d[2]=0,d[6]=0,d[10]=_,d[14]=T,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const vp=new $,Io=new rn,CK=new $(0,0,0),RK=new $(1,1,1),Bu=new $,Vv=new $,Es=new $,iN=new rn,aN=new ls;class Ds{constructor(e=0,t=0,i=0,a=Ds.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,r=a[0],o=a[4],c=a[8],f=a[1],d=a[5],m=a[9],g=a[2],y=a[6],b=a[10];switch(t){case"XYZ":this._y=Math.asin(an(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-an(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(an(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(f,r));break;case"ZYX":this._y=Math.asin(-an(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(f,r)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(an(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-an(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(c,r)):(this._x=Math.atan2(-m,b),this._y=0);break;default:vt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return iN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(iN,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return aN.setFromEuler(this),this.setFromQuaternion(aN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ds.DEFAULT_ORDER="XYZ";class dm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let NK=0;const rN=new $,bp=new ls,Rc=new rn,kv=new $,pg=new $,DK=new $,OK=new ls,sN=new $(1,0,0),oN=new $(0,1,0),lN=new $(0,0,1),cN={type:"added"},LK={type:"removed"},_p={type:"childadded",child:null},eE={type:"childremoved",child:null};class Kn extends Kl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:NK++}),this.uuid=Ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kn.DEFAULT_UP.clone();const e=new $,t=new Ds,i=new ls,a=new $(1,1,1);function r(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new rn},normalMatrix:{value:new pn}}),this.matrix=new rn,this.matrixWorld=new rn,this.matrixAutoUpdate=Kn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return bp.setFromAxisAngle(e,t),this.quaternion.multiply(bp),this}rotateOnWorldAxis(e,t){return bp.setFromAxisAngle(e,t),this.quaternion.premultiply(bp),this}rotateX(e){return this.rotateOnAxis(sN,e)}rotateY(e){return this.rotateOnAxis(oN,e)}rotateZ(e){return this.rotateOnAxis(lN,e)}translateOnAxis(e,t){return rN.copy(e).applyQuaternion(this.quaternion),this.position.add(rN.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(sN,e)}translateY(e){return this.translateOnAxis(oN,e)}translateZ(e){return this.translateOnAxis(lN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Rc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?kv.copy(e):kv.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),pg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rc.lookAt(pg,kv,this.up):Rc.lookAt(kv,pg,this.up),this.quaternion.setFromRotationMatrix(Rc),a&&(Rc.extractRotation(a.matrixWorld),bp.setFromRotationMatrix(Rc),this.quaternion.premultiply(bp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(ln("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(cN),_p.child=e,this.dispatchEvent(_p),_p.child=null):ln("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(LK),eE.child=e,this.dispatchEvent(eE),eE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Rc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Rc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Rc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(cN),_p.child=e,this.dispatchEvent(_p),_p.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pg,e,DK),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pg,OK,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(c=>({...c})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];r(e.shapes,g)}else r(e.shapes,f)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,d=this.material.length;f<d;f++)c.push(r(e.materials,this.material[f]));a.material=c}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let c=0;c<this.children.length;c++)a.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];a.animations.push(r(e.animations,f))}}if(t){const c=o(e.geometries),f=o(e.materials),d=o(e.textures),m=o(e.images),g=o(e.shapes),y=o(e.skeletons),b=o(e.animations),_=o(e.nodes);c.length>0&&(i.geometries=c),f.length>0&&(i.materials=f),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),_.length>0&&(i.nodes=_)}return i.object=a,i;function o(c){const f=[];for(const d in c){const m=c[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}Kn.DEFAULT_UP=new $(0,1,0);Kn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fo=new $,Nc=new $,tE=new $,Dc=new $,Sp=new $,Mp=new $,uN=new $,nE=new $,iE=new $,aE=new $,rE=new Yn,sE=new Yn,oE=new Yn;class as{constructor(e=new $,t=new $,i=new $){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),Fo.subVectors(e,t),a.cross(Fo);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,i,a,r){Fo.subVectors(a,t),Nc.subVectors(i,t),tE.subVectors(e,t);const o=Fo.dot(Fo),c=Fo.dot(Nc),f=Fo.dot(tE),d=Nc.dot(Nc),m=Nc.dot(tE),g=o*d-c*c;if(g===0)return r.set(0,0,0),null;const y=1/g,b=(d*f-c*m)*y,_=(o*m-c*f)*y;return r.set(1-b-_,_,b)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,Dc)===null?!1:Dc.x>=0&&Dc.y>=0&&Dc.x+Dc.y<=1}static getInterpolation(e,t,i,a,r,o,c,f){return this.getBarycoord(e,t,i,a,Dc)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(r,Dc.x),f.addScaledVector(o,Dc.y),f.addScaledVector(c,Dc.z),f)}static getInterpolatedAttribute(e,t,i,a,r,o){return rE.setScalar(0),sE.setScalar(0),oE.setScalar(0),rE.fromBufferAttribute(e,t),sE.fromBufferAttribute(e,i),oE.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(rE,r.x),o.addScaledVector(sE,r.y),o.addScaledVector(oE,r.z),o}static isFrontFacing(e,t,i,a){return Fo.subVectors(i,t),Nc.subVectors(e,t),Fo.cross(Nc).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fo.subVectors(this.c,this.b),Nc.subVectors(this.a,this.b),Fo.cross(Nc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return as.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return as.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,r){return as.getInterpolation(e,this.a,this.b,this.c,t,i,a,r)}containsPoint(e){return as.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return as.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,r=this.c;let o,c;Sp.subVectors(a,i),Mp.subVectors(r,i),nE.subVectors(e,i);const f=Sp.dot(nE),d=Mp.dot(nE);if(f<=0&&d<=0)return t.copy(i);iE.subVectors(e,a);const m=Sp.dot(iE),g=Mp.dot(iE);if(m>=0&&g<=m)return t.copy(a);const y=f*g-m*d;if(y<=0&&f>=0&&m<=0)return o=f/(f-m),t.copy(i).addScaledVector(Sp,o);aE.subVectors(e,r);const b=Sp.dot(aE),_=Mp.dot(aE);if(_>=0&&b<=_)return t.copy(r);const T=b*d-f*_;if(T<=0&&d>=0&&_<=0)return c=d/(d-_),t.copy(i).addScaledVector(Mp,c);const E=m*_-b*g;if(E<=0&&g-m>=0&&b-_>=0)return uN.subVectors(r,a),c=(g-m)/(g-m+(b-_)),t.copy(a).addScaledVector(uN,c);const S=1/(E+T+y);return o=T*S,c=y*S,t.copy(i).addScaledVector(Sp,o).addScaledVector(Mp,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const fz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Iu={h:0,s:0,l:0},Hv={h:0,s:0,l:0};function lE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Nt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=mr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=Xn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xn.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=Xn.workingColorSpace){if(e=I2(e,1),t=an(t,0,1),i=an(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,o=2*i-r;this.r=lE(o,r,e+1/3),this.g=lE(o,r,e),this.b=lE(o,r,e-1/3)}return Xn.colorSpaceToWorking(this,a),this}setStyle(e,t=mr){function i(r){r!==void 0&&parseFloat(r)<1&&vt("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=a[1],c=a[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:vt("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);vt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=mr){const i=fz[e.toLowerCase()];return i!==void 0?this.setHex(i,t):vt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ic(e.r),this.g=Ic(e.g),this.b=Ic(e.b),this}copyLinearToSRGB(e){return this.r=tm(e.r),this.g=tm(e.g),this.b=tm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mr){return Xn.workingToColorSpace(dr.copy(this),e),Math.round(an(dr.r*255,0,255))*65536+Math.round(an(dr.g*255,0,255))*256+Math.round(an(dr.b*255,0,255))}getHexString(e=mr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xn.workingColorSpace){Xn.workingToColorSpace(dr.copy(this),t);const i=dr.r,a=dr.g,r=dr.b,o=Math.max(i,a,r),c=Math.min(i,a,r);let f,d;const m=(c+o)/2;if(c===o)f=0,d=0;else{const g=o-c;switch(d=m<=.5?g/(o+c):g/(2-o-c),o){case i:f=(a-r)/g+(a<r?6:0);break;case a:f=(r-i)/g+2;break;case r:f=(i-a)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,t=Xn.workingColorSpace){return Xn.workingToColorSpace(dr.copy(this),t),e.r=dr.r,e.g=dr.g,e.b=dr.b,e}getStyle(e=mr){Xn.workingToColorSpace(dr.copy(this),e);const t=dr.r,i=dr.g,a=dr.b;return e!==mr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(Iu),this.setHSL(Iu.h+e,Iu.s+t,Iu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Iu),e.getHSL(Hv);const i=Xg(Iu.h,Hv.h,t),a=Xg(Iu.s,Hv.s,t),r=Xg(Iu.l,Hv.l,t);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*a,this.g=r[1]*t+r[4]*i+r[7]*a,this.b=r[2]*t+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const dr=new Nt;Nt.NAMES=fz;let UK=0;class br extends Kl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:UK++}),this.uuid=Ns(),this.name="",this.type="Material",this.blending=Fd,this.side=Gc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=h_,this.blendDst=p_,this.blendEquation=qu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Nt(0,0,0),this.blendAlpha=0,this.depthFunc=qd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=jw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cd,this.stencilZFail=Cd,this.stencilZPass=Cd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){vt(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){vt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Fd&&(i.blending=this.blending),this.side!==Gc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==h_&&(i.blendSrc=this.blendSrc),this.blendDst!==p_&&(i.blendDst=this.blendDst),this.blendEquation!==qu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==qd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==jw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Cd&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Cd&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Cd&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const o=[];for(const c in r){const f=r[c];delete f.metadata,o.push(f)}return o}if(t){const r=a(e.textures),o=a(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class mf extends br{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Bc=PK();function PK(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(i[f]=0,i[f|256]=32768,a[f]=24,a[f|256]=24):d<-14?(i[f]=1024>>-d-14,i[f|256]=1024>>-d-14|32768,a[f]=-d-1,a[f|256]=-d-1):d<=15?(i[f]=d+15<<10,i[f|256]=d+15<<10|32768,a[f]=13,a[f|256]=13):d<128?(i[f]=31744,i[f|256]=64512,a[f]=24,a[f|256]=24):(i[f]=31744,i[f|256]=64512,a[f]=13,a[f|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,r[f]=d|m}for(let f=1024;f<2048;++f)r[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:r,exponentTable:o,offsetTable:c}}function ns(n){Math.abs(n)>65504&&vt("DataUtils.toHalfFloat(): Value out of range."),n=an(n,-65504,65504),Bc.floatView[0]=n;const e=Bc.uint32View[0],t=e>>23&511;return Bc.baseTable[t]+((e&8388607)>>Bc.shiftTable[t])}function Dg(n){const e=n>>10;return Bc.uint32View[0]=Bc.mantissaTable[Bc.offsetTable[e]+(n&1023)]+Bc.exponentTable[e],Bc.floatView[0]}class zK{static toHalfFloat(e){return ns(e)}static fromHalfFloat(e){return Dg(e)}}const pa=new $,jv=new Xe;let BK=0;class gi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:BK++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=mx,this.updateRanges=[],this.gpuType=os,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)jv.fromBufferAttribute(this,t),jv.applyMatrix3(e),this.setXY(t,jv.x,jv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)pa.fromBufferAttribute(this,t),pa.applyMatrix3(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)pa.fromBufferAttribute(this,t),pa.applyMatrix4(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)pa.fromBufferAttribute(this,t),pa.applyNormalMatrix(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)pa.fromBufferAttribute(this,t),pa.transformDirection(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=kr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=kr(t,this.array)),t}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=kr(t,this.array)),t}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=kr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=kr(t,this.array)),t}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array),a=gn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array),a=gn(a,this.array),r=gn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mx&&(e.usage=this.usage),e}}class IK extends gi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class FK extends gi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class VK extends gi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class kK extends gi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class V2 extends gi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class HK extends gi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class k2 extends gi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class jK extends gi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Dg(this.array[e*this.itemSize]);return this.normalized&&(t=kr(t,this.array)),t}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize]=ns(t),this}getY(e){let t=Dg(this.array[e*this.itemSize+1]);return this.normalized&&(t=kr(t,this.array)),t}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+1]=ns(t),this}getZ(e){let t=Dg(this.array[e*this.itemSize+2]);return this.normalized&&(t=kr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+2]=ns(t),this}getW(e){let t=Dg(this.array[e*this.itemSize+3]);return this.normalized&&(t=kr(t,this.array)),t}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+3]=ns(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array)),this.array[e+0]=ns(t),this.array[e+1]=ns(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array),a=gn(a,this.array)),this.array[e+0]=ns(t),this.array[e+1]=ns(i),this.array[e+2]=ns(a),this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array),a=gn(a,this.array),r=gn(r,this.array)),this.array[e+0]=ns(t),this.array[e+1]=ns(i),this.array[e+2]=ns(a),this.array[e+3]=ns(r),this}}class kt extends gi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let GK=0;const $s=new rn,cE=new Kn,Ep=new $,ws=new vr,mg=new vr,Fa=new $;class mn extends Kl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GK++}),this.uuid=Ns(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lz(e)?k2:V2)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new pn().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return $s.makeRotationFromQuaternion(e),this.applyMatrix4($s),this}rotateX(e){return $s.makeRotationX(e),this.applyMatrix4($s),this}rotateY(e){return $s.makeRotationY(e),this.applyMatrix4($s),this}rotateZ(e){return $s.makeRotationZ(e),this.applyMatrix4($s),this}translate(e,t,i){return $s.makeTranslation(e,t,i),this.applyMatrix4($s),this}scale(e,t,i){return $s.makeScale(e,t,i),this.applyMatrix4($s),this}lookAt(e){return cE.lookAt(e),cE.updateMatrix(),this.applyMatrix4(cE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ep).negate(),this.translate(Ep.x,Ep.y,Ep.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,r=e.length;a<r;a++){const o=e[a];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new kt(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&vt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){ln("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const r=t[i];ws.setFromBufferAttribute(r),this.morphTargetsRelative?(Fa.addVectors(this.boundingBox.min,ws.min),this.boundingBox.expandByPoint(Fa),Fa.addVectors(this.boundingBox.max,ws.max),this.boundingBox.expandByPoint(Fa)):(this.boundingBox.expandByPoint(ws.min),this.boundingBox.expandByPoint(ws.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&ln('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){ln("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new $,1/0);return}if(e){const i=this.boundingSphere.center;if(ws.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const c=t[r];mg.setFromBufferAttribute(c),this.morphTargetsRelative?(Fa.addVectors(ws.min,mg.min),ws.expandByPoint(Fa),Fa.addVectors(ws.max,mg.max),ws.expandByPoint(Fa)):(ws.expandByPoint(mg.min),ws.expandByPoint(mg.max))}ws.getCenter(i);let a=0;for(let r=0,o=e.count;r<o;r++)Fa.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(Fa));if(t)for(let r=0,o=t.length;r<o;r++){const c=t[r],f=this.morphTargetsRelative;for(let d=0,m=c.count;d<m;d++)Fa.fromBufferAttribute(c,d),f&&(Ep.fromBufferAttribute(e,d),Fa.add(Ep)),a=Math.max(a,i.distanceToSquared(Fa))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&ln('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){ln("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new gi(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],f=[];for(let B=0;B<i.count;B++)c[B]=new $,f[B]=new $;const d=new $,m=new $,g=new $,y=new Xe,b=new Xe,_=new Xe,T=new $,E=new $;function S(B,I,V){d.fromBufferAttribute(i,B),m.fromBufferAttribute(i,I),g.fromBufferAttribute(i,V),y.fromBufferAttribute(r,B),b.fromBufferAttribute(r,I),_.fromBufferAttribute(r,V),m.sub(d),g.sub(d),b.sub(y),_.sub(y);const W=1/(b.x*_.y-_.x*b.y);isFinite(W)&&(T.copy(m).multiplyScalar(_.y).addScaledVector(g,-b.y).multiplyScalar(W),E.copy(g).multiplyScalar(b.x).addScaledVector(m,-_.x).multiplyScalar(W),c[B].add(T),c[I].add(T),c[V].add(T),f[B].add(E),f[I].add(E),f[V].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let B=0,I=R.length;B<I;++B){const V=R[B],W=V.start,te=V.count;for(let ne=W,ie=W+te;ne<ie;ne+=3)S(e.getX(ne+0),e.getX(ne+1),e.getX(ne+2))}const D=new $,U=new $,F=new $,P=new $;function L(B){F.fromBufferAttribute(a,B),P.copy(F);const I=c[B];D.copy(I),D.sub(F.multiplyScalar(F.dot(I))).normalize(),U.crossVectors(P,I);const W=U.dot(f[B])<0?-1:1;o.setXYZW(B,D.x,D.y,D.z,W)}for(let B=0,I=R.length;B<I;++B){const V=R[B],W=V.start,te=V.count;for(let ne=W,ie=W+te;ne<ie;ne+=3)L(e.getX(ne+0)),L(e.getX(ne+1)),L(e.getX(ne+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new gi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const a=new $,r=new $,o=new $,c=new $,f=new $,d=new $,m=new $,g=new $;if(e)for(let y=0,b=e.count;y<b;y+=3){const _=e.getX(y+0),T=e.getX(y+1),E=e.getX(y+2);a.fromBufferAttribute(t,_),r.fromBufferAttribute(t,T),o.fromBufferAttribute(t,E),m.subVectors(o,r),g.subVectors(a,r),m.cross(g),c.fromBufferAttribute(i,_),f.fromBufferAttribute(i,T),d.fromBufferAttribute(i,E),c.add(m),f.add(m),d.add(m),i.setXYZ(_,c.x,c.y,c.z),i.setXYZ(T,f.x,f.y,f.z),i.setXYZ(E,d.x,d.y,d.z)}else for(let y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),r.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),m.subVectors(o,r),g.subVectors(a,r),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Fa.fromBufferAttribute(e,t),Fa.normalize(),e.setXYZ(t,Fa.x,Fa.y,Fa.z)}toNonIndexed(){function e(c,f){const d=c.array,m=c.itemSize,g=c.normalized,y=new d.constructor(f.length*m);let b=0,_=0;for(let T=0,E=f.length;T<E;T++){c.isInterleavedBufferAttribute?b=f[T]*c.data.stride+c.offset:b=f[T]*m;for(let S=0;S<m;S++)y[_++]=d[b++]}return new gi(y,m,g)}if(this.index===null)return vt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mn,i=this.index.array,a=this.attributes;for(const c in a){const f=a[c],d=e(f,i);t.setAttribute(c,d)}const r=this.morphAttributes;for(const c in r){const f=[],d=r[c];for(let m=0,g=d.length;m<g;m++){const y=d[m],b=e(y,i);f.push(b)}t.morphAttributes[c]=f}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,f=o.length;c<f;c++){const d=o[c];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const f in i){const d=i[f];e.data.attributes[f]=d.toJSON(e.data)}const a={};let r=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g];m.push(b.toJSON(e.data))}m.length>0&&(a[f]=m,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const d in a){const m=a[d];this.setAttribute(d,m.clone(t))}const r=e.morphAttributes;for(const d in r){const m=[],g=r[d];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,m=o.length;d<m;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fN=new rn,pd=new Cm,Gv=new Ja,dN=new $,Xv=new $,qv=new $,Wv=new $,uE=new $,Yv=new $,hN=new $,Kv=new $;class Aa extends Kn{constructor(e=new mn,t=new mf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const c=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const c=this.morphTargetInfluences;if(r&&c){Yv.set(0,0,0);for(let f=0,d=r.length;f<d;f++){const m=c[f],g=r[f];m!==0&&(uE.fromBufferAttribute(g,e),o?Yv.addScaledVector(uE,m):Yv.addScaledVector(uE.sub(t),m))}t.add(Yv)}return t}raycast(e,t){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Gv.copy(i.boundingSphere),Gv.applyMatrix4(r),pd.copy(e.ray).recast(e.near),!(Gv.containsPoint(pd.origin)===!1&&(pd.intersectSphere(Gv,dN)===null||pd.origin.distanceToSquared(dN)>(e.far-e.near)**2))&&(fN.copy(r).invert(),pd.copy(e.ray).applyMatrix4(fN),!(i.boundingBox!==null&&pd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,pd)))}_computeIntersections(e,t,i){let a;const r=this.geometry,o=this.material,c=r.index,f=r.attributes.position,d=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,y=r.groups,b=r.drawRange;if(c!==null)if(Array.isArray(o))for(let _=0,T=y.length;_<T;_++){const E=y[_],S=o[E.materialIndex],R=Math.max(E.start,b.start),D=Math.min(c.count,Math.min(E.start+E.count,b.start+b.count));for(let U=R,F=D;U<F;U+=3){const P=c.getX(U),L=c.getX(U+1),B=c.getX(U+2);a=Zv(this,S,e,i,d,m,g,P,L,B),a&&(a.faceIndex=Math.floor(U/3),a.face.materialIndex=E.materialIndex,t.push(a))}}else{const _=Math.max(0,b.start),T=Math.min(c.count,b.start+b.count);for(let E=_,S=T;E<S;E+=3){const R=c.getX(E),D=c.getX(E+1),U=c.getX(E+2);a=Zv(this,o,e,i,d,m,g,R,D,U),a&&(a.faceIndex=Math.floor(E/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(o))for(let _=0,T=y.length;_<T;_++){const E=y[_],S=o[E.materialIndex],R=Math.max(E.start,b.start),D=Math.min(f.count,Math.min(E.start+E.count,b.start+b.count));for(let U=R,F=D;U<F;U+=3){const P=U,L=U+1,B=U+2;a=Zv(this,S,e,i,d,m,g,P,L,B),a&&(a.faceIndex=Math.floor(U/3),a.face.materialIndex=E.materialIndex,t.push(a))}}else{const _=Math.max(0,b.start),T=Math.min(f.count,b.start+b.count);for(let E=_,S=T;E<S;E+=3){const R=E,D=E+1,U=E+2;a=Zv(this,o,e,i,d,m,g,R,D,U),a&&(a.faceIndex=Math.floor(E/3),t.push(a))}}}}function XK(n,e,t,i,a,r,o,c){let f;if(e.side===jr?f=i.intersectTriangle(o,r,a,!0,c):f=i.intersectTriangle(a,r,o,e.side===Gc,c),f===null)return null;Kv.copy(c),Kv.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(Kv);return d<t.near||d>t.far?null:{distance:d,point:Kv.clone(),object:n}}function Zv(n,e,t,i,a,r,o,c,f,d){n.getVertexPosition(c,Xv),n.getVertexPosition(f,qv),n.getVertexPosition(d,Wv);const m=XK(n,e,t,i,Xv,qv,Wv,hN);if(m){const g=new $;as.getBarycoord(hN,Xv,qv,Wv,g),a&&(m.uv=as.getInterpolatedAttribute(a,c,f,d,g,new Xe)),r&&(m.uv1=as.getInterpolatedAttribute(r,c,f,d,g,new Xe)),o&&(m.normal=as.getInterpolatedAttribute(o,c,f,d,g,new $),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:c,b:f,c:d,normal:new $,materialIndex:0};as.getNormal(Xv,qv,Wv,y.normal),m.face=y,m.barycoord=g}return m}class ih extends mn{constructor(e=1,t=1,i=1,a=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:o};const c=this;a=Math.floor(a),r=Math.floor(r),o=Math.floor(o);const f=[],d=[],m=[],g=[];let y=0,b=0;_("z","y","x",-1,-1,i,t,e,o,r,0),_("z","y","x",1,-1,i,t,-e,o,r,1),_("x","z","y",1,1,e,i,t,a,o,2),_("x","z","y",1,-1,e,i,-t,a,o,3),_("x","y","z",1,-1,e,t,i,a,r,4),_("x","y","z",-1,-1,e,t,-i,a,r,5),this.setIndex(f),this.setAttribute("position",new kt(d,3)),this.setAttribute("normal",new kt(m,3)),this.setAttribute("uv",new kt(g,2));function _(T,E,S,R,D,U,F,P,L,B,I){const V=U/L,W=F/B,te=U/2,ne=F/2,ie=P/2,oe=L+1,H=B+1;let q=0,G=0;const ee=new $;for(let ue=0;ue<H;ue++){const K=ue*W-ne;for(let le=0;le<oe;le++){const _e=le*V-te;ee[T]=_e*R,ee[E]=K*D,ee[S]=ie,d.push(ee.x,ee.y,ee.z),ee[T]=0,ee[E]=0,ee[S]=P>0?1:-1,m.push(ee.x,ee.y,ee.z),g.push(le/L),g.push(1-ue/B),q+=1}}for(let ue=0;ue<B;ue++)for(let K=0;K<L;K++){const le=y+K+oe*ue,_e=y+K+oe*(ue+1),Se=y+(K+1)+oe*(ue+1),je=y+(K+1)+oe*ue;f.push(le,_e,je),f.push(_e,Se,je),G+=6}c.addGroup(b,G,I),b+=G,y+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ih(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function hm(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(vt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function Fr(n){const e={};for(let t=0;t<n.length;t++){const i=hm(n[t]);for(const a in i)e[a]=i[a]}return e}function qK(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function dz(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xn.workingColorSpace}const hz={clone:hm,merge:Fr};var WK=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YK=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class uo extends br{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=WK,this.fragmentShader=YK,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hm(e.uniforms),this.uniformsGroups=qK(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?t.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[a]={type:"m4",value:o.toArray()}:t.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class GS extends Kn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new rn,this.projectionMatrix=new rn,this.projectionMatrixInverse=new rn,this.coordinateSystem=Cs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Fu=new $,pN=new Xe,mN=new Xe;class Va extends GS{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=fm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fm*2*Math.atan(Math.tan(kd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Fu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Fu.x,Fu.y).multiplyScalar(-e/Fu.z),Fu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Fu.x,Fu.y).multiplyScalar(-e/Fu.z)}getViewSize(e,t){return this.getViewBounds(e,pN,mN),t.subVectors(mN,pN)}setViewOffset(e,t,i,a,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(kd*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,r=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,d=o.fullHeight;r+=o.offsetX*a/f,t-=o.offsetY*i/d,a*=o.width/f,i*=o.height/d}const c=this.filmOffset;c!==0&&(r+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const wp=-90,Tp=1;class pz extends Kn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Va(wp,Tp,e,t);a.layers=this.layers,this.add(a);const r=new Va(wp,Tp,e,t);r.layers=this.layers,this.add(r);const o=new Va(wp,Tp,e,t);o.layers=this.layers,this.add(o);const c=new Va(wp,Tp,e,t);c.layers=this.layers,this.add(c);const f=new Va(wp,Tp,e,t);f.layers=this.layers,this.add(f);const d=new Va(wp,Tp,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,r,o,c,f]=t;for(const d of t)this.remove(d);if(e===Cs)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===cm)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,c,f,d,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,r),e.setRenderTarget(i,1,a),e.render(t,o),e.setRenderTarget(i,2,a),e.render(t,c),e.setRenderTarget(i,3,a),e.render(t,f),e.setRenderTarget(i,4,a),e.render(t,d),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,a),e.render(t,m),e.setRenderTarget(g,y,b),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class kx extends Ji{constructor(e=[],t=Xc,i,a,r,o,c,f,d,m){super(e,t,i,a,r,o,c,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class mz extends Xl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new kx(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new ih(5,5,5),r=new uo({name:"CubemapFromEquirect",uniforms:hm(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:jr,blending:kl});r.uniforms.tEquirect.value=t;const o=new Aa(a,r),c=t.minFilter;return t.minFilter===Ul&&(t.minFilter=la),new pz(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,a);e.setRenderTarget(r)}}class Yp extends Kn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const KK={type:"move"};class Gb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Yp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Yp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Yp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,r=null,o=null;const c=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const T of e.hand.values()){const E=t.getJointPose(T,i),S=this._getHandJoint(d,T);E!==null&&(S.matrix.fromArray(E.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=E.radius),S.visible=E!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,_=.005;d.inputState.pinching&&y>b+_?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=b-_&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(f.matrix.fromArray(r.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,r.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(r.linearVelocity)):f.hasLinearVelocity=!1,r.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(r.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(KK)))}return c!==null&&(c.visible=a!==null),f!==null&&(f.visible=r!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Yp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class XS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Nt(e),this.density=t}clone(){return new XS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class qS{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Nt(e),this.near=t,this.far=i}clone(){return new qS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class H2 extends Kn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ds,this.environmentIntensity=1,this.environmentRotation=new Ds,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class WS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=mx,this.updateRanges=[],this.version=0,this.uuid=Ns()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ir=new $;class Wd{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=kr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=gn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=kr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=kr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=kr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=kr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array),a=gn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),i=gn(i,this.array),a=gn(a,this.array),r=gn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){xx("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new gi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){xx("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class j2 extends br{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ap;const gg=new $,Cp=new $,Rp=new $,Np=new Xe,xg=new Xe,gz=new rn,Jv=new $,yg=new $,Qv=new $,gN=new Xe,fE=new Xe,xN=new Xe;class xz extends Kn{constructor(e=new j2){if(super(),this.isSprite=!0,this.type="Sprite",Ap===void 0){Ap=new mn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new WS(t,5);Ap.setIndex([0,1,2,0,2,3]),Ap.setAttribute("position",new Wd(i,3,0,!1)),Ap.setAttribute("uv",new Wd(i,2,3,!1))}this.geometry=Ap,this.material=e,this.center=new Xe(.5,.5),this.count=1}raycast(e,t){e.camera===null&&ln('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Cp.setFromMatrixScale(this.matrixWorld),gz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Cp.multiplyScalar(-Rp.z);const i=this.material.rotation;let a,r;i!==0&&(r=Math.cos(i),a=Math.sin(i));const o=this.center;$v(Jv.set(-.5,-.5,0),Rp,o,Cp,a,r),$v(yg.set(.5,-.5,0),Rp,o,Cp,a,r),$v(Qv.set(.5,.5,0),Rp,o,Cp,a,r),gN.set(0,0),fE.set(1,0),xN.set(1,1);let c=e.ray.intersectTriangle(Jv,yg,Qv,!1,gg);if(c===null&&($v(yg.set(-.5,.5,0),Rp,o,Cp,a,r),fE.set(0,1),c=e.ray.intersectTriangle(Jv,Qv,yg,!1,gg),c===null))return;const f=e.ray.origin.distanceTo(gg);f<e.near||f>e.far||t.push({distance:f,point:gg.clone(),uv:as.getInterpolation(gg,Jv,yg,Qv,gN,fE,xN,new Xe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $v(n,e,t,i,a,r){Np.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(xg.x=r*Np.x-a*Np.y,xg.y=a*Np.x+r*Np.y):xg.copy(Np),n.copy(e),n.x+=xg.x,n.y+=xg.y,n.applyMatrix4(gz)}const eb=new $,yN=new $;class yz extends Kn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){eb.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(eb);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){eb.setFromMatrixPosition(e.matrixWorld),yN.setFromMatrixPosition(this.matrixWorld);const i=eb.distanceTo(yN)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let o=t[a].distance;if(t[a].object.visible&&(o-=o*t[a].hysteresis),i>=o)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,r=i.length;a<r;a++){const o=i[a];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const vN=new $,bN=new Yn,_N=new Yn,ZK=new $,SN=new rn,tb=new $,dE=new Ja,MN=new rn,hE=new Cm;class vz extends Aa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Hw,this.bindMatrix=new rn,this.bindMatrixInverse=new rn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,tb),this.boundingBox.expandByPoint(tb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ja),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,tb),this.boundingSphere.expandByPoint(tb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),dE.copy(this.boundingSphere),dE.applyMatrix4(a),e.ray.intersectsSphere(dE)!==!1&&(MN.copy(a).invert(),hE.copy(e.ray).applyMatrix4(MN),!(this.boundingBox!==null&&hE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,hE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Yn,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Hw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Y4?this.bindMatrixInverse.copy(this.bindMatrix).invert():vt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;bN.fromBufferAttribute(a.attributes.skinIndex,e),_N.fromBufferAttribute(a.attributes.skinWeight,e),vN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=_N.getComponent(r);if(o!==0){const c=bN.getComponent(r);SN.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(ZK.copy(vN).applyMatrix4(SN),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class G2 extends Kn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Go extends Ji{constructor(e=null,t=1,i=1,a,r,o,c,f,d=Za,m=Za,g,y){super(null,o,c,f,d,m,a,r,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const EN=new rn,JK=new rn;class YS{constructor(e=[],t=[]){this.uuid=Ns(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){vt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new rn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new rn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const c=e[r]?e[r].matrixWorld:JK;EN.multiplyMatrices(c,t[r]),EN.toArray(i,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new YS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Go(t,e,e,yr,os);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const r=e.bones[i];let o=t[r];o===void 0&&(vt("Skeleton: No bone found with UUID:",r),o=new G2),this.bones.push(o),this.boneInverses.push(new rn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const o=t[a];e.bones.push(o.uuid);const c=i[a];e.boneInverses.push(c.toArray())}return e}}class pm extends gi{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Dp=new rn,wN=new rn,nb=[],TN=new vr,QK=new rn,vg=new Aa,bg=new Ja;class bz extends Aa{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new pm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,QK)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new vr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Dp),TN.copy(e.boundingBox).applyMatrix4(Dp),this.boundingBox.union(TN)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ja),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Dp),bg.copy(e.boundingSphere).applyMatrix4(Dp),this.boundingSphere.union(bg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=i.length+1,o=e*r+1;for(let c=0;c<i.length;c++)i[c]=a[o+c]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(vg.geometry=this.geometry,vg.material=this.material,vg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bg.copy(this.boundingSphere),bg.applyMatrix4(i),e.ray.intersectsSphere(bg)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,Dp),wN.multiplyMatrices(i,Dp),vg.matrixWorld=wN,vg.raycast(e,nb);for(let o=0,c=nb.length;o<c;o++){const f=nb[o];f.instanceId=r,f.object=this,t.push(f)}nb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new pm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new Go(new Float32Array(a*this.count),a,this.count,BS,os));const r=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const c=this.geometry.morphTargetsRelative?1:1-o,f=a*e;r[f]=c,r.set(i,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const pE=new $,$K=new $,eZ=new pn;class ju{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=pE.subVectors(i,t).cross($K.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(pE),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||eZ.getNormalMatrix(e),a=this.coplanarPoint(pE).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const md=new Ja,tZ=new Xe(.5,.5),ib=new $;class Rm{constructor(e=new ju,t=new ju,i=new ju,a=new ju,r=new ju,o=new ju){this.planes=[e,t,i,a,r,o]}set(e,t,i,a,r,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(a),c[4].copy(r),c[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Cs,i=!1){const a=this.planes,r=e.elements,o=r[0],c=r[1],f=r[2],d=r[3],m=r[4],g=r[5],y=r[6],b=r[7],_=r[8],T=r[9],E=r[10],S=r[11],R=r[12],D=r[13],U=r[14],F=r[15];if(a[0].setComponents(d-o,b-m,S-_,F-R).normalize(),a[1].setComponents(d+o,b+m,S+_,F+R).normalize(),a[2].setComponents(d+c,b+g,S+T,F+D).normalize(),a[3].setComponents(d-c,b-g,S-T,F-D).normalize(),i)a[4].setComponents(f,y,E,U).normalize(),a[5].setComponents(d-f,b-y,S-E,F-U).normalize();else if(a[4].setComponents(d-f,b-y,S-E,F-U).normalize(),t===Cs)a[5].setComponents(d+f,b+y,S+E,F+U).normalize();else if(t===cm)a[5].setComponents(f,y,E,U).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),md.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),md.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(md)}intersectsSprite(e){md.center.set(0,0,0);const t=tZ.distanceTo(e.center);return md.radius=.7071067811865476+t,md.applyMatrix4(e.matrixWorld),this.intersectsSphere(md)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(ib.x=a.normal.x>0?e.max.x:e.min.x,ib.y=a.normal.y>0?e.max.y:e.min.y,ib.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(ib)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Cl=new rn,Rl=new Rm;class KS{constructor(){this.coordinateSystem=Cs}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Cl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Rl.setFromProjectionMatrix(Cl,a.coordinateSystem,a.reversedDepth),Rl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Cl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Rl.setFromProjectionMatrix(Cl,a.coordinateSystem,a.reversedDepth),Rl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Cl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Rl.setFromProjectionMatrix(Cl,a.coordinateSystem,a.reversedDepth),Rl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Cl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Rl.setFromProjectionMatrix(Cl,a.coordinateSystem,a.reversedDepth),Rl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Cl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Rl.setFromProjectionMatrix(Cl,a.coordinateSystem,a.reversedDepth),Rl.containsPoint(e))return!0}return!1}clone(){return new KS}}function mE(n,e){return n-e}function nZ(n,e){return n.z-e.z}function iZ(n,e){return e.z-n.z}class aZ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const c=r[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=i,c.index=a}reset(){this.list.length=0,this.index=0}}const ts=new rn,rZ=new Nt(1,1,1),AN=new Rm,sZ=new KS,ab=new vr,gd=new Ja,_g=new $,CN=new $,oZ=new $,gE=new aZ,hr=new Aa,rb=[];function lZ(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let r=0;r<a;r++)for(let o=0;o<i;o++)e.setComponent(r+t,o,n.getComponent(r,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function xd(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class _z extends Aa{constructor(e,t,i=t*2,a){super(new mn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Go(t,e,e,yr,os);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Go(t,e,e,Vx,qc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Go(t,e,e,yr,os);i.colorSpace=Xn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:c,itemSize:f,normalized:d}=o,m=new c.constructor(i*f),g=new gi(m,f,d);t.setAttribute(r,g)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new gi(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),r=t.getAttribute(i);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,ts),this.getBoundingBoxAt(r,ab).applyMatrix4(ts),e.union(ab)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,ts),this.getBoundingSphereAt(r,gd).applyMatrix4(ts),e.union(gd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(mE),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;ts.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(rZ.toArray(o.image.data,a*4),o.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?o.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(mE),f=this._availableGeometryIds.shift(),r[f]=a):(f=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(f,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,r=i.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(a&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=c.vertexStart,d=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),y=i.getAttribute(m);lZ(g,y,f);const b=g.itemSize;for(let _=g.count,T=d;_<T;_++){const E=f+_;for(let S=0;S<b;S++)y.setComponent(E,S,0)}y.needsUpdate=!0,y.addUpdateRange(f*b,d*b)}if(a){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let y=0;y<o.count;y++)r.setX(m+y,f+o.getX(y));for(let y=o.count,b=g;y<b;y++)r.setX(m+y,f);r.needsUpdate=!0,r.addUpdateRange(m,c.reservedIndexCount)}return c.start=a?c.indexStart:c.vertexStart,c.count=a?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,r=i.length;a<r;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),r=this.geometry;for(let o=0,c=i.length;o<c;o++){const f=a[o],d=i[f];if(d.active!==!1){if(r.index!==null){if(d.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=d,b=r.index,_=b.array,T=e-g;for(let E=m;E<m+y;E++)_[E]=_[E]+T;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=d,y=r.attributes;for(const b in y){const _=y[b],{array:T,itemSize:E}=_;T.copyWithin(e*E,m*E,(m+g)*E),_.addUpdateRange(e*E,g*E)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=r.index?d.indexStart:d.vertexStart,this._nextIndexStart=r.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new vr,o=i.index,c=i.attributes.position;for(let f=a.start,d=a.start+a.count;f<d;f++){let m=f;o&&(m=o.getX(m)),r.expandByPoint(_g.fromBufferAttribute(c,m))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new Ja;this.getBoundingBoxAt(e,ab),ab.getCenter(r.center);const o=i.index,c=i.attributes.position;let f=0;for(let d=a.start,m=a.start+a.count;d<m;d++){let g=d;o&&(g=o.getX(g)),_g.fromBufferAttribute(c,g),f=Math.max(f,r.center.distanceToSquared(_g))}r.radius=Math.sqrt(f),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(mE);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);xd(this._multiDrawCounts,a),xd(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),xd(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),xd(c.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),xd(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new mn,this._initializeGeometry(r));const o=this.geometry;r.index&&xd(r.index.array,o.index.array);for(const c in r.attributes)xd(r.attributes[c].array,o.attributes[c].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,o=this.geometry;hr.material=this.material,hr.geometry.index=o.index,hr.geometry.attributes=o.attributes,hr.geometry.boundingBox===null&&(hr.geometry.boundingBox=new vr),hr.geometry.boundingSphere===null&&(hr.geometry.boundingSphere=new Ja);for(let c=0,f=i.length;c<f;c++){if(!i[c].visible||!i[c].active)continue;const d=i[c].geometryIndex,m=a[d];hr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,hr.matrixWorld).premultiply(r),this.getBoundingBoxAt(d,hr.geometry.boundingBox),this.getBoundingSphereAt(d,hr.geometry.boundingSphere),hr.raycast(e,rb);for(let g=0,y=rb.length;g<y;g++){const b=rb[g];b.object=this,b.batchId=c,t.push(b)}rb.length=0}hr.material=null,hr.geometry.index=null,hr.geometry.attributes={},hr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=a.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,_=b.image.data,T=i.isArrayCamera?sZ:AN;y&&!i.isArrayCamera&&(ts.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),AN.setFromProjectionMatrix(ts,i.coordinateSystem,i.reversedDepth));let E=0;if(this.sortObjects){ts.copy(this.matrixWorld).invert(),_g.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ts),CN.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ts);for(let D=0,U=f.length;D<U;D++)if(f[D].visible&&f[D].active){const F=f[D].geometryIndex;this.getMatrixAt(D,ts),this.getBoundingSphereAt(F,gd).applyMatrix4(ts);let P=!1;if(y&&(P=!T.intersectsSphere(gd,i)),!P){const L=g[F],B=oZ.subVectors(gd.center,_g).dot(CN);gE.push(L.start,L.count,B,D)}}const S=gE.list,R=this.customSort;R===null?S.sort(r.transparent?iZ:nZ):R.call(this,S,i);for(let D=0,U=S.length;D<U;D++){const F=S[D];d[E]=F.start*c,m[E]=F.count,_[E]=F.index,E++}gE.reset()}else for(let S=0,R=f.length;S<R;S++)if(f[S].visible&&f[S].active){const D=f[S].geometryIndex;let U=!1;if(y&&(this.getMatrixAt(S,ts),this.getBoundingSphereAt(D,gd).applyMatrix4(ts),U=!T.intersectsSphere(gd,i)),!U){const F=g[D];d[E]=F.start*c,m[E]=F.count,_[E]=S,E++}}b.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,r,o){this.onBeforeRender(e,null,a,r,o)}}class Xr extends br{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const J_=new $,Q_=new $,RN=new rn,Sg=new Cm,sb=new Ja,xE=new $,NN=new $;class of extends Kn{constructor(e=new mn,t=new Xr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,r=t.count;a<r;a++)J_.fromBufferAttribute(t,a-1),Q_.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=J_.distanceTo(Q_);e.setAttribute("lineDistance",new kt(i,1))}else vt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),sb.copy(i.boundingSphere),sb.applyMatrix4(a),sb.radius+=r,e.ray.intersectsSphere(sb)===!1)return;RN.copy(a).invert(),Sg.copy(e.ray).applyMatrix4(RN);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let T=b,E=_-1;T<E;T+=d){const S=m.getX(T),R=m.getX(T+1),D=ob(this,e,Sg,f,S,R,T);D&&t.push(D)}if(this.isLineLoop){const T=m.getX(_-1),E=m.getX(b),S=ob(this,e,Sg,f,T,E,_-1);S&&t.push(S)}}else{const b=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let T=b,E=_-1;T<E;T+=d){const S=ob(this,e,Sg,f,T,T+1,T);S&&t.push(S)}if(this.isLineLoop){const T=ob(this,e,Sg,f,_-1,b,_-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const c=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}}function ob(n,e,t,i,a,r,o){const c=n.geometry.attributes.position;if(J_.fromBufferAttribute(c,a),Q_.fromBufferAttribute(c,r),t.distanceSqToSegment(J_,Q_,xE,NN)>i)return;xE.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(xE);if(!(d<e.near||d>e.far))return{distance:d,point:NN.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const DN=new $,ON=new $;class Zl extends of{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,r=t.count;a<r;a+=2)DN.fromBufferAttribute(t,a),ON.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+DN.distanceTo(ON);e.setAttribute("lineDistance",new kt(i,1))}else vt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Sz extends of{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ZS extends br{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const LN=new rn,Xw=new Cm,lb=new Ja,cb=new $;let Mz=class extends Kn{constructor(e=new mn,t=new ZS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),lb.copy(i.boundingSphere),lb.applyMatrix4(a),lb.radius+=r,e.ray.intersectsSphere(lb)===!1)return;LN.copy(a).invert(),Xw.copy(e.ray).applyMatrix4(LN);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=i.index,g=i.attributes.position;if(d!==null){const y=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let _=y,T=b;_<T;_++){const E=d.getX(_);cb.fromBufferAttribute(g,E),UN(cb,E,f,a,e,t,this)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let _=y,T=b;_<T;_++)cb.fromBufferAttribute(g,_),UN(cb,_,f,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const c=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}};function UN(n,e,t,i,a,r,o){const c=Xw.distanceSqToPoint(n);if(c<t){const f=new $;Xw.closestPointToPoint(n,f),f.applyMatrix4(i);const d=a.ray.origin.distanceTo(f);if(d<a.near||d>a.far)return;r.push({distance:d,distanceToRay:Math.sqrt(c),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class Ez extends Ji{constructor(e,t,i,a,r=la,o=la,c,f,d){super(e,t,i,a,r,o,c,f,d),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class cZ extends Ez{constructor(e,t,i,a,r,o,c,f){super({},e,t,i,a,r,o,c,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class uZ extends Ji{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Za,this.minFilter=Za,this.generateMipmaps=!1,this.needsUpdate=!0}}class JS extends Ji{constructor(e,t,i,a,r,o,c,f,d,m,g,y){super(null,o,c,f,d,m,a,r,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class fZ extends JS{constructor(e,t,i,a,r,o){super(e,t,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=ss,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dZ extends JS{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Xc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hZ extends Ji{constructor(e,t,i,a,r,o,c,f,d){super(e,t,i,a,r,o,c,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class X2 extends Ji{constructor(e,t,i=qc,a,r,o,c=Za,f=Za,d,m=om,g=1){if(m!==om&&m!==lm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:g};super(y,a,r,o,c,f,m,i,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Zu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class q2 extends Ji{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class QS extends mn{constructor(e=1,t=1,i=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const o=[],c=[],f=[],d=[],m=t/2,g=Math.PI/2*e,y=t,b=2*g+y,_=i*2+r,T=a+1,E=new $,S=new $;for(let R=0;R<=_;R++){let D=0,U=0,F=0,P=0;if(R<=i){const I=R/i,V=I*Math.PI/2;U=-m-e*Math.cos(V),F=e*Math.sin(V),P=-e*Math.cos(V),D=I*g}else if(R<=i+r){const I=(R-i)/r;U=-m+I*t,F=e,P=0,D=g+I*y}else{const I=(R-i-r)/i,V=I*Math.PI/2;U=m+e*Math.sin(V),F=e*Math.cos(V),P=e*Math.sin(V),D=g+y+I*g}const L=Math.max(0,Math.min(1,D/b));let B=0;R===0?B=.5/a:R===_&&(B=-.5/a);for(let I=0;I<=a;I++){const V=I/a,W=V*Math.PI*2,te=Math.sin(W),ne=Math.cos(W);S.x=-F*ne,S.y=U,S.z=F*te,c.push(S.x,S.y,S.z),E.set(-F*ne,P,F*te),E.normalize(),f.push(E.x,E.y,E.z),d.push(V+B,L)}if(R>0){const I=(R-1)*T;for(let V=0;V<a;V++){const W=I+V,te=I+V+1,ne=R*T+V,ie=R*T+V+1;o.push(W,te,ne),o.push(te,ie,ne)}}}this.setIndex(o),this.setAttribute("position",new kt(c,3)),this.setAttribute("normal",new kt(f,3)),this.setAttribute("uv",new kt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class $S extends mn{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const r=[],o=[],c=[],f=[],d=new $,m=new Xe;o.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=i+g/t*a;d.x=e*Math.cos(b),d.y=e*Math.sin(b),o.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new kt(o,3)),this.setAttribute("normal",new kt(c,3)),this.setAttribute("uv",new kt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $S(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hx extends mn{constructor(e=1,t=1,i=1,a=32,r=1,o=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:o,thetaStart:c,thetaLength:f};const d=this;a=Math.floor(a),r=Math.floor(r);const m=[],g=[],y=[],b=[];let _=0;const T=[],E=i/2;let S=0;R(),o===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new kt(g,3)),this.setAttribute("normal",new kt(y,3)),this.setAttribute("uv",new kt(b,2));function R(){const U=new $,F=new $;let P=0;const L=(t-e)/i;for(let B=0;B<=r;B++){const I=[],V=B/r,W=V*(t-e)+e;for(let te=0;te<=a;te++){const ne=te/a,ie=ne*f+c,oe=Math.sin(ie),H=Math.cos(ie);F.x=W*oe,F.y=-V*i+E,F.z=W*H,g.push(F.x,F.y,F.z),U.set(oe,L,H).normalize(),y.push(U.x,U.y,U.z),b.push(ne,1-V),I.push(_++)}T.push(I)}for(let B=0;B<a;B++)for(let I=0;I<r;I++){const V=T[I][B],W=T[I+1][B],te=T[I+1][B+1],ne=T[I][B+1];(e>0||I!==0)&&(m.push(V,W,ne),P+=3),(t>0||I!==r-1)&&(m.push(W,te,ne),P+=3)}d.addGroup(S,P,0),S+=P}function D(U){const F=_,P=new Xe,L=new $;let B=0;const I=U===!0?e:t,V=U===!0?1:-1;for(let te=1;te<=a;te++)g.push(0,E*V,0),y.push(0,V,0),b.push(.5,.5),_++;const W=_;for(let te=0;te<=a;te++){const ie=te/a*f+c,oe=Math.cos(ie),H=Math.sin(ie);L.x=I*H,L.y=E*V,L.z=I*oe,g.push(L.x,L.y,L.z),y.push(0,V,0),P.x=oe*.5+.5,P.y=H*.5*V+.5,b.push(P.x,P.y),_++}for(let te=0;te<a;te++){const ne=F+te,ie=W+te;U===!0?m.push(ie,ie+1,ne):m.push(ie+1,ie,ne),B+=3}d.addGroup(S,B,U===!0?1:2),S+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jx extends Hx{constructor(e=1,t=1,i=32,a=1,r=!1,o=0,c=Math.PI*2){super(0,e,t,i,a,r,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:r,thetaStart:o,thetaLength:c}}static fromJSON(e){return new jx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gf extends mn{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const r=[],o=[];c(a),d(i),m(),this.setAttribute("position",new kt(r,3)),this.setAttribute("normal",new kt(r.slice(),3)),this.setAttribute("uv",new kt(o,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function c(R){const D=new $,U=new $,F=new $;for(let P=0;P<t.length;P+=3)b(t[P+0],D),b(t[P+1],U),b(t[P+2],F),f(D,U,F,R)}function f(R,D,U,F){const P=F+1,L=[];for(let B=0;B<=P;B++){L[B]=[];const I=R.clone().lerp(U,B/P),V=D.clone().lerp(U,B/P),W=P-B;for(let te=0;te<=W;te++)te===0&&B===P?L[B][te]=I:L[B][te]=I.clone().lerp(V,te/W)}for(let B=0;B<P;B++)for(let I=0;I<2*(P-B)-1;I++){const V=Math.floor(I/2);I%2===0?(y(L[B][V+1]),y(L[B+1][V]),y(L[B][V])):(y(L[B][V+1]),y(L[B+1][V+1]),y(L[B+1][V]))}}function d(R){const D=new $;for(let U=0;U<r.length;U+=3)D.x=r[U+0],D.y=r[U+1],D.z=r[U+2],D.normalize().multiplyScalar(R),r[U+0]=D.x,r[U+1]=D.y,r[U+2]=D.z}function m(){const R=new $;for(let D=0;D<r.length;D+=3){R.x=r[D+0],R.y=r[D+1],R.z=r[D+2];const U=E(R)/2/Math.PI+.5,F=S(R)/Math.PI+.5;o.push(U,1-F)}_(),g()}function g(){for(let R=0;R<o.length;R+=6){const D=o[R+0],U=o[R+2],F=o[R+4],P=Math.max(D,U,F),L=Math.min(D,U,F);P>.9&&L<.1&&(D<.2&&(o[R+0]+=1),U<.2&&(o[R+2]+=1),F<.2&&(o[R+4]+=1))}}function y(R){r.push(R.x,R.y,R.z)}function b(R,D){const U=R*3;D.x=e[U+0],D.y=e[U+1],D.z=e[U+2]}function _(){const R=new $,D=new $,U=new $,F=new $,P=new Xe,L=new Xe,B=new Xe;for(let I=0,V=0;I<r.length;I+=9,V+=6){R.set(r[I+0],r[I+1],r[I+2]),D.set(r[I+3],r[I+4],r[I+5]),U.set(r[I+6],r[I+7],r[I+8]),P.set(o[V+0],o[V+1]),L.set(o[V+2],o[V+3]),B.set(o[V+4],o[V+5]),F.copy(R).add(D).add(U).divideScalar(3);const W=E(F);T(P,V+0,R,W),T(L,V+2,D,W),T(B,V+4,U,W)}}function T(R,D,U,F){F<0&&R.x===1&&(o[D]=R.x-1),U.x===0&&U.z===0&&(o[D]=F/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function S(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gf(e.vertices,e.indices,e.radius,e.details)}}class e1 extends gf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new e1(e.radius,e.detail)}}const ub=new $,fb=new $,yE=new $,db=new as;class wz extends mn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(kd*t),o=e.getIndex(),c=e.getAttribute("position"),f=o?o.count:c.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let _=0;_<f;_+=3){o?(d[0]=o.getX(_),d[1]=o.getX(_+1),d[2]=o.getX(_+2)):(d[0]=_,d[1]=_+1,d[2]=_+2);const{a:T,b:E,c:S}=db;if(T.fromBufferAttribute(c,d[0]),E.fromBufferAttribute(c,d[1]),S.fromBufferAttribute(c,d[2]),db.getNormal(yE),g[0]=`${Math.round(T.x*a)},${Math.round(T.y*a)},${Math.round(T.z*a)}`,g[1]=`${Math.round(E.x*a)},${Math.round(E.y*a)},${Math.round(E.z*a)}`,g[2]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const D=(R+1)%3,U=g[R],F=g[D],P=db[m[R]],L=db[m[D]],B=`${U}_${F}`,I=`${F}_${U}`;I in y&&y[I]?(yE.dot(y[I].normal)<=r&&(b.push(P.x,P.y,P.z),b.push(L.x,L.y,L.z)),y[I]=null):B in y||(y[B]={index0:d[R],index1:d[D],normal:yE.clone()})}}for(const _ in y)if(y[_]){const{index0:T,index1:E}=y[_];ub.fromBufferAttribute(c,T),fb.fromBufferAttribute(c,E),b.push(ub.x,ub.y,ub.z),b.push(fb.x,fb.y,fb.z)}this.setAttribute("position",new kt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Wo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){vt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),r+=i.distanceTo(a),t.push(r),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const r=i.length;let o;t?o=t:o=e*i[r-1];let c=0,f=r-1,d;for(;c<=f;)if(a=Math.floor(c+(f-c)/2),d=i[a]-o,d<0)c=a+1;else if(d>0)f=a-1;else{f=a;break}if(a=f,i[a]===o)return a/(r-1);const m=i[a],y=i[a+1]-m,b=(o-m)/y;return(a+b)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const o=this.getPoint(a),c=this.getPoint(r),f=t||(o.isVector2?new Xe:new $);return f.copy(c).sub(o).normalize(),f}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new $,a=[],r=[],o=[],c=new $,f=new rn;for(let b=0;b<=e;b++){const _=b/e;a[b]=this.getTangentAt(_,new $)}r[0]=new $,o[0]=new $;let d=Number.MAX_VALUE;const m=Math.abs(a[0].x),g=Math.abs(a[0].y),y=Math.abs(a[0].z);m<=d&&(d=m,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),y<=d&&i.set(0,0,1),c.crossVectors(a[0],i).normalize(),r[0].crossVectors(a[0],c),o[0].crossVectors(a[0],r[0]);for(let b=1;b<=e;b++){if(r[b]=r[b-1].clone(),o[b]=o[b-1].clone(),c.crossVectors(a[b-1],a[b]),c.length()>Number.EPSILON){c.normalize();const _=Math.acos(an(a[b-1].dot(a[b]),-1,1));r[b].applyMatrix4(f.makeRotationAxis(c,_))}o[b].crossVectors(a[b],r[b])}if(t===!0){let b=Math.acos(an(r[0].dot(r[e]),-1,1));b/=e,a[0].dot(c.crossVectors(r[0],r[e]))>0&&(b=-b);for(let _=1;_<=e;_++)r[_].applyMatrix4(f.makeRotationAxis(a[_],b*_)),o[_].crossVectors(a[_],r[_])}return{tangents:a,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class t1 extends Wo{constructor(e=0,t=0,i=1,a=1,r=0,o=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=c,this.aRotation=f}getPoint(e,t=new Xe){const i=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(o?r=0:r=a),this.aClockwise===!0&&!o&&(r===a?r=-a:r=r-a);const c=this.aStartAngle+e*r;let f=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=f-this.aX,b=d-this.aY;f=y*m-b*g+this.aX,d=y*g+b*m+this.aY}return i.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Tz extends t1{constructor(e,t,i,a,r,o){super(e,t,i,i,a,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function W2(){let n=0,e=0,t=0,i=0;function a(r,o,c,f){n=r,e=c,t=-3*r+3*o-2*c-f,i=2*r-2*o+c+f}return{initCatmullRom:function(r,o,c,f,d){a(o,c,d*(c-r),d*(f-o))},initNonuniformCatmullRom:function(r,o,c,f,d,m,g){let y=(o-r)/d-(c-r)/(d+m)+(c-o)/m,b=(c-o)/m-(f-o)/(m+g)+(f-c)/g;y*=m,b*=m,a(o,c,y,b)},calc:function(r){const o=r*r,c=o*r;return n+e*r+t*o+i*c}}}const hb=new $,vE=new W2,bE=new W2,_E=new W2;class Az extends Wo{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new $){const i=t,a=this.points,r=a.length,o=(r-(this.closed?0:1))*e;let c=Math.floor(o),f=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:f===0&&c===r-1&&(c=r-2,f=1);let d,m;this.closed||c>0?d=a[(c-1)%r]:(hb.subVectors(a[0],a[1]).add(a[0]),d=hb);const g=a[c%r],y=a[(c+1)%r];if(this.closed||c+2<r?m=a[(c+2)%r]:(hb.subVectors(a[r-1],a[r-2]).add(a[r-1]),m=hb),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let _=Math.pow(d.distanceToSquared(g),b),T=Math.pow(g.distanceToSquared(y),b),E=Math.pow(y.distanceToSquared(m),b);T<1e-4&&(T=1),_<1e-4&&(_=T),E<1e-4&&(E=T),vE.initNonuniformCatmullRom(d.x,g.x,y.x,m.x,_,T,E),bE.initNonuniformCatmullRom(d.y,g.y,y.y,m.y,_,T,E),_E.initNonuniformCatmullRom(d.z,g.z,y.z,m.z,_,T,E)}else this.curveType==="catmullrom"&&(vE.initCatmullRom(d.x,g.x,y.x,m.x,this.tension),bE.initCatmullRom(d.y,g.y,y.y,m.y,this.tension),_E.initCatmullRom(d.z,g.z,y.z,m.z,this.tension));return i.set(vE.calc(f),bE.calc(f),_E.calc(f)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new $().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function PN(n,e,t,i,a){const r=(i-e)*.5,o=(a-t)*.5,c=n*n,f=n*c;return(2*t-2*i+r+o)*f+(-3*t+3*i-2*r-o)*c+r*n+t}function pZ(n,e){const t=1-n;return t*t*e}function mZ(n,e){return 2*(1-n)*n*e}function gZ(n,e){return n*n*e}function qg(n,e,t,i){return pZ(n,e)+mZ(n,t)+gZ(n,i)}function xZ(n,e){const t=1-n;return t*t*t*e}function yZ(n,e){const t=1-n;return 3*t*t*n*e}function vZ(n,e){return 3*(1-n)*n*n*e}function bZ(n,e){return n*n*n*e}function Wg(n,e,t,i,a){return xZ(n,e)+yZ(n,t)+vZ(n,i)+bZ(n,a)}class Y2 extends Wo{constructor(e=new Xe,t=new Xe,i=new Xe,a=new Xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new Xe){const i=t,a=this.v0,r=this.v1,o=this.v2,c=this.v3;return i.set(Wg(e,a.x,r.x,o.x,c.x),Wg(e,a.y,r.y,o.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Cz extends Wo{constructor(e=new $,t=new $,i=new $,a=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new $){const i=t,a=this.v0,r=this.v1,o=this.v2,c=this.v3;return i.set(Wg(e,a.x,r.x,o.x,c.x),Wg(e,a.y,r.y,o.y,c.y),Wg(e,a.z,r.z,o.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class K2 extends Wo{constructor(e=new Xe,t=new Xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Xe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Xe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Rz extends Wo{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Z2 extends Wo{constructor(e=new Xe,t=new Xe,i=new Xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Xe){const i=t,a=this.v0,r=this.v1,o=this.v2;return i.set(qg(e,a.x,r.x,o.x),qg(e,a.y,r.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class J2 extends Wo{constructor(e=new $,t=new $,i=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new $){const i=t,a=this.v0,r=this.v1,o=this.v2;return i.set(qg(e,a.x,r.x,o.x),qg(e,a.y,r.y,o.y),qg(e,a.z,r.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Q2 extends Wo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Xe){const i=t,a=this.points,r=(a.length-1)*e,o=Math.floor(r),c=r-o,f=a[o===0?o:o-1],d=a[o],m=a[o>a.length-2?a.length-1:o+1],g=a[o>a.length-3?a.length-1:o+2];return i.set(PN(c,f.x,d.x,m.x,g.x),PN(c,f.y,d.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new Xe().fromArray(a))}return this}}var $_=Object.freeze({__proto__:null,ArcCurve:Tz,CatmullRomCurve3:Az,CubicBezierCurve:Y2,CubicBezierCurve3:Cz,EllipseCurve:t1,LineCurve:K2,LineCurve3:Rz,QuadraticBezierCurve:Z2,QuadraticBezierCurve3:J2,SplineCurve:Q2});class Nz extends Wo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new $_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=i){const o=a[r]-i,c=this.curves[r],f=c.getLength(),d=f===0?0:1-o/f;return c.getPointAt(d,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,r=this.curves;a<r.length;a++){const o=r[a],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,f=o.getPoints(c);for(let d=0;d<f.length;d++){const m=f[d];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new $_[a.type]().fromJSON(a))}return this}}class eS extends Nz{constructor(e){super(),this.type="Path",this.currentPoint=new Xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new K2(this.currentPoint.clone(),new Xe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const r=new Z2(this.currentPoint.clone(),new Xe(e,t),new Xe(i,a));return this.curves.push(r),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,r,o){const c=new Y2(this.currentPoint.clone(),new Xe(e,t),new Xe(i,a),new Xe(r,o));return this.curves.push(c),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Q2(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,r,o){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+c,t+f,i,a,r,o),this}absarc(e,t,i,a,r,o){return this.absellipse(e,t,i,i,a,r,o),this}ellipse(e,t,i,a,r,o,c,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,i,a,r,o,c,f),this}absellipse(e,t,i,a,r,o,c,f){const d=new t1(e,t,i,a,r,o,c,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Hd extends eS{constructor(e){super(e),this.uuid=Ns(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new eS().fromJSON(a))}return this}}function _Z(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let r=Dz(n,0,a,t,!0);const o=[];if(!r||r.next===r.prev)return o;let c,f,d;if(i&&(r=TZ(n,e,r,t)),n.length>80*t){c=n[0],f=n[1];let m=c,g=f;for(let y=t;y<a;y+=t){const b=n[y],_=n[y+1];b<c&&(c=b),_<f&&(f=_),b>m&&(m=b),_>g&&(g=_)}d=Math.max(m-c,g-f),d=d!==0?32767/d:0}return yx(r,o,t,c,f,d,0),o}function Dz(n,e,t,i,a){let r;if(a===BZ(n,e,t,i)>0)for(let o=e;o<t;o+=i)r=zN(o/i|0,n[o],n[o+1],r);else for(let o=t-i;o>=e;o-=i)r=zN(o/i|0,n[o],n[o+1],r);return r&&mm(r,r.next)&&(bx(r),r=r.next),r}function Yd(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(mm(t,t.next)||ji(t.prev,t,t.next)===0)){if(bx(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function yx(n,e,t,i,a,r,o){if(!n)return;!o&&r&&DZ(n,i,a,r);let c=n;for(;n.prev!==n.next;){const f=n.prev,d=n.next;if(r?MZ(n,i,a,r):SZ(n)){e.push(f.i,n.i,d.i),bx(n),n=d.next,c=d.next;continue}if(n=d,n===c){o?o===1?(n=EZ(Yd(n),e),yx(n,e,t,i,a,r,2)):o===2&&wZ(n,e,t,i,a,r):yx(Yd(n),e,t,i,a,r,1);break}}}function SZ(n){const e=n.prev,t=n,i=n.next;if(ji(e,t,i)>=0)return!1;const a=e.x,r=t.x,o=i.x,c=e.y,f=t.y,d=i.y,m=Math.min(a,r,o),g=Math.min(c,f,d),y=Math.max(a,r,o),b=Math.max(c,f,d);let _=i.next;for(;_!==e;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=b&&Og(a,c,r,f,o,d,_.x,_.y)&&ji(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function MZ(n,e,t,i){const a=n.prev,r=n,o=n.next;if(ji(a,r,o)>=0)return!1;const c=a.x,f=r.x,d=o.x,m=a.y,g=r.y,y=o.y,b=Math.min(c,f,d),_=Math.min(m,g,y),T=Math.max(c,f,d),E=Math.max(m,g,y),S=qw(b,_,e,t,i),R=qw(T,E,e,t,i);let D=n.prevZ,U=n.nextZ;for(;D&&D.z>=S&&U&&U.z<=R;){if(D.x>=b&&D.x<=T&&D.y>=_&&D.y<=E&&D!==a&&D!==o&&Og(c,m,f,g,d,y,D.x,D.y)&&ji(D.prev,D,D.next)>=0||(D=D.prevZ,U.x>=b&&U.x<=T&&U.y>=_&&U.y<=E&&U!==a&&U!==o&&Og(c,m,f,g,d,y,U.x,U.y)&&ji(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;D&&D.z>=S;){if(D.x>=b&&D.x<=T&&D.y>=_&&D.y<=E&&D!==a&&D!==o&&Og(c,m,f,g,d,y,D.x,D.y)&&ji(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;U&&U.z<=R;){if(U.x>=b&&U.x<=T&&U.y>=_&&U.y<=E&&U!==a&&U!==o&&Og(c,m,f,g,d,y,U.x,U.y)&&ji(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function EZ(n,e){let t=n;do{const i=t.prev,a=t.next.next;!mm(i,a)&&Lz(i,t,t.next,a)&&vx(i,a)&&vx(a,i)&&(e.push(i.i,t.i,a.i),bx(t),bx(t.next),t=n=a),t=t.next}while(t!==n);return Yd(t)}function wZ(n,e,t,i,a,r){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&UZ(o,c)){let f=Uz(o,c);o=Yd(o,o.next),f=Yd(f,f.next),yx(o,e,t,i,a,r,0),yx(f,e,t,i,a,r,0);return}c=c.next}o=o.next}while(o!==n)}function TZ(n,e,t,i){const a=[];for(let r=0,o=e.length;r<o;r++){const c=e[r]*i,f=r<o-1?e[r+1]*i:n.length,d=Dz(n,c,f,i,!1);d===d.next&&(d.steiner=!0),a.push(LZ(d))}a.sort(AZ);for(let r=0;r<a.length;r++)t=CZ(a[r],t);return t}function AZ(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function CZ(n,e){const t=RZ(n,e);if(!t)return e;const i=Uz(t,n);return Yd(i,i.next),Yd(t,t.next)}function RZ(n,e){let t=e;const i=n.x,a=n.y;let r=-1/0,o;if(mm(n,t))return t;do{if(mm(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const g=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>r&&(r=g,o=t.x<t.next.x?t:t.next,g===i))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,f=o.x,d=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=f&&i!==t.x&&Oz(a<d?i:r,a,f,d,a<d?r:i,a,t.x,t.y)){const g=Math.abs(a-t.y)/(i-t.x);vx(t,n)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&NZ(o,t)))&&(o=t,m=g)}t=t.next}while(t!==c);return o}function NZ(n,e){return ji(n.prev,n,e.prev)<0&&ji(e.next,n,n.next)<0}function DZ(n,e,t,i){let a=n;do a.z===0&&(a.z=qw(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,OZ(a)}function OZ(n){let e,t=1;do{let i=n,a;n=null;let r=null;for(e=0;i;){e++;let o=i,c=0;for(let d=0;d<t&&(c++,o=o.nextZ,!!o);d++);let f=t;for(;c>0||f>0&&o;)c!==0&&(f===0||!o||i.z<=o.z)?(a=i,i=i.nextZ,c--):(a=o,o=o.nextZ,f--),r?r.nextZ=a:n=a,a.prevZ=r,r=a;i=o}r.nextZ=null,t*=2}while(e>1);return n}function qw(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function LZ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Oz(n,e,t,i,a,r,o,c){return(a-o)*(e-c)>=(n-o)*(r-c)&&(n-o)*(i-c)>=(t-o)*(e-c)&&(t-o)*(r-c)>=(a-o)*(i-c)}function Og(n,e,t,i,a,r,o,c){return!(n===o&&e===c)&&Oz(n,e,t,i,a,r,o,c)}function UZ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!PZ(n,e)&&(vx(n,e)&&vx(e,n)&&zZ(n,e)&&(ji(n.prev,n,e.prev)||ji(n,e.prev,e))||mm(n,e)&&ji(n.prev,n,n.next)>0&&ji(e.prev,e,e.next)>0)}function ji(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function mm(n,e){return n.x===e.x&&n.y===e.y}function Lz(n,e,t,i){const a=mb(ji(n,e,t)),r=mb(ji(n,e,i)),o=mb(ji(t,i,n)),c=mb(ji(t,i,e));return!!(a!==r&&o!==c||a===0&&pb(n,t,e)||r===0&&pb(n,i,e)||o===0&&pb(t,n,i)||c===0&&pb(t,e,i))}function pb(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function mb(n){return n>0?1:n<0?-1:0}function PZ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Lz(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function vx(n,e){return ji(n.prev,n,n.next)<0?ji(n,e,n.next)>=0&&ji(n,n.prev,e)>=0:ji(n,e,n.prev)<0||ji(n,n.next,e)<0}function zZ(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Uz(n,e){const t=Ww(n.i,n.x,n.y),i=Ww(e.i,e.x,e.y),a=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function zN(n,e,t,i){const a=Ww(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function bx(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Ww(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function BZ(n,e,t,i){let a=0;for(let r=e,o=t-i;r<t;r+=i)a+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return a}class IZ{static triangulate(e,t,i=2){return _Z(e,t,i)}}class jo{static area(e){const t=e.length;let i=0;for(let a=t-1,r=0;r<t;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return i*.5}static isClockWise(e){return jo.area(e)<0}static triangulateShape(e,t){const i=[],a=[],r=[];BN(e),IN(i,e);let o=e.length;t.forEach(BN);for(let f=0;f<t.length;f++)a.push(o),o+=t[f].length,IN(i,t[f]);const c=IZ.triangulate(i,a);for(let f=0;f<c.length;f+=3)r.push(c.slice(f,f+3));return r}}function BN(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function IN(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class n1 extends mn{constructor(e=new Hd([new Xe(.5,.5),new Xe(-.5,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],r=[];for(let c=0,f=e.length;c<f;c++){const d=e[c];o(d)}this.setAttribute("position",new kt(a,3)),this.setAttribute("uv",new kt(r,2)),this.computeVertexNormals();function o(c){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:b-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:FZ;let D,U=!1,F,P,L,B;S&&(D=S.getSpacedPoints(m),U=!0,y=!1,F=S.computeFrenetFrames(m,!1),P=new $,L=new $,B=new $),y||(E=0,b=0,_=0,T=0);const I=c.extractPoints(d);let V=I.shape;const W=I.holes;if(!jo.isClockWise(V)){V=V.reverse();for(let ke=0,J=W.length;ke<J;ke++){const Ge=W[ke];jo.isClockWise(Ge)&&(W[ke]=Ge.reverse())}}function ne(ke){const Ge=10000000000000001e-36;let Ze=ke[0];for(let it=1;it<=ke.length;it++){const Ye=it%ke.length,dt=ke[Ye],st=dt.x-Ze.x,_t=dt.y-Ze.y,Q=st*st+_t*_t,j=Math.max(Math.abs(dt.x),Math.abs(dt.y),Math.abs(Ze.x),Math.abs(Ze.y)),be=Ge*j*j;if(Q<=be){ke.splice(Ye,1),it--;continue}Ze=dt}}ne(V),W.forEach(ne);const ie=W.length,oe=V;for(let ke=0;ke<ie;ke++){const J=W[ke];V=V.concat(J)}function H(ke,J,Ge){return J||ln("ExtrudeGeometry: vec does not exist"),ke.clone().addScaledVector(J,Ge)}const q=V.length;function G(ke,J,Ge){let Ze,it,Ye;const dt=ke.x-J.x,st=ke.y-J.y,_t=Ge.x-ke.x,Q=Ge.y-ke.y,j=dt*dt+st*st,be=dt*Q-st*_t;if(Math.abs(be)>Number.EPSILON){const Ue=Math.sqrt(j),Ie=Math.sqrt(_t*_t+Q*Q),Ne=J.x-st/Ue,Lt=J.y+dt/Ue,ft=Ge.x-Q/Ie,Ht=Ge.y+_t/Ie,Dt=((ft-Ne)*Q-(Ht-Lt)*_t)/(dt*Q-st*_t);Ze=Ne+dt*Dt-ke.x,it=Lt+st*Dt-ke.y;const ze=Ze*Ze+it*it;if(ze<=2)return new Xe(Ze,it);Ye=Math.sqrt(ze/2)}else{let Ue=!1;dt>Number.EPSILON?_t>Number.EPSILON&&(Ue=!0):dt<-Number.EPSILON?_t<-Number.EPSILON&&(Ue=!0):Math.sign(st)===Math.sign(Q)&&(Ue=!0),Ue?(Ze=-st,it=dt,Ye=Math.sqrt(j)):(Ze=dt,it=st,Ye=Math.sqrt(j/2))}return new Xe(Ze/Ye,it/Ye)}const ee=[];for(let ke=0,J=oe.length,Ge=J-1,Ze=ke+1;ke<J;ke++,Ge++,Ze++)Ge===J&&(Ge=0),Ze===J&&(Ze=0),ee[ke]=G(oe[ke],oe[Ge],oe[Ze]);const ue=[];let K,le=ee.concat();for(let ke=0,J=ie;ke<J;ke++){const Ge=W[ke];K=[];for(let Ze=0,it=Ge.length,Ye=it-1,dt=Ze+1;Ze<it;Ze++,Ye++,dt++)Ye===it&&(Ye=0),dt===it&&(dt=0),K[Ze]=G(Ge[Ze],Ge[Ye],Ge[dt]);ue.push(K),le=le.concat(K)}let _e;if(E===0)_e=jo.triangulateShape(oe,W);else{const ke=[],J=[];for(let Ge=0;Ge<E;Ge++){const Ze=Ge/E,it=b*Math.cos(Ze*Math.PI/2),Ye=_*Math.sin(Ze*Math.PI/2)+T;for(let dt=0,st=oe.length;dt<st;dt++){const _t=H(oe[dt],ee[dt],Ye);ct(_t.x,_t.y,-it),Ze===0&&ke.push(_t)}for(let dt=0,st=ie;dt<st;dt++){const _t=W[dt];K=ue[dt];const Q=[];for(let j=0,be=_t.length;j<be;j++){const Ue=H(_t[j],K[j],Ye);ct(Ue.x,Ue.y,-it),Ze===0&&Q.push(Ue)}Ze===0&&J.push(Q)}}_e=jo.triangulateShape(ke,J)}const Se=_e.length,je=_+T;for(let ke=0;ke<q;ke++){const J=y?H(V[ke],le[ke],je):V[ke];U?(L.copy(F.normals[0]).multiplyScalar(J.x),P.copy(F.binormals[0]).multiplyScalar(J.y),B.copy(D[0]).add(L).add(P),ct(B.x,B.y,B.z)):ct(J.x,J.y,0)}for(let ke=1;ke<=m;ke++)for(let J=0;J<q;J++){const Ge=y?H(V[J],le[J],je):V[J];U?(L.copy(F.normals[ke]).multiplyScalar(Ge.x),P.copy(F.binormals[ke]).multiplyScalar(Ge.y),B.copy(D[ke]).add(L).add(P),ct(B.x,B.y,B.z)):ct(Ge.x,Ge.y,g/m*ke)}for(let ke=E-1;ke>=0;ke--){const J=ke/E,Ge=b*Math.cos(J*Math.PI/2),Ze=_*Math.sin(J*Math.PI/2)+T;for(let it=0,Ye=oe.length;it<Ye;it++){const dt=H(oe[it],ee[it],Ze);ct(dt.x,dt.y,g+Ge)}for(let it=0,Ye=W.length;it<Ye;it++){const dt=W[it];K=ue[it];for(let st=0,_t=dt.length;st<_t;st++){const Q=H(dt[st],K[st],Ze);U?ct(Q.x,Q.y+D[m-1].y,D[m-1].x+Ge):ct(Q.x,Q.y,g+Ge)}}}ve(),pe();function ve(){const ke=a.length/3;if(y){let J=0,Ge=q*J;for(let Ze=0;Ze<Se;Ze++){const it=_e[Ze];gt(it[2]+Ge,it[1]+Ge,it[0]+Ge)}J=m+E*2,Ge=q*J;for(let Ze=0;Ze<Se;Ze++){const it=_e[Ze];gt(it[0]+Ge,it[1]+Ge,it[2]+Ge)}}else{for(let J=0;J<Se;J++){const Ge=_e[J];gt(Ge[2],Ge[1],Ge[0])}for(let J=0;J<Se;J++){const Ge=_e[J];gt(Ge[0]+q*m,Ge[1]+q*m,Ge[2]+q*m)}}i.addGroup(ke,a.length/3-ke,0)}function pe(){const ke=a.length/3;let J=0;Je(oe,J),J+=oe.length;for(let Ge=0,Ze=W.length;Ge<Ze;Ge++){const it=W[Ge];Je(it,J),J+=it.length}i.addGroup(ke,a.length/3-ke,1)}function Je(ke,J){let Ge=ke.length;for(;--Ge>=0;){const Ze=Ge;let it=Ge-1;it<0&&(it=ke.length-1);for(let Ye=0,dt=m+E*2;Ye<dt;Ye++){const st=q*Ye,_t=q*(Ye+1),Q=J+Ze+st,j=J+it+st,be=J+it+_t,Ue=J+Ze+_t;wt(Q,j,be,Ue)}}}function ct(ke,J,Ge){f.push(ke),f.push(J),f.push(Ge)}function gt(ke,J,Ge){$t(ke),$t(J),$t(Ge);const Ze=a.length/3,it=R.generateTopUV(i,a,Ze-3,Ze-2,Ze-1);Bt(it[0]),Bt(it[1]),Bt(it[2])}function wt(ke,J,Ge,Ze){$t(ke),$t(J),$t(Ze),$t(J),$t(Ge),$t(Ze);const it=a.length/3,Ye=R.generateSideWallUV(i,a,it-6,it-3,it-2,it-1);Bt(Ye[0]),Bt(Ye[1]),Bt(Ye[3]),Bt(Ye[1]),Bt(Ye[2]),Bt(Ye[3])}function $t(ke){a.push(f[ke*3+0]),a.push(f[ke*3+1]),a.push(f[ke*3+2])}function Bt(ke){r.push(ke.x),r.push(ke.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return VZ(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const c=t[e.shapes[r]];i.push(c)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new $_[a.type]().fromJSON(a)),new n1(i,e.options)}}const FZ={generateTopUV:function(n,e,t,i,a){const r=e[t*3],o=e[t*3+1],c=e[i*3],f=e[i*3+1],d=e[a*3],m=e[a*3+1];return[new Xe(r,o),new Xe(c,f),new Xe(d,m)]},generateSideWallUV:function(n,e,t,i,a,r){const o=e[t*3],c=e[t*3+1],f=e[t*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[a*3],b=e[a*3+1],_=e[a*3+2],T=e[r*3],E=e[r*3+1],S=e[r*3+2];return Math.abs(c-m)<Math.abs(o-d)?[new Xe(o,1-f),new Xe(d,1-g),new Xe(y,1-_),new Xe(T,1-S)]:[new Xe(c,1-f),new Xe(m,1-g),new Xe(b,1-_),new Xe(E,1-S)]}};function VZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class i1 extends gf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i1(e.radius,e.detail)}}class a1 extends mn{constructor(e=[new Xe(0,-.5),new Xe(.5,0),new Xe(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=an(a,0,Math.PI*2);const r=[],o=[],c=[],f=[],d=[],m=1/t,g=new $,y=new Xe,b=new $,_=new $,T=new $;let E=0,S=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:E=e[R+1].x-e[R].x,S=e[R+1].y-e[R].y,b.x=S*1,b.y=-E,b.z=S*0,T.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case e.length-1:f.push(T.x,T.y,T.z);break;default:E=e[R+1].x-e[R].x,S=e[R+1].y-e[R].y,b.x=S*1,b.y=-E,b.z=S*0,_.copy(b),b.x+=T.x,b.y+=T.y,b.z+=T.z,b.normalize(),f.push(b.x,b.y,b.z),T.copy(_)}for(let R=0;R<=t;R++){const D=i+R*m*a,U=Math.sin(D),F=Math.cos(D);for(let P=0;P<=e.length-1;P++){g.x=e[P].x*U,g.y=e[P].y,g.z=e[P].x*F,o.push(g.x,g.y,g.z),y.x=R/t,y.y=P/(e.length-1),c.push(y.x,y.y);const L=f[3*P+0]*U,B=f[3*P+1],I=f[3*P+0]*F;d.push(L,B,I)}}for(let R=0;R<t;R++)for(let D=0;D<e.length-1;D++){const U=D+R*e.length,F=U,P=U+e.length,L=U+e.length+1,B=U+1;r.push(F,P,B),r.push(L,B,P)}this.setIndex(r),this.setAttribute("position",new kt(o,3)),this.setAttribute("uv",new kt(c,2)),this.setAttribute("normal",new kt(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a1(e.points,e.segments,e.phiStart,e.phiLength)}}class Gx extends gf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gx(e.radius,e.detail)}}class Nm extends mn{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const r=e/2,o=t/2,c=Math.floor(i),f=Math.floor(a),d=c+1,m=f+1,g=e/c,y=t/f,b=[],_=[],T=[],E=[];for(let S=0;S<m;S++){const R=S*y-o;for(let D=0;D<d;D++){const U=D*g-r;_.push(U,-R,0),T.push(0,0,1),E.push(D/c),E.push(1-S/f)}}for(let S=0;S<f;S++)for(let R=0;R<c;R++){const D=R+d*S,U=R+d*(S+1),F=R+1+d*(S+1),P=R+1+d*S;b.push(D,U,P),b.push(U,F,P)}this.setIndex(b),this.setAttribute("position",new kt(_,3)),this.setAttribute("normal",new kt(T,3)),this.setAttribute("uv",new kt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nm(e.width,e.height,e.widthSegments,e.heightSegments)}}class r1 extends mn{constructor(e=.5,t=1,i=32,a=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:r,thetaLength:o},i=Math.max(3,i),a=Math.max(1,a);const c=[],f=[],d=[],m=[];let g=e;const y=(t-e)/a,b=new $,_=new Xe;for(let T=0;T<=a;T++){for(let E=0;E<=i;E++){const S=r+E/i*o;b.x=g*Math.cos(S),b.y=g*Math.sin(S),f.push(b.x,b.y,b.z),d.push(0,0,1),_.x=(b.x/t+1)/2,_.y=(b.y/t+1)/2,m.push(_.x,_.y)}g+=y}for(let T=0;T<a;T++){const E=T*(i+1);for(let S=0;S<i;S++){const R=S+E,D=R,U=R+i+1,F=R+i+2,P=R+1;c.push(D,U,P),c.push(U,F,P)}}this.setIndex(c),this.setAttribute("position",new kt(f,3)),this.setAttribute("normal",new kt(d,3)),this.setAttribute("uv",new kt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class s1 extends mn{constructor(e=new Hd([new Xe(0,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],r=[],o=[];let c=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(i),this.setAttribute("position",new kt(a,3)),this.setAttribute("normal",new kt(r,3)),this.setAttribute("uv",new kt(o,2));function d(m){const g=a.length/3,y=m.extractPoints(t);let b=y.shape;const _=y.holes;jo.isClockWise(b)===!1&&(b=b.reverse());for(let E=0,S=_.length;E<S;E++){const R=_[E];jo.isClockWise(R)===!0&&(_[E]=R.reverse())}const T=jo.triangulateShape(b,_);for(let E=0,S=_.length;E<S;E++){const R=_[E];b=b.concat(R)}for(let E=0,S=b.length;E<S;E++){const R=b[E];a.push(R.x,R.y,0),r.push(0,0,1),o.push(R.x,R.y)}for(let E=0,S=T.length;E<S;E++){const R=T[E],D=R[0]+g,U=R[1]+g,F=R[2]+g;i.push(D,U,F),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return kZ(t,e)}static fromJSON(e,t){const i=[];for(let a=0,r=e.shapes.length;a<r;a++){const o=t[e.shapes[a]];i.push(o)}return new s1(i,e.curveSegments)}}function kZ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class Xx extends mn{constructor(e=1,t=32,i=16,a=0,r=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const f=Math.min(o+c,Math.PI);let d=0;const m=[],g=new $,y=new $,b=[],_=[],T=[],E=[];for(let S=0;S<=i;S++){const R=[],D=S/i;let U=0;S===0&&o===0?U=.5/t:S===i&&f===Math.PI&&(U=-.5/t);for(let F=0;F<=t;F++){const P=F/t;g.x=-e*Math.cos(a+P*r)*Math.sin(o+D*c),g.y=e*Math.cos(o+D*c),g.z=e*Math.sin(a+P*r)*Math.sin(o+D*c),_.push(g.x,g.y,g.z),y.copy(g).normalize(),T.push(y.x,y.y,y.z),E.push(P+U,1-D),R.push(d++)}m.push(R)}for(let S=0;S<i;S++)for(let R=0;R<t;R++){const D=m[S][R+1],U=m[S][R],F=m[S+1][R],P=m[S+1][R+1];(S!==0||o>0)&&b.push(D,U,P),(S!==i-1||f<Math.PI)&&b.push(U,F,P)}this.setIndex(b),this.setAttribute("position",new kt(_,3)),this.setAttribute("normal",new kt(T,3)),this.setAttribute("uv",new kt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class o1 extends gf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new o1(e.radius,e.detail)}}class l1 extends mn{constructor(e=1,t=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const o=[],c=[],f=[],d=[],m=new $,g=new $,y=new $;for(let b=0;b<=i;b++)for(let _=0;_<=a;_++){const T=_/a*r,E=b/i*Math.PI*2;g.x=(e+t*Math.cos(E))*Math.cos(T),g.y=(e+t*Math.cos(E))*Math.sin(T),g.z=t*Math.sin(E),c.push(g.x,g.y,g.z),m.x=e*Math.cos(T),m.y=e*Math.sin(T),y.subVectors(g,m).normalize(),f.push(y.x,y.y,y.z),d.push(_/a),d.push(b/i)}for(let b=1;b<=i;b++)for(let _=1;_<=a;_++){const T=(a+1)*b+_-1,E=(a+1)*(b-1)+_-1,S=(a+1)*(b-1)+_,R=(a+1)*b+_;o.push(T,E,R),o.push(E,S,R)}this.setIndex(o),this.setAttribute("position",new kt(c,3)),this.setAttribute("normal",new kt(f,3)),this.setAttribute("uv",new kt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class c1 extends mn{constructor(e=1,t=.4,i=64,a=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:r,q:o},i=Math.floor(i),a=Math.floor(a);const c=[],f=[],d=[],m=[],g=new $,y=new $,b=new $,_=new $,T=new $,E=new $,S=new $;for(let D=0;D<=i;++D){const U=D/i*r*Math.PI*2;R(U,r,o,e,b),R(U+.01,r,o,e,_),E.subVectors(_,b),S.addVectors(_,b),T.crossVectors(E,S),S.crossVectors(T,E),T.normalize(),S.normalize();for(let F=0;F<=a;++F){const P=F/a*Math.PI*2,L=-t*Math.cos(P),B=t*Math.sin(P);g.x=b.x+(L*S.x+B*T.x),g.y=b.y+(L*S.y+B*T.y),g.z=b.z+(L*S.z+B*T.z),f.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),d.push(y.x,y.y,y.z),m.push(D/i),m.push(F/a)}}for(let D=1;D<=i;D++)for(let U=1;U<=a;U++){const F=(a+1)*(D-1)+(U-1),P=(a+1)*D+(U-1),L=(a+1)*D+U,B=(a+1)*(D-1)+U;c.push(F,P,B),c.push(P,L,B)}this.setIndex(c),this.setAttribute("position",new kt(f,3)),this.setAttribute("normal",new kt(d,3)),this.setAttribute("uv",new kt(m,2));function R(D,U,F,P,L){const B=Math.cos(D),I=Math.sin(D),V=F/U*D,W=Math.cos(V);L.x=P*(2+W)*.5*B,L.y=P*(2+W)*I*.5,L.z=P*Math.sin(V)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class u1 extends mn{constructor(e=new J2(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,i=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new $,f=new $,d=new Xe;let m=new $;const g=[],y=[],b=[],_=[];T(),this.setIndex(_),this.setAttribute("position",new kt(g,3)),this.setAttribute("normal",new kt(y,3)),this.setAttribute("uv",new kt(b,2));function T(){for(let D=0;D<t;D++)E(D);E(r===!1?t:0),R(),S()}function E(D){m=e.getPointAt(D/t,m);const U=o.normals[D],F=o.binormals[D];for(let P=0;P<=a;P++){const L=P/a*Math.PI*2,B=Math.sin(L),I=-Math.cos(L);f.x=I*U.x+B*F.x,f.y=I*U.y+B*F.y,f.z=I*U.z+B*F.z,f.normalize(),y.push(f.x,f.y,f.z),c.x=m.x+i*f.x,c.y=m.y+i*f.y,c.z=m.z+i*f.z,g.push(c.x,c.y,c.z)}}function S(){for(let D=1;D<=t;D++)for(let U=1;U<=a;U++){const F=(a+1)*(D-1)+(U-1),P=(a+1)*D+(U-1),L=(a+1)*D+U,B=(a+1)*(D-1)+U;_.push(F,P,B),_.push(P,L,B)}}function R(){for(let D=0;D<=t;D++)for(let U=0;U<=a;U++)d.x=D/t,d.y=U/a,b.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new u1(new $_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Pz extends mn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new $,r=new $;if(e.index!==null){const o=e.attributes.position,c=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],y=g.start,b=g.count;for(let _=y,T=y+b;_<T;_+=3)for(let E=0;E<3;E++){const S=c.getX(_+E),R=c.getX(_+(E+1)%3);a.fromBufferAttribute(o,S),r.fromBufferAttribute(o,R),FN(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let c=0,f=o.count/3;c<f;c++)for(let d=0;d<3;d++){const m=3*c+d,g=3*c+(d+1)%3;a.fromBufferAttribute(o,m),r.fromBufferAttribute(o,g),FN(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new kt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function FN(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var VN=Object.freeze({__proto__:null,BoxGeometry:ih,CapsuleGeometry:QS,CircleGeometry:$S,ConeGeometry:jx,CylinderGeometry:Hx,DodecahedronGeometry:e1,EdgesGeometry:wz,ExtrudeGeometry:n1,IcosahedronGeometry:i1,LatheGeometry:a1,OctahedronGeometry:Gx,PlaneGeometry:Nm,PolyhedronGeometry:gf,RingGeometry:r1,ShapeGeometry:s1,SphereGeometry:Xx,TetrahedronGeometry:o1,TorusGeometry:l1,TorusKnotGeometry:c1,TubeGeometry:u1,WireframeGeometry:Pz});class zz extends br{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Bz extends uo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $2 extends br{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Iz extends $2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return an(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Nt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Fz extends br{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Nt(16777215),this.specular=new Nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Vz extends br{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class kz extends br{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Hz extends br{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eA extends br{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Q4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class tA extends br{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class jz extends br{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pf,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Gz extends Xr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Pd(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Xz(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function qz(n){function e(a,r){return n[a]-n[r]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function Yw(n,e,t){const i=n.length,a=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const c=t[r]*e;for(let f=0;f!==e;++f)a[o++]=n[c+f]}return a}function nA(n,e,t,i){let a=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[a++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(e.push(r.time),t.push(...o)),r=n[a++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(e.push(r.time),o.toArray(t,t.length)),r=n[a++];while(r!==void 0);else do o=r[i],o!==void 0&&(e.push(r.time),t.push(o)),r=n[a++];while(r!==void 0)}function HZ(n,e,t,i,a=30){const r=n.clone();r.name=e;const o=[];for(let f=0;f<r.tracks.length;++f){const d=r.tracks[f],m=d.getValueSize(),g=[],y=[];for(let b=0;b<d.times.length;++b){const _=d.times[b]*a;if(!(_<t||_>=i)){g.push(d.times[b]);for(let T=0;T<m;++T)y.push(d.values[b*m+T])}}g.length!==0&&(d.times=Pd(g,d.times.constructor),d.values=Pd(y,d.values.constructor),o.push(d))}r.tracks=o;let c=1/0;for(let f=0;f<r.tracks.length;++f)c>r.tracks[f].times[0]&&(c=r.tracks[f].times[0]);for(let f=0;f<r.tracks.length;++f)r.tracks[f].shift(-1*c);return r.resetDuration(),r}function jZ(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,r=e/i;for(let o=0;o<a;++o){const c=t.tracks[o],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const d=n.tracks.find(function(S){return S.name===c.name&&S.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const _=c.times.length-1;let T;if(r<=c.times[0]){const S=m,R=g-m;T=c.values.slice(S,R)}else if(r>=c.times[_]){const S=_*g+m,R=S+g-m;T=c.values.slice(S,R)}else{const S=c.createInterpolant(),R=m,D=g-m;S.evaluate(r),T=S.resultBuffer.slice(R,D)}f==="quaternion"&&new ls().fromArray(T).normalize().conjugate().toArray(T);const E=d.times.length;for(let S=0;S<E;++S){const R=S*b+y;if(f==="quaternion")ls.multiplyQuaternionsFlat(d.values,R,T,0,d.values,R);else{const D=b-y*2;for(let U=0;U<D;++U)d.values[R+U]-=T[U]}}}return n.blendMode=z2,n}class GZ{static convertArray(e,t){return Pd(e,t)}static isTypedArray(e){return Xz(e)}static getKeyframeOrder(e){return qz(e)}static sortedArray(e,t,i){return Yw(e,t,i)}static flattenJSON(e,t,i,a){nA(e,t,i,a)}static subclip(e,t,i,a,r=30){return HZ(e,t,i,a,r)}static makeClipAdditive(e,t=0,i=e,a=30){return jZ(e,t,i,a)}}class qx{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],r=t[i-1];e:{t:{let o;n:{i:if(!(e<a)){for(let c=i+2;;){if(a===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(r=a,a=t[++i],e<a)break t}o=t.length;break n}if(!(e>=r)){const c=t[1];e<c&&(i=2,r=c);for(let f=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(a=r,r=t[--i-1],e>=r)break t}o=i,i=0;break n}break e}for(;i<o;){const c=i+o>>>1;e<t[c]?o=c:i=c+1}if(a=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,a)}return this.interpolate_(i,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a;for(let o=0;o!==a;++o)t[o]=i[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Wz extends qx{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ld,endingEnd:Ld}}intervalChanged_(e,t,i){const a=this.parameterPositions;let r=e-2,o=e+1,c=a[r],f=a[o];if(c===void 0)switch(this.getSettings_().endingStart){case Ud:r=e,c=2*t-i;break;case hx:r=a.length-2,c=t+a[r]-a[r+1];break;default:r=e,c=i}if(f===void 0)switch(this.getSettings_().endingEnd){case Ud:o=e,f=2*i-t;break;case hx:o=1,f=i+a[1]-a[0];break;default:o=e-1,f=t}const d=(i-t)*.5,m=this.valueSize;this._weightPrev=d/(t-c),this._weightNext=d/(f-i),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(e,t,i,a){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,d=f-c,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,_=(i-t)/(a-t),T=_*_,E=T*_,S=-y*E+2*y*T-y*_,R=(1+y)*E+(-1.5-2*y)*T+(-.5+y)*_+1,D=(-1-b)*E+(1.5+b)*T+.5*_,U=b*E-b*T;for(let F=0;F!==c;++F)r[F]=S*o[m+F]+R*o[d+F]+D*o[f+F]+U*o[g+F];return r}}class iA extends qx{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,d=f-c,m=(i-t)/(a-t),g=1-m;for(let y=0;y!==c;++y)r[y]=o[d+y]*g+o[f+y]*m;return r}}class Yz extends qx{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class ho{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pd(t,this.TimeBufferType),this.values=Pd(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Pd(e.times,Array),values:Pd(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Yz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new iA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Wz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case dx:t=this.InterpolantFactoryMethodDiscrete;break;case Z_:t=this.InterpolantFactoryMethodLinear;break;case jb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return vt("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dx;case this.InterpolantFactoryMethodLinear:return Z_;case this.InterpolantFactoryMethodSmooth:return jb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let r=0,o=a-1;for(;r!==a&&i[r]<e;)++r;for(;o!==-1&&i[o]>t;)--o;if(++o,r!==0||o!==a){r>=o&&(o=Math.max(o,1),r=o-1);const c=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(ln("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,r=i.length;r===0&&(ln("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==r;c++){const f=i[c];if(typeof f=="number"&&isNaN(f)){ln("KeyframeTrack: Time is not a valid number.",this,c,f),e=!1;break}if(o!==null&&o>f){ln("KeyframeTrack: Out of order keys.",this,c,f,o),e=!1;break}o=f}if(a!==void 0&&Xz(a))for(let c=0,f=a.length;c!==f;++c){const d=a[c];if(isNaN(d)){ln("KeyframeTrack: Value is not a valid number.",this,c,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===jb,r=e.length-1;let o=1;for(let c=1;c<r;++c){let f=!1;const d=e[c],m=e[c+1];if(d!==m&&(c!==1||d!==e[0]))if(a)f=!0;else{const g=c*i,y=g-i,b=g+i;for(let _=0;_!==i;++_){const T=t[g+_];if(T!==t[y+_]||T!==t[b+_]){f=!0;break}}}if(f){if(c!==o){e[o]=e[c];const g=c*i,y=o*i;for(let b=0;b!==i;++b)t[y+b]=t[g+b]}++o}}if(r>0){e[o]=e[r];for(let c=r*i,f=o*i,d=0;d!==i;++d)t[f+d]=t[c+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}ho.prototype.ValueTypeName="";ho.prototype.TimeBufferType=Float32Array;ho.prototype.ValueBufferType=Float32Array;ho.prototype.DefaultInterpolation=Z_;class ah extends ho{constructor(e,t,i){super(e,t,i)}}ah.prototype.ValueTypeName="bool";ah.prototype.ValueBufferType=Array;ah.prototype.DefaultInterpolation=dx;ah.prototype.InterpolantFactoryMethodLinear=void 0;ah.prototype.InterpolantFactoryMethodSmooth=void 0;class aA extends ho{constructor(e,t,i,a){super(e,t,i,a)}}aA.prototype.ValueTypeName="color";class _x extends ho{constructor(e,t,i,a){super(e,t,i,a)}}_x.prototype.ValueTypeName="number";class Kz extends qx{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=(i-t)/(a-t);let d=e*c;for(let m=d+c;d!==m;d+=4)ls.slerpFlat(r,0,o,d-c,o,d,f);return r}}class Wx extends ho{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new Kz(this.times,this.values,this.getValueSize(),e)}}Wx.prototype.ValueTypeName="quaternion";Wx.prototype.InterpolantFactoryMethodSmooth=void 0;class rh extends ho{constructor(e,t,i){super(e,t,i)}}rh.prototype.ValueTypeName="string";rh.prototype.ValueBufferType=Array;rh.prototype.DefaultInterpolation=dx;rh.prototype.InterpolantFactoryMethodLinear=void 0;rh.prototype.InterpolantFactoryMethodSmooth=void 0;class Sx extends ho{constructor(e,t,i,a){super(e,t,i,a)}}Sx.prototype.ValueTypeName="vector";class Mx{constructor(e="",t=-1,i=[],a=kS){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=Ns(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let o=0,c=i.length;o!==c;++o)t.push(qZ(i[o]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,o=i.length;r!==o;++r)t.push(ho.toJSON(i[r]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const r=t.length,o=[];for(let c=0;c<r;c++){let f=[],d=[];f.push((c+r-1)%r,c,(c+1)%r),d.push(0,1,0);const m=qz(f);f=Yw(f,1,m),d=Yw(d,1,m),!a&&f[0]===0&&(f.push(r),d.push(d[0])),o.push(new _x(".morphTargetInfluences["+t[c].name+"]",f,d).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},r=/^([\w-]*?)([\d]+)$/;for(let c=0,f=e.length;c<f;c++){const d=e[c],m=d.name.match(r);if(m&&m.length>1){const g=m[1];let y=a[g];y||(a[g]=y=[]),y.push(d)}}const o=[];for(const c in a)o.push(this.CreateFromMorphTargetSequence(c,a[c],t,i));return o}static parseAnimation(e,t){if(vt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return ln("AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,_,T){if(b.length!==0){const E=[],S=[];nA(b,E,S,_),E.length!==0&&T.push(new g(y,E,S))}},a=[],r=e.name||"default",o=e.fps||30,c=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const y=d[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let T=0;T<y[_].morphTargets.length;T++)b[y[_].morphTargets[T]]=-1;for(const T in b){const E=[],S=[];for(let R=0;R!==y[_].morphTargets.length;++R){const D=y[_];E.push(D.time),S.push(D.morphTarget===T?1:0)}a.push(new _x(".morphTargetInfluence["+T+"]",E,S))}f=b.length*o}else{const b=".bones["+t[g].name+"]";i(Sx,b+".position",y,"pos",a),i(Wx,b+".quaternion",y,"rot",a),i(Sx,b+".scale",y,"scl",a)}}return a.length===0?null:new this(r,f,a,c)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function XZ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _x;case"vector":case"vector2":case"vector3":case"vector4":return Sx;case"color":return aA;case"quaternion":return Wx;case"bool":case"boolean":return ah;case"string":return rh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function qZ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=XZ(n.type);if(n.times===void 0){const t=[],i=[];nA(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Pl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class rA{constructor(e,t,i){const a=this;let r=!1,o=0,c=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(m){c++,r===!1&&a.onStart!==void 0&&a.onStart(m,o,c),r=!0},this.itemEnd=function(m){o++,a.onProgress!==void 0&&a.onProgress(m,o,c),o===c&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=d.length;g<y;g+=2){const b=d[g],_=d[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Zz=new rA;class fs{constructor(e){this.manager=e!==void 0?e:Zz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,r){i.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}fs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Oc={};class WZ extends Error{constructor(e,t){super(e),this.response=t}}class Wc extends fs{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Pl.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Oc[e]!==void 0){Oc[e].push({onLoad:t,onProgress:i,onError:a});return}Oc[e]=[],Oc[e].push({onLoad:t,onProgress:i,onError:a});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,f=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&vt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=Oc[e],g=d.body.getReader(),y=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=y?parseInt(y):0,_=b!==0;let T=0;const E=new ReadableStream({start(S){R();function R(){g.read().then(({done:D,value:U})=>{if(D)S.close();else{T+=U.byteLength;const F=new ProgressEvent("progress",{lengthComputable:_,loaded:T,total:b});for(let P=0,L=m.length;P<L;P++){const B=m[P];B.onProgress&&B.onProgress(F)}S.enqueue(U),R()}},D=>{S.error(D)})}}});return new Response(E)}else throw new WZ(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return d.json();default:if(c==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return d.arrayBuffer().then(_=>b.decode(_))}}}).then(d=>{Pl.add(`file:${e}`,d);const m=Oc[e];delete Oc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(d)}}).catch(d=>{const m=Oc[e];if(m===void 0)throw this.manager.itemError(e),d;delete Oc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class YZ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Wc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(f){a?a(f):ln(f),r.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=Mx.parse(e[i]);t.push(a)}return t}}class KZ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=this,o=[],c=new JS,f=new Wc(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(r.withCredentials);let d=0;function m(g){f.load(e[g],function(y){const b=r.parse(y,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(c.minFilter=la),c.image=o,c.format=b.format,c.needsUpdate=!0,t&&t(c))},i,a)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else f.load(e,function(g){const y=r.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let _=0;_<b;_++){o[_]={mipmaps:[]};for(let T=0;T<y.mipmapCount;T++)o[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+T]),o[_].format=y.format,o[_].width=y.width,o[_].height=y.height}c.image=o}else c.image.width=y.width,c.image.height=y.height,c.mipmaps=y.mipmaps;y.mipmapCount===1&&(c.minFilter=la),c.format=y.format,c.needsUpdate=!0,t&&t(c)},i,a);return c}}const Op=new WeakMap;class Ex extends fs{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Pl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0);else{let g=Op.get(o);g===void 0&&(g=[],Op.set(o,g)),g.push({onLoad:t,onError:a})}return o}const c=gx("img");function f(){m(),t&&t(this);const g=Op.get(this)||[];for(let y=0;y<g.length;y++){const b=g[y];b.onLoad&&b.onLoad(this)}Op.delete(this),r.manager.itemEnd(e)}function d(g){m(),a&&a(g),Pl.remove(`image:${e}`);const y=Op.get(this)||[];for(let b=0;b<y.length;b++){const _=y[b];_.onError&&_.onError(g)}Op.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",d,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),Pl.add(`image:${e}`,c),r.manager.itemStart(e),c.src=e,c}}class ZZ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=new kx;r.colorSpace=mr;const o=new Ex(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function f(d){o.load(e[d],function(m){r.images[d]=m,c++,c===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let d=0;d<e.length;++d)f(d);return r}}class JZ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Go,c=new Wc(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(r.withCredentials),c.load(e,function(f){let d;try{d=r.parse(f)}catch(m){if(a!==void 0)a(m);else{m(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:ss,o.wrapT=d.wrapT!==void 0?d.wrapT:ss,o.magFilter=d.magFilter!==void 0?d.magFilter:la,o.minFilter=d.minFilter!==void 0?d.minFilter:la,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Ul),d.mipmapCount===1&&(o.minFilter=la),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,t&&t(o,d)},i,a),o}}class QZ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=new Ji,o=new Ex(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){r.image=c,r.needsUpdate=!0,t!==void 0&&t(r)},i,a),r}}class xf extends Kn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Nt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class Jz extends xf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Nt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const SE=new rn,kN=new $,HN=new $;class sA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xe(512,512),this.mapType=co,this.map=null,this.mapPass=null,this.matrix=new rn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Rm,this._frameExtents=new Xe(1,1),this._viewportCount=1,this._viewports=[new Yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;kN.setFromMatrixPosition(e.matrixWorld),t.position.copy(kN),HN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(HN),t.updateMatrixWorld(),SE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SE,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(SE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $Z extends sA{constructor(){super(new Va(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=fm*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Qz extends xf{constructor(e,t,i=0,a=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.target=new Kn,this.distance=i,this.angle=a,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new $Z}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const jN=new rn,Mg=new $,ME=new $;class eJ extends sA{constructor(){super(new Va(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Xe(4,2),this._viewportCount=6,this._viewports=[new Yn(2,1,1,1),new Yn(0,1,1,1),new Yn(3,1,1,1),new Yn(1,1,1,1),new Yn(3,0,1,1),new Yn(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,a=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Mg.setFromMatrixPosition(e.matrixWorld),i.position.copy(Mg),ME.copy(i.position),ME.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(ME),i.updateMatrixWorld(),a.makeTranslation(-Mg.x,-Mg.y,-Mg.z),jN.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jN,i.coordinateSystem,i.reversedDepth)}}class $z extends xf{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new eJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Yx extends GS{constructor(e=-1,t=1,i=1,a=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,o=i+e,c=a+t,f=a-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=d*this.view.offsetX,o=r+d*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,c,f,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class tJ extends sA{constructor(){super(new Yx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class e5 extends xf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.target=new Kn,this.shadow=new tJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class t5 extends xf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class n5 extends xf{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class i5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*a),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*a)),t.addScaledVector(o[5],1.092548*(a*r)),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],1.092548*(i*r)),t.addScaledVector(o[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*a),t.addScaledVector(o[2],2*.511664*r),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*a),t.addScaledVector(o[5],2*.429043*a*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],2*.429043*i*r),t.addScaledVector(o[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-a*a)}}class a5 extends xf{constructor(e=new i5,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class f1 extends fs{constructor(e){super(e),this.textures={}}load(e,t,i,a){const r=this,o=new Wc(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(f){a?a(f):ln(f),r.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&vt("MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new Nt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(a.uniforms[r]={},o.type){case"t":a.uniforms[r].value=i(o.value);break;case"c":a.uniforms[r].value=new Nt().setHex(o.value);break;case"v2":a.uniforms[r].value=new Xe().fromArray(o.value);break;case"v3":a.uniforms[r].value=new $().fromArray(o.value);break;case"v4":a.uniforms[r].value=new Yn().fromArray(o.value);break;case"m3":a.uniforms[r].value=new pn().fromArray(o.value);break;case"m4":a.uniforms[r].value=new rn().fromArray(o.value);break;default:a.uniforms[r].value=o.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new Xe().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return f1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:zz,SpriteMaterial:j2,RawShaderMaterial:Bz,ShaderMaterial:uo,PointsMaterial:ZS,MeshPhysicalMaterial:Iz,MeshStandardMaterial:$2,MeshPhongMaterial:Fz,MeshToonMaterial:Vz,MeshNormalMaterial:kz,MeshLambertMaterial:Hz,MeshDepthMaterial:eA,MeshDistanceMaterial:tA,MeshBasicMaterial:mf,MeshMatcapMaterial:jz,LineDashedMaterial:Gz,LineBasicMaterial:Xr,Material:br};return new t[e]}}class Kw{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class r5 extends mn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class s5 extends fs{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Wc(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(f){a?a(f):ln(f),r.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(b,_){if(t[_]!==void 0)return t[_];const E=b.interleavedBuffers[_],S=r(b,E.buffer),R=Wp(E.type,S),D=new WS(R,E.stride);return D.uuid=E.uuid,t[_]=D,D}function r(b,_){if(i[_]!==void 0)return i[_];const E=b.arrayBuffers[_],S=new Uint32Array(E).buffer;return i[_]=S,S}const o=e.isInstancedBufferGeometry?new r5:new mn,c=e.data.index;if(c!==void 0){const b=Wp(c.type,c.array);o.setIndex(new gi(b,1))}const f=e.data.attributes;for(const b in f){const _=f[b];let T;if(_.isInterleavedBufferAttribute){const E=a(e.data,_.data);T=new Wd(E,_.itemSize,_.offset,_.normalized)}else{const E=Wp(_.type,_.array),S=_.isInstancedBufferAttribute?pm:gi;T=new S(E,_.itemSize,_.normalized)}_.name!==void 0&&(T.name=_.name),_.usage!==void 0&&T.setUsage(_.usage),o.setAttribute(b,T)}const d=e.data.morphAttributes;if(d)for(const b in d){const _=d[b],T=[];for(let E=0,S=_.length;E<S;E++){const R=_[E];let D;if(R.isInterleavedBufferAttribute){const U=a(e.data,R.data);D=new Wd(U,R.itemSize,R.offset,R.normalized)}else{const U=Wp(R.type,R.array);D=new gi(U,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),T.push(D)}o.morphAttributes[b]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,_=g.length;b!==_;++b){const T=g[b];o.addGroup(T.start,T.count,T.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new Ja().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class nJ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=this,o=this.path===""?Kw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new Wc(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){a!==void 0&&a(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),ln("ObjectLoader: Can't load "+e);return}r.parse(d,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?Kw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new Wc(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),c=JSON.parse(o),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(c)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),o=this.parseImages(e.images,function(){t!==void 0&&t(d)}),c=this.parseTextures(e.textures,o),f=this.parseMaterials(e.materials,c),d=this.parseObject(e.object,r,f,c,i),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),t!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),c=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,a,c,o,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const r=new Hd().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=new YS().fromJSON(e[r],a);i[c.uuid]=c}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new s5;for(let r=0,o=e.length;r<o;r++){let c;const f=e[r];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=a.parse(f);break;default:f.type in VN?c=VN[f.type].fromJSON(f,t):vt(`ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),i[f.uuid]=c}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const r=new f1;r.setTextures(t);for(let o=0,c=e.length;o<c;o++){const f=e[o];i[f.uuid]===void 0&&(i[f.uuid]=r.parse(f)),a[f.uuid]=i[f.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],r=Mx.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const i=this,a={};let r;function o(f){return i.manager.itemStart(f),r.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(m)}else return f.data?{data:Wp(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new rA(t);r=new Ex(f),r.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],y=g.url;if(Array.isArray(y)){const b=[];for(let _=0,T=y.length;_<T;_++){const E=y[_],S=c(E);S!==null&&(S instanceof HTMLImageElement?b.push(S):b.push(new Go(S.data,S.width,S.height)))}a[g.uuid]=new Zu(b)}else{const b=c(g.url);a[g.uuid]=new Zu(b)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function r(o){if(typeof o=="string"){const c=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await a.loadAsync(f)}else return o.data?{data:Wp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){a=new Ex(this.manager),a.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const f=e[o],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g],_=await r(b);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new Go(_.data,_.width,_.height)))}i[f.uuid]=new Zu(m)}else{const m=await r(f.url);i[f.uuid]=new Zu(m)}}}return i}parseTextures(e,t){function i(r,o){return typeof r=="number"?r:(vt("ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const a={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=e[r];c.image===void 0&&vt('ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&vt("ObjectLoader: Undefined image",c.image);const f=t[c.image],d=f.data;let m;Array.isArray(d)?(m=new kx,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new Go:m=new Ji,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,iJ)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],GN),m.wrapT=i(c.wrap[1],GN)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,XN)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,XN)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),a[c.uuid]=m}return a}parseObject(e,t,i,a,r){let o;function c(y){return t[y]===void 0&&vt("ObjectLoader: Undefined geometry",y),t[y]}function f(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let _=0,T=y.length;_<T;_++){const E=y[_];i[E]===void 0&&vt("ObjectLoader: Undefined material",E),b.push(i[E])}return b}return i[y]===void 0&&vt("ObjectLoader: Undefined material",y),i[y]}}function d(y){return a[y]===void 0&&vt("ObjectLoader: Undefined texture",y),a[y]}let m,g;switch(e.type){case"Scene":o=new H2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Nt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new qS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new XS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Va(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Yx(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new t5(e.color,e.intensity);break;case"DirectionalLight":o=new e5(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new $z(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new n5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Qz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Jz(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new a5().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=f(e.material),o=new vz(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=f(e.material),o=new Aa(m,g);break;case"InstancedMesh":m=c(e.geometry),g=f(e.material);const y=e.count,b=e.instanceMatrix,_=e.instanceColor;o=new bz(m,g,y),o.instanceMatrix=new pm(new Float32Array(b.array),16),_!==void 0&&(o.instanceColor=new pm(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=c(e.geometry),g=f(e.material),o=new _z(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(T=>{let E=null,S=null;return T.boundingBox!==void 0&&(E=new vr().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(S=new Ja().fromJSON(T.boundingSphere)),{...T,boundingBox:E,boundingSphere:S}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Ja().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new vr().fromJSON(e.boundingBox));break;case"LOD":o=new yz;break;case"Line":o=new of(c(e.geometry),f(e.material));break;case"LineLoop":o=new Sz(c(e.geometry),f(e.material));break;case"LineSegments":o=new Zl(c(e.geometry),f(e.material));break;case"PointCloud":case"Points":o=new Mz(c(e.geometry),f(e.material));break;case"Sprite":o=new xz(f(e.material));break;case"Group":o=new Yp;break;case"Bone":o=new G2;break;default:o=new Kn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],t,i,a,r))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const _=y[b];o.animations.push(r[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const _=y[b],T=o.getObjectByProperty("uuid",_.object);T!==void 0&&o.addLevel(T,_.distance,_.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?vt("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new Kn}})}}const iJ={UVMapping:LS,CubeReflectionMapping:Xc,CubeRefractionMapping:af,EquirectangularReflectionMapping:lx,EquirectangularRefractionMapping:cx,CubeUVReflectionMapping:Am},GN={RepeatWrapping:ux,ClampToEdgeWrapping:ss,MirroredRepeatWrapping:fx},XN={NearestFilter:Za,NearestMipmapNearestFilter:R2,NearestMipmapLinearFilter:qp,LinearFilter:la,LinearMipmapNearestFilter:Vg,LinearMipmapLinearFilter:Ul},EE=new WeakMap;class aJ extends fs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&vt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&vt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Pl.get(`image-bitmap:${e}`);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(d=>{if(EE.has(o)===!0)a&&a(EE.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(d),r.manager.itemEnd(e),d});return}return setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const f=fetch(e,c).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){return Pl.add(`image-bitmap:${e}`,d),t&&t(d),r.manager.itemEnd(e),d}).catch(function(d){a&&a(d),EE.set(f,d),Pl.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});Pl.add(`image-bitmap:${e}`,f),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let gb;class oA{static getContext(){return gb===void 0&&(gb=new(window.AudioContext||window.webkitAudioContext)),gb}static setContext(e){gb=e}}class rJ extends fs{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Wc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{const d=f.slice(0);oA.getContext().decodeAudioData(d,function(g){t(g)}).catch(c)}catch(d){c(d)}},i,a);function c(f){a?a(f):ln(f),r.manager.itemError(e)}}}const qN=new rn,WN=new rn,yd=new rn;class sJ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Va,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Va,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,yd.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,o=t.near*Math.tan(kd*t.fov*.5)/t.zoom;let c,f;WN.elements[12]=-a,qN.elements[12]=a,c=-o*t.aspect+r,f=o*t.aspect+r,yd.elements[0]=2*t.near/(f-c),yd.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(yd),c=-o*t.aspect-r,f=o*t.aspect-r,yd.elements[0]=2*t.near/(f-c),yd.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(yd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(WN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qN)}}class o5 extends Va{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class lA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const vd=new $,wE=new ls,oJ=new $,bd=new $,_d=new $;class lJ extends Kn{constructor(){super(),this.type="AudioListener",this.context=oA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new lA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vd,wE,oJ),bd.set(0,0,-1).applyQuaternion(wE),_d.set(0,1,0).applyQuaternion(wE),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(vd.x,i),t.positionY.linearRampToValueAtTime(vd.y,i),t.positionZ.linearRampToValueAtTime(vd.z,i),t.forwardX.linearRampToValueAtTime(bd.x,i),t.forwardY.linearRampToValueAtTime(bd.y,i),t.forwardZ.linearRampToValueAtTime(bd.z,i),t.upX.linearRampToValueAtTime(_d.x,i),t.upY.linearRampToValueAtTime(_d.y,i),t.upZ.linearRampToValueAtTime(_d.z,i)}else t.setPosition(vd.x,vd.y,vd.z),t.setOrientation(bd.x,bd.y,bd.z,_d.x,_d.y,_d.z)}}class l5 extends Kn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){vt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){vt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){vt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){vt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){vt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(vt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){vt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(vt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Sd=new $,YN=new ls,cJ=new $,Md=new $;class uJ extends l5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Sd,YN,cJ),Md.set(0,0,1).applyQuaternion(YN);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Sd.x,i),t.positionY.linearRampToValueAtTime(Sd.y,i),t.positionZ.linearRampToValueAtTime(Sd.z,i),t.orientationX.linearRampToValueAtTime(Md.x,i),t.orientationY.linearRampToValueAtTime(Md.y,i),t.orientationZ.linearRampToValueAtTime(Md.z,i)}else t.setPosition(Sd.x,Sd.y,Sd.z),t.setOrientation(Md.x,Md.y,Md.z)}}class fJ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class c5{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,r,o;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,r=e*a+a;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==a;++c)i[r+c]=i[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(i,r,0,c,a)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const f=t*this._origIndex;this._mixBufferRegion(i,a,f,1-r,t)}o>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(i[f]!==i[f+t]){c.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let r=i,o=a;r!==o;++r)t[r]=t[a+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,r){if(a>=.5)for(let o=0;o!==r;++o)e[t+o]=e[i+o]}_slerp(e,t,i,a){ls.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,r){const o=this._workIndex*r;ls.multiplyQuaternionsFlat(e,o,e,t,e,i),ls.slerpFlat(e,t,e,t,e,o,a)}_lerp(e,t,i,a,r){const o=1-a;for(let c=0;c!==r;++c){const f=t+c;e[f]=e[f]*o+e[i+c]*a}}_lerpAdditive(e,t,i,a,r){for(let o=0;o!==r;++o){const c=t+o;e[c]=e[c]+e[i+o]*a}}}const cA="\\[\\]\\.:\\/",dJ=new RegExp("["+cA+"]","g"),uA="[^"+cA+"]",hJ="[^"+cA.replace("\\.","")+"]",pJ=/((?:WC+[\/:])*)/.source.replace("WC",uA),mJ=/(WCOD+)?/.source.replace("WCOD",hJ),gJ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uA),xJ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uA),yJ=new RegExp("^"+pJ+mJ+gJ+xJ+"$"),vJ=["material","materials","bones","map"];class bJ{constructor(e,t,i){const a=i||Wn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=i.length;a!==r;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Wn{constructor(e,t,i){this.path=t,this.parsedPath=i||Wn.parseTrackName(t),this.node=Wn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Wn.Composite(e,t,i):new Wn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(dJ,"")}static parseTrackName(e){const t=yJ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=i.nodeName.substring(a+1);vJ.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let o=0;o<r.length;o++){const c=r[o];if(c.name===t||c.uuid===t)return c;const f=i(c.children);if(f)return f}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=Wn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){vt("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=t.objectIndex;switch(i){case"materials":if(!e.material){ln("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){ln("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){ln("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){ln("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){ln("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){ln("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){ln("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[a];if(o===void 0){const d=t.nodeName;ln("PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){ln("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){ln("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Wn.Composite=bJ;Wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Wn.prototype.GetterByBindingType=[Wn.prototype._getValue_direct,Wn.prototype._getValue_array,Wn.prototype._getValue_arrayElement,Wn.prototype._getValue_toArray];Wn.prototype.SetterByBindingTypeAndVersioning=[[Wn.prototype._setValue_direct,Wn.prototype._setValue_direct_setNeedsUpdate,Wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wn.prototype._setValue_array,Wn.prototype._setValue_array_setNeedsUpdate,Wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wn.prototype._setValue_arrayElement,Wn.prototype._setValue_arrayElement_setNeedsUpdate,Wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wn.prototype._setValue_fromArray,Wn.prototype._setValue_fromArray_setNeedsUpdate,Wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _J{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ns(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,r=this._bindings,o=r.length;let c,f=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let _=t[b];if(_===void 0){_=f++,t[b]=_,e.push(y);for(let T=0,E=o;T!==E;++T)r[T].push(new Wn(y,i[T],a[T]))}else if(_<d){c=e[_];const T=--d,E=e[T];t[E.uuid]=_,e[_]=E,t[b]=T,e[T]=y;for(let S=0,R=o;S!==R;++S){const D=r[S],U=D[T];let F=D[_];D[_]=U,F===void 0&&(F=new Wn(y,i[S],a[S])),D[T]=F}}else e[_]!==c&&ln("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],d=f.uuid,m=t[d];if(m!==void 0&&m>=r){const g=r++,y=e[g];t[y.uuid]=m,e[m]=y,t[d]=g,e[g]=f;for(let b=0,_=a;b!==_;++b){const T=i[b],E=T[g],S=T[m];T[m]=E,T[g]=S}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_,o=e.length;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<r){const y=--r,b=e[y],_=--o,T=e[_];t[b.uuid]=g,e[g]=b,t[T.uuid]=y,e[y]=T,e.pop();for(let E=0,S=a;E!==S;++E){const R=i[E],D=R[y],U=R[_];R[g]=D,R[y]=U,R.pop()}}else{const y=--o,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let _=0,T=a;_!==T;++_){const E=i[_];E[g]=E[y],E.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const r=this._bindings;if(a!==void 0)return r[a];const o=this._paths,c=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);a=r.length,i[e]=a,o.push(e),c.push(t),r.push(g);for(let y=m,b=f.length;y!==b;++y){const _=f[y];g[y]=new Wn(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,r=this._parsedPaths,o=this._bindings,c=o.length-1,f=o[c],d=e[c];t[d]=i,o[i]=f,o.pop(),r[i]=r[c],r.pop(),a[i]=a[c],a.pop()}}}class u5{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const r=t.tracks,o=r.length,c=new Array(o),f={endingStart:Ld,endingEnd:Ld};for(let d=0;d!==o;++d){const m=r[d].createInterpolant(null);c[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Z4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,r=e._clip.duration,o=r/a,c=a/r;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,r=a.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=a._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,d=c.sampleValues;return f[0]=r,f[1]=r+i,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const f=(e-r)*i;f<0||i===0?t=0:(this._startTime=null,t=i*f)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case z2:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulateAdditive(c);break;case kS:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulate(a,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,r=this._loopCount;const o=i===J4;if(e===0)return r===-1?a:o&&(r&1)===1?t-a:a;if(i===K4){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),a>=t||a<0){const c=Math.floor(a/t);a-=t*c,r+=Math.abs(c);const f=this.repetitions-r;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=a;if(o&&(r&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=Ud,a.endingEnd=Ud):(e?a.endingStart=this.zeroSlopeAtStart?Ud:Ld:a.endingStart=hx,t?a.endingEnd=this.zeroSlopeAtEnd?Ud:Ld:a.endingEnd=hx)}_scheduleFading(e,t,i){const a=this._mixer,r=a.time;let o=this._weightInterpolant;o===null&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=r,f[0]=t,c[1]=r+e,f[1]=i,this}}const SJ=new Float32Array(1);class MJ extends Kl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,r=a.length,o=e._propertyBindings,c=e._interpolants,f=i.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==r;++g){const y=a[g],b=y.name;let _=m[b];if(_!==void 0)++_.referenceCount,o[g]=_;else{if(_=o[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,f,b));continue}const T=t&&t._propertyBindings[g].binding.parsedPath;_=new c5(Wn.create(i,b,T),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,f,b),o[g]=_}c[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=a.length,a.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,c=o[r],f=c.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],f.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,r=this._bindings;let o=a[t];o===void 0&&(o={},a[t]=o),o[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,c=o[a],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete c[r],Object.keys(c).length===0&&delete o[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new iA(new Float32Array(2),new Float32Array(2),1,SJ),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const a=t||this._root,r=a.uuid;let o=typeof e=="string"?Mx.findByName(a,e):e;const c=o!==null?o.uuid:e,f=this._actionsByClip[c];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=kS),f!==void 0){const g=f.actionByRoot[r];if(g!==void 0&&g.blendMode===i)return g;d=f.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new u5(this,o,t,i);return this._bindAction(m,d),this._addInactiveAction(m,c,r),m}existingAction(e,t){const i=t||this._root,a=i.uuid,r=typeof e=="string"?Mx.findByName(i,e):e,o=r?r.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==i;++d)t[d]._update(a,e,r,o);const c=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)c[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,r=a[i];if(r!==void 0){const o=r.knownActions;for(let c=0,f=o.length;c!==f;++c){const d=o[c];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,f=c[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const o in r){const c=r[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class EJ extends F2{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new jS(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class fA{constructor(e){this.value=e}clone(){return new fA(this.value.clone===void 0?this.value:this.value.clone())}}let wJ=0;class TJ extends Kl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:wJ++}),this.name="",this.usage=mx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class AJ extends WS{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class CJ{constructor(e,t,i,a,r,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=r,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const KN=new rn;class f5{constructor(e,t,i=0,a=1/0){this.ray=new Cm(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new dm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):ln("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return KN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(KN),this}intersectObject(e,t=!0,i=[]){return Zw(e,this,i,t),i.sort(ZN),i}intersectObjects(e,t=!0,i=[]){for(let a=0,r=e.length;a<r;a++)Zw(e[a],this,i,t);return i.sort(ZN),i}}function ZN(n,e){return n.distance-e.distance}function Zw(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const r=n.children;for(let o=0,c=r.length;o<c;o++)Zw(r[o],e,t,!0)}}class RJ{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=NJ.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function NJ(){this._document.hidden===!1&&this.reset()}class DJ{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=an(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(an(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class OJ{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class dA{constructor(e,t,i,a){dA.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=a,this}}const JN=new Xe;class LJ{constructor(e=new Xe(1/0,1/0),t=new Xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=JN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,JN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const QN=new $,xb=new $,Lp=new $,Up=new $,TE=new $,UJ=new $,PJ=new $;class zJ{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){QN.subVectors(e,this.start),xb.subVectors(this.end,this.start);const i=xb.dot(xb);let r=xb.dot(QN)/i;return t&&(r=an(r,0,1)),r}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=UJ,i=PJ){const a=10000000000000001e-32;let r,o;const c=this.start,f=e.start,d=this.end,m=e.end;Lp.subVectors(d,c),Up.subVectors(m,f),TE.subVectors(c,f);const g=Lp.dot(Lp),y=Up.dot(Up),b=Up.dot(TE);if(g<=a&&y<=a)return t.copy(c),i.copy(f),t.sub(i),t.dot(t);if(g<=a)r=0,o=b/y,o=an(o,0,1);else{const _=Lp.dot(TE);if(y<=a)o=0,r=an(-_/g,0,1);else{const T=Lp.dot(Up),E=g*y-T*T;E!==0?r=an((T*b-_*y)/E,0,1):r=0,o=(T*r+b)/y,o<0?(o=0,r=an(-_/g,0,1)):o>1&&(o=1,r=an((T-_)/g,0,1))}}return t.copy(c).add(Lp.multiplyScalar(r)),i.copy(f).add(Up.multiplyScalar(o)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $N=new $;class BJ extends Kn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new mn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,f=32;o<f;o++,c++){const d=o/f*Math.PI*2,m=c/f*Math.PI*2;a.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new kt(a,3));const r=new Xr({fog:!1,toneMapped:!1});this.cone=new Zl(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),$N.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($N),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Vu=new $,yb=new rn,AE=new rn;class IJ extends Zl{constructor(e){const t=d5(e),i=new mn,a=[],r=[];for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}i.setAttribute("position",new kt(a,3)),i.setAttribute("color",new kt(r,3));const o=new Xr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new Nt(255),f=new Nt(65280);this.setColors(c,f)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");AE.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const c=t[r];c.parent&&c.parent.isBone&&(yb.multiplyMatrices(AE,c.matrixWorld),Vu.setFromMatrixPosition(yb),a.setXYZ(o,Vu.x,Vu.y,Vu.z),yb.multiplyMatrices(AE,c.parent.matrixWorld),Vu.setFromMatrixPosition(yb),a.setXYZ(o+1,Vu.x,Vu.y,Vu.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function d5(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...d5(n.children[t]));return e}class FJ extends Aa{constructor(e,t,i){const a=new Xx(t,4,2),r=new mf({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const VJ=new $,eD=new Nt,tD=new Nt;class kJ extends Kn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new Gx(t);a.rotateY(Math.PI*.5),this.material=new mf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),o=new Float32Array(r.count*3);a.setAttribute("color",new gi(o,3)),this.add(new Aa(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");eD.copy(this.light.color),tD.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const r=i<a/2?eD:tD;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(VJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class HJ extends Zl{constructor(e=10,t=10,i=4473924,a=8947848){i=new Nt(i),a=new Nt(a);const r=t/2,o=e/t,c=e/2,f=[],d=[];for(let y=0,b=0,_=-c;y<=t;y++,_+=o){f.push(-c,0,_,c,0,_),f.push(_,0,-c,_,0,c);const T=y===r?i:a;T.toArray(d,b),b+=3,T.toArray(d,b),b+=3,T.toArray(d,b),b+=3,T.toArray(d,b),b+=3}const m=new mn;m.setAttribute("position",new kt(f,3)),m.setAttribute("color",new kt(d,3));const g=new Xr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jJ extends Zl{constructor(e=10,t=16,i=8,a=64,r=4473924,o=8947848){r=new Nt(r),o=new Nt(o);const c=[],f=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,_=Math.cos(y)*e;c.push(0,0,0),c.push(b,0,_);const T=g&1?r:o;f.push(T.r,T.g,T.b),f.push(T.r,T.g,T.b)}for(let g=0;g<i;g++){const y=g&1?r:o,b=e-e/i*g;for(let _=0;_<a;_++){let T=_/a*(Math.PI*2),E=Math.sin(T)*b,S=Math.cos(T)*b;c.push(E,0,S),f.push(y.r,y.g,y.b),T=(_+1)/a*(Math.PI*2),E=Math.sin(T)*b,S=Math.cos(T)*b,c.push(E,0,S),f.push(y.r,y.g,y.b)}}const d=new mn;d.setAttribute("position",new kt(c,3)),d.setAttribute("color",new kt(f,3));const m=new Xr({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const nD=new $,vb=new $,iD=new $;class GJ extends Kn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new mn;a.setAttribute("position",new kt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Xr({fog:!1,toneMapped:!1});this.lightPlane=new of(a,r),this.add(this.lightPlane),a=new mn,a.setAttribute("position",new kt([0,0,0,0,0,1],3)),this.targetLine=new of(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nD.setFromMatrixPosition(this.light.matrixWorld),vb.setFromMatrixPosition(this.light.target.matrixWorld),iD.subVectors(vb,nD),this.lightPlane.lookAt(vb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vb),this.targetLine.scale.z=iD.length()}}const bb=new $,Yi=new GS;class XJ extends Zl{constructor(e){const t=new mn,i=new Xr({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(_,T){f(_),f(T)}function f(_){a.push(0,0,0),r.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(a.length/3-1)}t.setAttribute("position",new kt(a,3)),t.setAttribute("color",new kt(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new Nt(16755200),m=new Nt(16711680),g=new Nt(43775),y=new Nt(16777215),b=new Nt(3355443);this.setColors(d,m,g,y,b)}setColors(e,t,i,a,r){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,a.r,a.g,a.b),c.setXYZ(39,a.r,a.g,a.b),c.setXYZ(40,r.r,r.g,r.b),c.setXYZ(41,r.r,r.g,r.b),c.setXYZ(42,r.r,r.g,r.b),c.setXYZ(43,r.r,r.g,r.b),c.setXYZ(44,r.r,r.g,r.b),c.setXYZ(45,r.r,r.g,r.b),c.setXYZ(46,r.r,r.g,r.b),c.setXYZ(47,r.r,r.g,r.b),c.setXYZ(48,r.r,r.g,r.b),c.setXYZ(49,r.r,r.g,r.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let r,o;if(Yi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,o=0;else if(this.camera.coordinateSystem===Cs)r=-1,o=1;else if(this.camera.coordinateSystem===cm)r=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);sa("c",t,e,Yi,0,0,r),sa("t",t,e,Yi,0,0,o),sa("n1",t,e,Yi,-i,-a,r),sa("n2",t,e,Yi,i,-a,r),sa("n3",t,e,Yi,-i,a,r),sa("n4",t,e,Yi,i,a,r),sa("f1",t,e,Yi,-i,-a,o),sa("f2",t,e,Yi,i,-a,o),sa("f3",t,e,Yi,-i,a,o),sa("f4",t,e,Yi,i,a,o),sa("u1",t,e,Yi,i*.7,a*1.1,r),sa("u2",t,e,Yi,-i*.7,a*1.1,r),sa("u3",t,e,Yi,0,a*2,r),sa("cf1",t,e,Yi,-i,0,o),sa("cf2",t,e,Yi,i,0,o),sa("cf3",t,e,Yi,0,-a,o),sa("cf4",t,e,Yi,0,a,o),sa("cn1",t,e,Yi,-i,0,r),sa("cn2",t,e,Yi,i,0,r),sa("cn3",t,e,Yi,0,-a,r),sa("cn4",t,e,Yi,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sa(n,e,t,i,a,r,o){bb.set(a,r,o).unproject(i);const c=e[n];if(c!==void 0){const f=t.getAttribute("position");for(let d=0,m=c.length;d<m;d++)f.setXYZ(c[d],bb.x,bb.y,bb.z)}}const _b=new vr;class qJ extends Zl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new mn;r.setIndex(new gi(i,1)),r.setAttribute("position",new gi(a,3)),super(r,new Xr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_b.setFromObject(this.object),_b.isEmpty())return;const e=_b.min,t=_b.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WJ extends Zl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new mn;r.setIndex(new gi(i,1)),r.setAttribute("position",new kt(a,3)),super(r,new Xr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class YJ extends of{constructor(e,t=1,i=16776960){const a=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new mn;o.setAttribute("position",new kt(r,3)),o.computeBoundingSphere(),super(o,new Xr({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new mn;f.setAttribute("position",new kt(c,3)),f.computeBoundingSphere(),this.add(new Aa(f,new mf({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const aD=new $;let Sb,CE;class KJ extends Kn{constructor(e=new $(0,0,1),t=new $(0,0,0),i=1,a=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",Sb===void 0&&(Sb=new mn,Sb.setAttribute("position",new kt([0,0,0,0,1,0],3)),CE=new jx(.5,1,5,1),CE.translate(0,-.5,0)),this.position.copy(t),this.line=new of(Sb,new Xr({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Aa(CE,new mf({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{aD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(aD,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ZJ extends Zl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new mn;a.setAttribute("position",new kt(t,3)),a.setAttribute("color",new kt(i,3));const r=new Xr({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,i){const a=new Nt,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(i),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JJ{constructor(){this.type="ShapePath",this.color=new Nt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new eS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,r,o){return this.currentPath.bezierCurveTo(e,t,i,a,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const R=[];for(let D=0,U=S.length;D<U;D++){const F=S[D],P=new Hd;P.curves=F.curves,R.push(P)}return R}function i(S,R){const D=R.length;let U=!1;for(let F=D-1,P=0;P<D;F=P++){let L=R[F],B=R[P],I=B.x-L.x,V=B.y-L.y;if(Math.abs(V)>Number.EPSILON){if(V<0&&(L=R[P],I=-I,B=R[F],V=-V),S.y<L.y||S.y>B.y)continue;if(S.y===L.y){if(S.x===L.x)return!0}else{const W=V*(S.x-L.x)-I*(S.y-L.y);if(W===0)return!0;if(W<0)continue;U=!U}}else{if(S.y!==L.y)continue;if(B.x<=S.x&&S.x<=L.x||L.x<=S.x&&S.x<=B.x)return!0}}return U}const a=jo.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,c,f;const d=[];if(r.length===1)return c=r[0],f=new Hd,f.curves=c.curves,d.push(f),d;let m=!a(r[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],_=0,T;y[_]=void 0,b[_]=[];for(let S=0,R=r.length;S<R;S++)c=r[S],T=c.getPoints(),o=a(T),o=e?!o:o,o?(!m&&y[_]&&_++,y[_]={s:new Hd,p:T},y[_].s.curves=c.curves,m&&_++,b[_]=[]):b[_].push({h:c,p:T[0]});if(!y[0])return t(r);if(y.length>1){let S=!1,R=0;for(let D=0,U=y.length;D<U;D++)g[D]=[];for(let D=0,U=y.length;D<U;D++){const F=b[D];for(let P=0;P<F.length;P++){const L=F[P];let B=!0;for(let I=0;I<y.length;I++)i(L.p,y[I].p)&&(D!==I&&R++,B?(B=!1,g[I].push(L)):S=!0);B&&g[D].push(L)}}R>0&&S===!1&&(b=g)}let E;for(let S=0,R=y.length;S<R;S++){f=y[S].s,d.push(f),E=b[S];for(let D=0,U=E.length;D<U;D++)f.holes.push(E[D].h)}return d}}class QJ extends Kl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){vt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function $J(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function eQ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function tQ(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function Jw(n,e,t,i){const a=nQ(i);switch(t){case U2:return n*e;case BS:return n*e/a.components*a.byteLength;case Vx:return n*e/a.components*a.byteLength;case IS:return n*e*2/a.components*a.byteLength;case FS:return n*e*2/a.components*a.byteLength;case P2:return n*e*3/a.components*a.byteLength;case yr:return n*e*4/a.components*a.byteLength;case VS:return n*e*4/a.components*a.byteLength;case kg:case Hg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case jg:case Gg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case M_:case w_:return Math.max(n,16)*Math.max(e,8)/4;case S_:case E_:return Math.max(n,8)*Math.max(e,8)/2;case T_:case A_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case C_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case R_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case N_:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case D_:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case O_:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case L_:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case U_:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case P_:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case z_:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case B_:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case I_:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case F_:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case V_:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case k_:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case H_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case j_:case G_:case X_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case q_:case W_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Y_:case K_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function nQ(n){switch(n){case co:case N2:return{byteLength:1,components:1};case rm:case D2:case nh:return{byteLength:2,components:1};case PS:case zS:return{byteLength:2,components:4};case qc:case US:case os:return{byteLength:4,components:1};case O2:case L2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class iQ{static contain(e,t){return $J(e,t)}static cover(e,t){return eQ(e,t)}static fill(e){return tQ(e)}static getByteLength(e,t,i,a){return Jw(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ix}}));typeof window<"u"&&(window.__THREE__?vt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ix);function h5(){let n=null,e=!1,t=null,i=null;function a(r,o){t(r,o),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function aQ(n){const e=new WeakMap;function t(c,f){const d=c.array,m=c.usage,g=d.byteLength,y=n.createBuffer();n.bindBuffer(f,y),n.bufferData(f,d,m),c.onUploadCallback();let b;if(d instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)b=n.HALF_FLOAT;else if(d instanceof Uint16Array)c.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)b=n.SHORT;else if(d instanceof Uint32Array)b=n.UNSIGNED_INT;else if(d instanceof Int32Array)b=n.INT;else if(d instanceof Int8Array)b=n.BYTE;else if(d instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:y,type:b,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:g}}function i(c,f,d){const m=f.array,g=f.updateRanges;if(n.bindBuffer(d,c),g.length===0)n.bufferSubData(d,0,m);else{g.sort((b,_)=>b.start-_.start);let y=0;for(let b=1;b<g.length;b++){const _=g[y],T=g[b];T.start<=_.start+_.count+1?_.count=Math.max(_.count,T.start+T.count-_.start):(++y,g[y]=T)}g.length=y+1;for(let b=0,_=g.length;b<_;b++){const T=g[b];n.bufferSubData(d,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}f.clearUpdateRanges()}f.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function r(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=e.get(c);f&&(n.deleteBuffer(f.buffer),e.delete(c))}function o(c,f){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const d=e.get(c);if(d===void 0)e.set(c,t(c,f));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,c,f),d.version=c.version}}return{get:a,remove:r,update:o}}var rQ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,sQ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,oQ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,lQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cQ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,uQ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,fQ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dQ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,hQ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,pQ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,mQ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,gQ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xQ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,yQ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,vQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,_Q=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,SQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,MQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,EQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,TQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,AQ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,CQ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,RQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,NQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,DQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,OQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,LQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,UQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,PQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",zQ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,BQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,FQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,VQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,HQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,GQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,XQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,WQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,YQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,KQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ZQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,JQ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,QQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$Q=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,e$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,t$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,n$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,i$=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,a$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,r$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,s$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,o$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,l$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,c$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,u$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,f$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,d$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,h$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,p$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,m$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,g$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,x$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,y$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,v$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,b$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,_$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,S$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,M$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,E$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,w$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,T$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,A$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,C$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,R$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,N$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,D$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,O$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,L$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,U$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,P$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,z$=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,B$=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,I$=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,F$=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,V$=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,k$=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,H$=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,j$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,G$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,X$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,q$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,W$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Y$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,K$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Z$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,J$=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Q$=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,$$=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,eee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,nee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,iee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const aee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ree=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,see=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,dee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,pee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,mee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,vee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ee=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,See=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Mee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Tee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ree=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dee=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Lee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Uee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,zee=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Bee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_n={alphahash_fragment:rQ,alphahash_pars_fragment:sQ,alphamap_fragment:oQ,alphamap_pars_fragment:lQ,alphatest_fragment:cQ,alphatest_pars_fragment:uQ,aomap_fragment:fQ,aomap_pars_fragment:dQ,batching_pars_vertex:hQ,batching_vertex:pQ,begin_vertex:mQ,beginnormal_vertex:gQ,bsdfs:xQ,iridescence_fragment:yQ,bumpmap_pars_fragment:vQ,clipping_planes_fragment:bQ,clipping_planes_pars_fragment:_Q,clipping_planes_pars_vertex:SQ,clipping_planes_vertex:MQ,color_fragment:EQ,color_pars_fragment:wQ,color_pars_vertex:TQ,color_vertex:AQ,common:CQ,cube_uv_reflection_fragment:RQ,defaultnormal_vertex:NQ,displacementmap_pars_vertex:DQ,displacementmap_vertex:OQ,emissivemap_fragment:LQ,emissivemap_pars_fragment:UQ,colorspace_fragment:PQ,colorspace_pars_fragment:zQ,envmap_fragment:BQ,envmap_common_pars_fragment:IQ,envmap_pars_fragment:FQ,envmap_pars_vertex:VQ,envmap_physical_pars_fragment:JQ,envmap_vertex:kQ,fog_vertex:HQ,fog_pars_vertex:jQ,fog_fragment:GQ,fog_pars_fragment:XQ,gradientmap_pars_fragment:qQ,lightmap_pars_fragment:WQ,lights_lambert_fragment:YQ,lights_lambert_pars_fragment:KQ,lights_pars_begin:ZQ,lights_toon_fragment:QQ,lights_toon_pars_fragment:$Q,lights_phong_fragment:e$,lights_phong_pars_fragment:t$,lights_physical_fragment:n$,lights_physical_pars_fragment:i$,lights_fragment_begin:a$,lights_fragment_maps:r$,lights_fragment_end:s$,logdepthbuf_fragment:o$,logdepthbuf_pars_fragment:l$,logdepthbuf_pars_vertex:c$,logdepthbuf_vertex:u$,map_fragment:f$,map_pars_fragment:d$,map_particle_fragment:h$,map_particle_pars_fragment:p$,metalnessmap_fragment:m$,metalnessmap_pars_fragment:g$,morphinstance_vertex:x$,morphcolor_vertex:y$,morphnormal_vertex:v$,morphtarget_pars_vertex:b$,morphtarget_vertex:_$,normal_fragment_begin:S$,normal_fragment_maps:M$,normal_pars_fragment:E$,normal_pars_vertex:w$,normal_vertex:T$,normalmap_pars_fragment:A$,clearcoat_normal_fragment_begin:C$,clearcoat_normal_fragment_maps:R$,clearcoat_pars_fragment:N$,iridescence_pars_fragment:D$,opaque_fragment:O$,packing:L$,premultiplied_alpha_fragment:U$,project_vertex:P$,dithering_fragment:z$,dithering_pars_fragment:B$,roughnessmap_fragment:I$,roughnessmap_pars_fragment:F$,shadowmap_pars_fragment:V$,shadowmap_pars_vertex:k$,shadowmap_vertex:H$,shadowmask_pars_fragment:j$,skinbase_vertex:G$,skinning_pars_vertex:X$,skinning_vertex:q$,skinnormal_vertex:W$,specularmap_fragment:Y$,specularmap_pars_fragment:K$,tonemapping_fragment:Z$,tonemapping_pars_fragment:J$,transmission_fragment:Q$,transmission_pars_fragment:$$,uv_pars_fragment:eee,uv_pars_vertex:tee,uv_vertex:nee,worldpos_vertex:iee,background_vert:aee,background_frag:ree,backgroundCube_vert:see,backgroundCube_frag:oee,cube_vert:lee,cube_frag:cee,depth_vert:uee,depth_frag:fee,distanceRGBA_vert:dee,distanceRGBA_frag:hee,equirect_vert:pee,equirect_frag:mee,linedashed_vert:gee,linedashed_frag:xee,meshbasic_vert:yee,meshbasic_frag:vee,meshlambert_vert:bee,meshlambert_frag:_ee,meshmatcap_vert:See,meshmatcap_frag:Mee,meshnormal_vert:Eee,meshnormal_frag:wee,meshphong_vert:Tee,meshphong_frag:Aee,meshphysical_vert:Cee,meshphysical_frag:Ree,meshtoon_vert:Nee,meshtoon_frag:Dee,points_vert:Oee,points_frag:Lee,shadow_vert:Uee,shadow_frag:Pee,sprite_vert:zee,sprite_frag:Bee},yt={common:{diffuse:{value:new Nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pn},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pn}},envmap:{envMap:{value:null},envMapRotation:{value:new pn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pn},normalScale:{value:new Xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0},uvTransform:{value:new pn}},sprite:{diffuse:{value:new Nt(16777215)},opacity:{value:1},center:{value:new Xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pn},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0}}},Ho={basic:{uniforms:Fr([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:_n.meshbasic_vert,fragmentShader:_n.meshbasic_frag},lambert:{uniforms:Fr([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:_n.meshlambert_vert,fragmentShader:_n.meshlambert_frag},phong:{uniforms:Fr([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new Nt(0)},specular:{value:new Nt(1118481)},shininess:{value:30}}]),vertexShader:_n.meshphong_vert,fragmentShader:_n.meshphong_frag},standard:{uniforms:Fr([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new Nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_n.meshphysical_vert,fragmentShader:_n.meshphysical_frag},toon:{uniforms:Fr([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:_n.meshtoon_vert,fragmentShader:_n.meshtoon_frag},matcap:{uniforms:Fr([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:_n.meshmatcap_vert,fragmentShader:_n.meshmatcap_frag},points:{uniforms:Fr([yt.points,yt.fog]),vertexShader:_n.points_vert,fragmentShader:_n.points_frag},dashed:{uniforms:Fr([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_n.linedashed_vert,fragmentShader:_n.linedashed_frag},depth:{uniforms:Fr([yt.common,yt.displacementmap]),vertexShader:_n.depth_vert,fragmentShader:_n.depth_frag},normal:{uniforms:Fr([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:_n.meshnormal_vert,fragmentShader:_n.meshnormal_frag},sprite:{uniforms:Fr([yt.sprite,yt.fog]),vertexShader:_n.sprite_vert,fragmentShader:_n.sprite_frag},background:{uniforms:{uvTransform:{value:new pn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:_n.background_vert,fragmentShader:_n.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new pn}},vertexShader:_n.backgroundCube_vert,fragmentShader:_n.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_n.cube_vert,fragmentShader:_n.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_n.equirect_vert,fragmentShader:_n.equirect_frag},distanceRGBA:{uniforms:Fr([yt.common,yt.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_n.distanceRGBA_vert,fragmentShader:_n.distanceRGBA_frag},shadow:{uniforms:Fr([yt.lights,yt.fog,{color:{value:new Nt(0)},opacity:{value:1}}]),vertexShader:_n.shadow_vert,fragmentShader:_n.shadow_frag}};Ho.physical={uniforms:Fr([Ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pn},clearcoatNormalScale:{value:new Xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pn},sheen:{value:0},sheenColor:{value:new Nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pn},transmissionSamplerSize:{value:new Xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pn},attenuationDistance:{value:0},attenuationColor:{value:new Nt(0)},specularColor:{value:new Nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pn},anisotropyVector:{value:new Xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new pn}}]),vertexShader:_n.meshphysical_vert,fragmentShader:_n.meshphysical_frag};const Mb={r:0,b:0,g:0},Ed=new Ds,Iee=new rn;function Fee(n,e,t,i,a,r,o){const c=new Nt(0);let f=r===!0?0:1,d,m,g=null,y=0,b=null;function _(D){let U=D.isScene===!0?D.background:null;return U&&U.isTexture&&(U=(D.backgroundBlurriness>0?t:e).get(U)),U}function T(D){let U=!1;const F=_(D);F===null?S(c,f):F&&F.isColor&&(S(F,1),U=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||U)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(D,U){const F=_(U);F&&(F.isCubeTexture||F.mapping===Am)?(m===void 0&&(m=new Aa(new ih(1,1,1),new uo({name:"BackgroundCubeMaterial",uniforms:hm(Ho.backgroundCube.uniforms),vertexShader:Ho.backgroundCube.vertexShader,fragmentShader:Ho.backgroundCube.fragmentShader,side:jr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,L,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),Ed.copy(U.backgroundRotation),Ed.x*=-1,Ed.y*=-1,Ed.z*=-1,F.isCubeTexture&&F.isRenderTargetTexture===!1&&(Ed.y*=-1,Ed.z*=-1),m.material.uniforms.envMap.value=F,m.material.uniforms.flipEnvMap.value=F.isCubeTexture&&F.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=U.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Iee.makeRotationFromEuler(Ed)),m.material.toneMapped=Xn.getTransfer(F.colorSpace)!==fi,(g!==F||y!==F.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,g=F,y=F.version,b=n.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):F&&F.isTexture&&(d===void 0&&(d=new Aa(new Nm(2,2),new uo({name:"BackgroundMaterial",uniforms:hm(Ho.background.uniforms),vertexShader:Ho.background.vertexShader,fragmentShader:Ho.background.fragmentShader,side:Gc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=F,d.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,d.material.toneMapped=Xn.getTransfer(F.colorSpace)!==fi,F.matrixAutoUpdate===!0&&F.updateMatrix(),d.material.uniforms.uvTransform.value.copy(F.matrix),(g!==F||y!==F.version||b!==n.toneMapping)&&(d.material.needsUpdate=!0,g=F,y=F.version,b=n.toneMapping),d.layers.enableAll(),D.unshift(d,d.geometry,d.material,0,0,null))}function S(D,U){D.getRGB(Mb,dz(n)),i.buffers.color.setClear(Mb.r,Mb.g,Mb.b,U,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return c},setClearColor:function(D,U=1){c.set(D),f=U,S(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(D){f=D,S(c,f)},render:T,addToRenderList:E,dispose:R}}function Vee(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=y(null);let r=a,o=!1;function c(V,W,te,ne,ie){let oe=!1;const H=g(ne,te,W);r!==H&&(r=H,d(r.object)),oe=b(V,ne,te,ie),oe&&_(V,ne,te,ie),ie!==null&&e.update(ie,n.ELEMENT_ARRAY_BUFFER),(oe||o)&&(o=!1,U(V,W,te,ne),ie!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ie).buffer))}function f(){return n.createVertexArray()}function d(V){return n.bindVertexArray(V)}function m(V){return n.deleteVertexArray(V)}function g(V,W,te){const ne=te.wireframe===!0;let ie=i[V.id];ie===void 0&&(ie={},i[V.id]=ie);let oe=ie[W.id];oe===void 0&&(oe={},ie[W.id]=oe);let H=oe[ne];return H===void 0&&(H=y(f()),oe[ne]=H),H}function y(V){const W=[],te=[],ne=[];for(let ie=0;ie<t;ie++)W[ie]=0,te[ie]=0,ne[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:te,attributeDivisors:ne,object:V,attributes:{},index:null}}function b(V,W,te,ne){const ie=r.attributes,oe=W.attributes;let H=0;const q=te.getAttributes();for(const G in q)if(q[G].location>=0){const ue=ie[G];let K=oe[G];if(K===void 0&&(G==="instanceMatrix"&&V.instanceMatrix&&(K=V.instanceMatrix),G==="instanceColor"&&V.instanceColor&&(K=V.instanceColor)),ue===void 0||ue.attribute!==K||K&&ue.data!==K.data)return!0;H++}return r.attributesNum!==H||r.index!==ne}function _(V,W,te,ne){const ie={},oe=W.attributes;let H=0;const q=te.getAttributes();for(const G in q)if(q[G].location>=0){let ue=oe[G];ue===void 0&&(G==="instanceMatrix"&&V.instanceMatrix&&(ue=V.instanceMatrix),G==="instanceColor"&&V.instanceColor&&(ue=V.instanceColor));const K={};K.attribute=ue,ue&&ue.data&&(K.data=ue.data),ie[G]=K,H++}r.attributes=ie,r.attributesNum=H,r.index=ne}function T(){const V=r.newAttributes;for(let W=0,te=V.length;W<te;W++)V[W]=0}function E(V){S(V,0)}function S(V,W){const te=r.newAttributes,ne=r.enabledAttributes,ie=r.attributeDivisors;te[V]=1,ne[V]===0&&(n.enableVertexAttribArray(V),ne[V]=1),ie[V]!==W&&(n.vertexAttribDivisor(V,W),ie[V]=W)}function R(){const V=r.newAttributes,W=r.enabledAttributes;for(let te=0,ne=W.length;te<ne;te++)W[te]!==V[te]&&(n.disableVertexAttribArray(te),W[te]=0)}function D(V,W,te,ne,ie,oe,H){H===!0?n.vertexAttribIPointer(V,W,te,ie,oe):n.vertexAttribPointer(V,W,te,ne,ie,oe)}function U(V,W,te,ne){T();const ie=ne.attributes,oe=te.getAttributes(),H=W.defaultAttributeValues;for(const q in oe){const G=oe[q];if(G.location>=0){let ee=ie[q];if(ee===void 0&&(q==="instanceMatrix"&&V.instanceMatrix&&(ee=V.instanceMatrix),q==="instanceColor"&&V.instanceColor&&(ee=V.instanceColor)),ee!==void 0){const ue=ee.normalized,K=ee.itemSize,le=e.get(ee);if(le===void 0)continue;const _e=le.buffer,Se=le.type,je=le.bytesPerElement,ve=Se===n.INT||Se===n.UNSIGNED_INT||ee.gpuType===US;if(ee.isInterleavedBufferAttribute){const pe=ee.data,Je=pe.stride,ct=ee.offset;if(pe.isInstancedInterleavedBuffer){for(let gt=0;gt<G.locationSize;gt++)S(G.location+gt,pe.meshPerAttribute);V.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let gt=0;gt<G.locationSize;gt++)E(G.location+gt);n.bindBuffer(n.ARRAY_BUFFER,_e);for(let gt=0;gt<G.locationSize;gt++)D(G.location+gt,K/G.locationSize,Se,ue,Je*je,(ct+K/G.locationSize*gt)*je,ve)}else{if(ee.isInstancedBufferAttribute){for(let pe=0;pe<G.locationSize;pe++)S(G.location+pe,ee.meshPerAttribute);V.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let pe=0;pe<G.locationSize;pe++)E(G.location+pe);n.bindBuffer(n.ARRAY_BUFFER,_e);for(let pe=0;pe<G.locationSize;pe++)D(G.location+pe,K/G.locationSize,Se,ue,K*je,K/G.locationSize*pe*je,ve)}}else if(H!==void 0){const ue=H[q];if(ue!==void 0)switch(ue.length){case 2:n.vertexAttrib2fv(G.location,ue);break;case 3:n.vertexAttrib3fv(G.location,ue);break;case 4:n.vertexAttrib4fv(G.location,ue);break;default:n.vertexAttrib1fv(G.location,ue)}}}}R()}function F(){B();for(const V in i){const W=i[V];for(const te in W){const ne=W[te];for(const ie in ne)m(ne[ie].object),delete ne[ie];delete W[te]}delete i[V]}}function P(V){if(i[V.id]===void 0)return;const W=i[V.id];for(const te in W){const ne=W[te];for(const ie in ne)m(ne[ie].object),delete ne[ie];delete W[te]}delete i[V.id]}function L(V){for(const W in i){const te=i[W];if(te[V.id]===void 0)continue;const ne=te[V.id];for(const ie in ne)m(ne[ie].object),delete ne[ie];delete te[V.id]}}function B(){I(),o=!0,r!==a&&(r=a,d(r.object))}function I(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:c,reset:B,resetDefaultState:I,dispose:F,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:T,enableAttribute:E,disableUnusedAttributes:R}}function kee(n,e,t){let i;function a(d){i=d}function r(d,m){n.drawArrays(i,d,m),t.update(m,i,1)}function o(d,m,g){g!==0&&(n.drawArraysInstanced(i,d,m,g),t.update(m,i,g))}function c(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,m,0,g);let b=0;for(let _=0;_<g;_++)b+=m[_];t.update(b,i,1)}function f(d,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<d.length;_++)o(d[_],m[_],y[_]);else{b.multiDrawArraysInstancedWEBGL(i,d,0,m,0,y,0,g);let _=0;for(let T=0;T<g;T++)_+=m[T]*y[T];t.update(_,i,1)}}this.setMode=a,this.render=r,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Hee(n,e,t,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(L){return!(L!==yr&&i.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(L){const B=L===nh&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==co&&i.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==os&&!B)}function f(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const m=f(d);m!==d&&(vt("WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),U=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),F=_>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:f,textureFormatReadable:o,textureTypeReadable:c,precision:d,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:b,maxVertexTextures:_,maxTextureSize:T,maxCubemapSize:E,maxAttributes:S,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:U,vertexTextures:F,maxSamples:P}}function jee(n){const e=this;let t=null,i=0,a=!1,r=!1;const o=new ju,c=new pn,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||a;return a=y,i=g.length,b},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,b){const _=g.clippingPlanes,T=g.clipIntersection,E=g.clipShadows,S=n.get(g);if(!a||_===null||_.length===0||r&&!E)r?m(null):d();else{const R=r?0:i,D=R*4;let U=S.clippingState||null;f.value=U,U=m(_,y,D,b);for(let F=0;F!==D;++F)U[F]=t[F];S.clippingState=U,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,_){const T=g!==null?g.length:0;let E=null;if(T!==0){if(E=f.value,_!==!0||E===null){const S=b+T*4,R=y.matrixWorldInverse;c.getNormalMatrix(R),(E===null||E.length<S)&&(E=new Float32Array(S));for(let D=0,U=b;D!==T;++D,U+=4)o.copy(g[D]).applyMatrix4(R,c),o.normal.toArray(E,U),E[U+3]=o.constant}f.value=E,f.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,E}}function Gee(n){let e=new WeakMap;function t(o,c){return c===lx?o.mapping=Xc:c===cx&&(o.mapping=af),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===lx||c===cx)if(e.has(o)){const f=e.get(o).texture;return t(f,o.mapping)}else{const f=o.image;if(f&&f.height>0){const d=new mz(f.height);return d.fromEquirectangularTexture(n,o),e.set(o,d),o.addEventListener("dispose",a),t(d.texture,o.mapping)}else return null}}return o}function a(o){const c=o.target;c.removeEventListener("dispose",a);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Ju=4,rD=[.125,.215,.35,.446,.526,.582],Rd=20,Xee=256,Eg=new Yx,sD=new Nt;let RE=null,NE=0,DE=0,OE=!1;const qee=new $;class Qw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,a=100,r={}){const{size:o=256,position:c=qee}=r;RE=this._renderer.getRenderTarget(),NE=this._renderer.getActiveCubeFace(),DE=this._renderer.getActiveMipmapLevel(),OE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,a,f,c),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=cD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(RE,NE,DE),this._renderer.xr.enabled=OE,e.scissorTest=!1,Pp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xc||e.mapping===af?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),RE=this._renderer.getRenderTarget(),NE=this._renderer.getActiveCubeFace(),DE=this._renderer.getActiveMipmapLevel(),OE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:la,minFilter:la,generateMipmaps:!1,type:nh,format:yr,colorSpace:rf,depthBuffer:!1},a=oD(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=oD(e,t,i);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Wee(r)),this._blurMaterial=Kee(r,e,t)}return a}_compileMaterial(e){const t=new Aa(new mn,e);this._renderer.compile(t,Eg)}_sceneToCubeUV(e,t,i,a,r){const f=new Va(90,1,t,i),d=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(sD),g.toneMapping=Hl,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(a),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Aa(new ih,new mf({name:"PMREM.Background",side:jr,depthWrite:!1,depthTest:!1})));const T=this._backgroundBox,E=T.material;let S=!1;const R=e.background;R?R.isColor&&(E.color.copy(R),e.background=null,S=!0):(E.color.copy(sD),S=!0);for(let D=0;D<6;D++){const U=D%3;U===0?(f.up.set(0,d[D],0),f.position.set(r.x,r.y,r.z),f.lookAt(r.x+m[D],r.y,r.z)):U===1?(f.up.set(0,0,d[D]),f.position.set(r.x,r.y,r.z),f.lookAt(r.x,r.y+m[D],r.z)):(f.up.set(0,d[D],0),f.position.set(r.x,r.y,r.z),f.lookAt(r.x,r.y,r.z+m[D]));const F=this._cubeSize;Pp(a,U*F,D>2?F:0,F,F),g.setRenderTarget(a),S&&g.render(T,f),g.render(e,f)}g.toneMapping=b,g.autoClear=y,e.background=R}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===Xc||e.mapping===af;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=cD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lD());const r=a?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=r;const c=r.uniforms;c.envMap.value=e;const f=this._cubeSize;Pp(t,0,0,3*f,2*f),i.setRenderTarget(t),i.render(o,Eg)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let r=1;r<a;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=i}_applyGGXFilter(e,t,i){const a=this._renderer,r=this._pingPongRenderTarget;if(this._ggxMaterial===null){const R=3*Math.max(this._cubeSize,16),D=4*this._cubeSize;this._ggxMaterial=Yee(this._lodMax,R,D)}const o=this._ggxMaterial,c=this._lodMeshes[i];c.material=o;const f=o.uniforms,d=i/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),g=Math.sqrt(d*d-m*m),y=.05+d*.95,b=g*y,{_lodMax:_}=this,T=this._sizeLods[i],E=3*T*(i>_-Ju?i-_+Ju:0),S=4*(this._cubeSize-T);f.envMap.value=e.texture,f.roughness.value=b,f.mipInt.value=_-t,Pp(r,E,S,3*T,2*T),a.setRenderTarget(r),a.render(c,Eg),f.envMap.value=r.texture,f.roughness.value=0,f.mipInt.value=_-i,Pp(e,E,S,3*T,2*T),a.setRenderTarget(e),a.render(c,Eg)}_blur(e,t,i,a,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,a,"latitudinal",r),this._halfBlur(o,e,i,i,a,"longitudinal",r)}_halfBlur(e,t,i,a,r,o,c){const f=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&ln("blur direction must be either latitudinal or longitudinal!");const m=3,g=this._lodMeshes[a];g.material=d;const y=d.uniforms,b=this._sizeLods[i]-1,_=isFinite(r)?Math.PI/(2*b):2*Math.PI/(2*Rd-1),T=r/_,E=isFinite(r)?1+Math.floor(m*T):Rd;E>Rd&&vt(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Rd}`);const S=[];let R=0;for(let L=0;L<Rd;++L){const B=L/T,I=Math.exp(-B*B/2);S.push(I),L===0?R+=I:L<E&&(R+=2*I)}for(let L=0;L<S.length;L++)S[L]=S[L]/R;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=S,y.latitudinal.value=o==="latitudinal",c&&(y.poleAxis.value=c);const{_lodMax:D}=this;y.dTheta.value=_,y.mipInt.value=D-i;const U=this._sizeLods[a],F=3*U*(a>D-Ju?a-D+Ju:0),P=4*(this._cubeSize-U);Pp(t,F,P,3*U,2*U),f.setRenderTarget(t),f.render(g,Eg)}}function Wee(n){const e=[],t=[],i=[];let a=n;const r=n-Ju+1+rD.length;for(let o=0;o<r;o++){const c=Math.pow(2,a);e.push(c);let f=1/c;o>n-Ju?f=rD[o-n+Ju-1]:o===0&&(f=0),t.push(f);const d=1/(c-2),m=-d,g=1+d,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,_=6,T=3,E=2,S=1,R=new Float32Array(T*_*b),D=new Float32Array(E*_*b),U=new Float32Array(S*_*b);for(let P=0;P<b;P++){const L=P%3*2/3-1,B=P>2?0:-1,I=[L,B,0,L+2/3,B,0,L+2/3,B+1,0,L,B,0,L+2/3,B+1,0,L,B+1,0];R.set(I,T*_*P),D.set(y,E*_*P);const V=[P,P,P,P,P,P];U.set(V,S*_*P)}const F=new mn;F.setAttribute("position",new gi(R,T)),F.setAttribute("uv",new gi(D,E)),F.setAttribute("faceIndex",new gi(U,S)),i.push(new Aa(F,null)),a>Ju&&a--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function oD(n,e,t){const i=new Xl(n,e,t);return i.texture.mapping=Am,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Pp(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function Yee(n,e,t){return new uo({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Xee,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:d1(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:kl,depthTest:!1,depthWrite:!1})}function Kee(n,e,t){const i=new Float32Array(Rd),a=new $(0,1,0);return new uo({name:"SphericalGaussianBlur",defines:{n:Rd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:d1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:kl,depthTest:!1,depthWrite:!1})}function lD(){return new uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:d1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:kl,depthTest:!1,depthWrite:!1})}function cD(){return new uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:d1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:kl,depthTest:!1,depthWrite:!1})}function d1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Zee(n){let e=new WeakMap,t=null;function i(c){if(c&&c.isTexture){const f=c.mapping,d=f===lx||f===cx,m=f===Xc||f===af;if(d||m){let g=e.get(c);const y=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==y)return t===null&&(t=new Qw(n)),g=d?t.fromEquirectangular(c,g):t.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),g.texture;if(g!==void 0)return g.texture;{const b=c.image;return d&&b&&b.height>0||m&&b&&a(b)?(t===null&&(t=new Qw(n)),g=d?t.fromEquirectangular(c):t.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),c.addEventListener("dispose",r),g.texture):null}}}return c}function a(c){let f=0;const d=6;for(let m=0;m<d;m++)c[m]!==void 0&&f++;return f===d}function r(c){const f=c.target;f.removeEventListener("dispose",r);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Jee(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const a=n.getExtension(i);return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&um("WebGLRenderer: "+i+" extension not supported."),a}}}function Qee(n,e,t,i){const a={},r=new WeakMap;function o(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",o),delete a[y.id];const b=r.get(y);b&&(e.remove(b),r.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function c(g,y){return a[y.id]===!0||(y.addEventListener("dispose",o),a[y.id]=!0,t.memory.geometries++),y}function f(g){const y=g.attributes;for(const b in y)e.update(y[b],n.ARRAY_BUFFER)}function d(g){const y=[],b=g.index,_=g.attributes.position;let T=0;if(b!==null){const R=b.array;T=b.version;for(let D=0,U=R.length;D<U;D+=3){const F=R[D+0],P=R[D+1],L=R[D+2];y.push(F,P,P,L,L,F)}}else if(_!==void 0){const R=_.array;T=_.version;for(let D=0,U=R.length/3-1;D<U;D+=3){const F=D+0,P=D+1,L=D+2;y.push(F,P,P,L,L,F)}}else return;const E=new(lz(y)?k2:V2)(y,1);E.version=T;const S=r.get(g);S&&e.remove(S),r.set(g,E)}function m(g){const y=r.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&d(g)}else d(g);return r.get(g)}return{get:c,update:f,getWireframeAttribute:m}}function $ee(n,e,t){let i;function a(y){i=y}let r,o;function c(y){r=y.type,o=y.bytesPerElement}function f(y,b){n.drawElements(i,b,r,y*o),t.update(b,i,1)}function d(y,b,_){_!==0&&(n.drawElementsInstanced(i,b,r,y*o,_),t.update(b,i,_))}function m(y,b,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,r,y,0,_);let E=0;for(let S=0;S<_;S++)E+=b[S];t.update(E,i,1)}function g(y,b,_,T){if(_===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let S=0;S<y.length;S++)d(y[S]/o,b[S],T[S]);else{E.multiDrawElementsInstancedWEBGL(i,b,0,r,y,0,T,0,_);let S=0;for(let R=0;R<_;R++)S+=b[R]*T[R];t.update(S,i,1)}}this.setMode=a,this.setIndex=c,this.render=f,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function ete(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,c){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=c*(r/3);break;case n.LINES:t.lines+=c*(r/2);break;case n.LINE_STRIP:t.lines+=c*(r-1);break;case n.LINE_LOOP:t.lines+=c*r;break;case n.POINTS:t.points+=c*r;break;default:ln("WebGLInfo: Unknown draw mode:",o);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function tte(n,e,t){const i=new WeakMap,a=new Yn;function r(o,c,f){const d=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(c);if(y===void 0||y.count!==g){let V=function(){B.dispose(),i.delete(c),c.removeEventListener("dispose",V)};var b=V;y!==void 0&&y.texture.dispose();const _=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,S=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],D=c.morphAttributes.color||[];let U=0;_===!0&&(U=1),T===!0&&(U=2),E===!0&&(U=3);let F=c.attributes.position.count*U,P=1;F>e.maxTextureSize&&(P=Math.ceil(F/e.maxTextureSize),F=e.maxTextureSize);const L=new Float32Array(F*P*4*g),B=new HS(L,F,P,g);B.type=os,B.needsUpdate=!0;const I=U*4;for(let W=0;W<g;W++){const te=S[W],ne=R[W],ie=D[W],oe=F*P*4*W;for(let H=0;H<te.count;H++){const q=H*I;_===!0&&(a.fromBufferAttribute(te,H),L[oe+q+0]=a.x,L[oe+q+1]=a.y,L[oe+q+2]=a.z,L[oe+q+3]=0),T===!0&&(a.fromBufferAttribute(ne,H),L[oe+q+4]=a.x,L[oe+q+5]=a.y,L[oe+q+6]=a.z,L[oe+q+7]=0),E===!0&&(a.fromBufferAttribute(ie,H),L[oe+q+8]=a.x,L[oe+q+9]=a.y,L[oe+q+10]=a.z,L[oe+q+11]=ie.itemSize===4?a.w:1)}}y={count:g,texture:B,size:new Xe(F,P)},i.set(c,y),c.addEventListener("dispose",V)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)f.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let _=0;for(let E=0;E<d.length;E++)_+=d[E];const T=c.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",T),f.getUniforms().setValue(n,"morphTargetInfluences",d)}f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:r}}function nte(n,e,t,i){let a=new WeakMap;function r(f){const d=i.render.frame,m=f.geometry,g=e.get(f,m);if(a.get(g)!==d&&(e.update(g),a.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),a.get(f)!==d&&(t.update(f.instanceMatrix,n.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,n.ARRAY_BUFFER),a.set(f,d))),f.isSkinnedMesh){const y=f.skeleton;a.get(y)!==d&&(y.update(),a.set(y,d))}return g}function o(){a=new WeakMap}function c(f){const d=f.target;d.removeEventListener("dispose",c),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:r,dispose:o}}const p5=new Ji,uD=new X2(1,1),m5=new HS,g5=new jS,x5=new kx,fD=[],dD=[],hD=new Float32Array(16),pD=new Float32Array(9),mD=new Float32Array(4);function Dm(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let r=fD[a];if(r===void 0&&(r=new Float32Array(a),fD[a]=r),e!==0){i.toArray(r,0);for(let o=1,c=0;o!==e;++o)c+=t,n[o].toArray(r,c)}return r}function Ca(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ra(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function h1(n,e){let t=dD[e];t===void 0&&(t=new Int32Array(e),dD[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function ite(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function ate(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ca(t,e))return;n.uniform2fv(this.addr,e),Ra(t,e)}}function rte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ca(t,e))return;n.uniform3fv(this.addr,e),Ra(t,e)}}function ste(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ca(t,e))return;n.uniform4fv(this.addr,e),Ra(t,e)}}function ote(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ca(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ra(t,e)}else{if(Ca(t,i))return;mD.set(i),n.uniformMatrix2fv(this.addr,!1,mD),Ra(t,i)}}function lte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ca(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ra(t,e)}else{if(Ca(t,i))return;pD.set(i),n.uniformMatrix3fv(this.addr,!1,pD),Ra(t,i)}}function cte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ca(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ra(t,e)}else{if(Ca(t,i))return;hD.set(i),n.uniformMatrix4fv(this.addr,!1,hD),Ra(t,i)}}function ute(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function fte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ca(t,e))return;n.uniform2iv(this.addr,e),Ra(t,e)}}function dte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ca(t,e))return;n.uniform3iv(this.addr,e),Ra(t,e)}}function hte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ca(t,e))return;n.uniform4iv(this.addr,e),Ra(t,e)}}function pte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function mte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ca(t,e))return;n.uniform2uiv(this.addr,e),Ra(t,e)}}function gte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ca(t,e))return;n.uniform3uiv(this.addr,e),Ra(t,e)}}function xte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ca(t,e))return;n.uniform4uiv(this.addr,e),Ra(t,e)}}function yte(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let r;this.type===n.SAMPLER_2D_SHADOW?(uD.compareFunction=B2,r=uD):r=p5,t.setTexture2D(e||r,a)}function vte(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||g5,a)}function bte(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||x5,a)}function _te(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||m5,a)}function Ste(n){switch(n){case 5126:return ite;case 35664:return ate;case 35665:return rte;case 35666:return ste;case 35674:return ote;case 35675:return lte;case 35676:return cte;case 5124:case 35670:return ute;case 35667:case 35671:return fte;case 35668:case 35672:return dte;case 35669:case 35673:return hte;case 5125:return pte;case 36294:return mte;case 36295:return gte;case 36296:return xte;case 35678:case 36198:case 36298:case 36306:case 35682:return yte;case 35679:case 36299:case 36307:return vte;case 35680:case 36300:case 36308:case 36293:return bte;case 36289:case 36303:case 36311:case 36292:return _te}}function Mte(n,e){n.uniform1fv(this.addr,e)}function Ete(n,e){const t=Dm(e,this.size,2);n.uniform2fv(this.addr,t)}function wte(n,e){const t=Dm(e,this.size,3);n.uniform3fv(this.addr,t)}function Tte(n,e){const t=Dm(e,this.size,4);n.uniform4fv(this.addr,t)}function Ate(n,e){const t=Dm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Cte(n,e){const t=Dm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Rte(n,e){const t=Dm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Nte(n,e){n.uniform1iv(this.addr,e)}function Dte(n,e){n.uniform2iv(this.addr,e)}function Ote(n,e){n.uniform3iv(this.addr,e)}function Lte(n,e){n.uniform4iv(this.addr,e)}function Ute(n,e){n.uniform1uiv(this.addr,e)}function Pte(n,e){n.uniform2uiv(this.addr,e)}function zte(n,e){n.uniform3uiv(this.addr,e)}function Bte(n,e){n.uniform4uiv(this.addr,e)}function Ite(n,e,t){const i=this.cache,a=e.length,r=h1(t,a);Ca(i,r)||(n.uniform1iv(this.addr,r),Ra(i,r));for(let o=0;o!==a;++o)t.setTexture2D(e[o]||p5,r[o])}function Fte(n,e,t){const i=this.cache,a=e.length,r=h1(t,a);Ca(i,r)||(n.uniform1iv(this.addr,r),Ra(i,r));for(let o=0;o!==a;++o)t.setTexture3D(e[o]||g5,r[o])}function Vte(n,e,t){const i=this.cache,a=e.length,r=h1(t,a);Ca(i,r)||(n.uniform1iv(this.addr,r),Ra(i,r));for(let o=0;o!==a;++o)t.setTextureCube(e[o]||x5,r[o])}function kte(n,e,t){const i=this.cache,a=e.length,r=h1(t,a);Ca(i,r)||(n.uniform1iv(this.addr,r),Ra(i,r));for(let o=0;o!==a;++o)t.setTexture2DArray(e[o]||m5,r[o])}function Hte(n){switch(n){case 5126:return Mte;case 35664:return Ete;case 35665:return wte;case 35666:return Tte;case 35674:return Ate;case 35675:return Cte;case 35676:return Rte;case 5124:case 35670:return Nte;case 35667:case 35671:return Dte;case 35668:case 35672:return Ote;case 35669:case 35673:return Lte;case 5125:return Ute;case 36294:return Pte;case 36295:return zte;case 36296:return Bte;case 35678:case 36198:case 36298:case 36306:case 35682:return Ite;case 35679:case 36299:case 36307:return Fte;case 35680:case 36300:case 36308:case 36293:return Vte;case 36289:case 36303:case 36311:case 36292:return kte}}class jte{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Ste(t.type)}}class Gte{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Hte(t.type)}}class Xte{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let r=0,o=a.length;r!==o;++r){const c=a[r];c.setValue(e,t[c.id],i)}}}const LE=/(\w+)(\])?(\[|\.)?/g;function gD(n,e){n.seq.push(e),n.map[e.id]=e}function qte(n,e,t){const i=n.name,a=i.length;for(LE.lastIndex=0;;){const r=LE.exec(i),o=LE.lastIndex;let c=r[1];const f=r[2]==="]",d=r[3];if(f&&(c=c|0),d===void 0||d==="["&&o+2===a){gD(t,d===void 0?new jte(c,n,e):new Gte(c,n,e));break}else{let g=t.map[c];g===void 0&&(g=new Xte(c),gD(t,g)),t=g}}}class Xb{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a),o=e.getUniformLocation(t,r.name);qte(r,o,this)}}setValue(e,t,i,a){const r=this.map[t];r!==void 0&&r.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let r=0,o=t.length;r!==o;++r){const c=t[r],f=i[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,r=e.length;a!==r;++a){const o=e[a];o.id in t&&i.push(o)}return i}}function xD(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Wte=37297;let Yte=0;function Kte(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=a;o<r;o++){const c=o+1;i.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return i.join(`
`)}const yD=new pn;function Zte(n){Xn._getMatrix(yD,Xn.workingColorSpace,n);const e=`mat3( ${yD.elements.map(t=>t.toFixed(4))} )`;switch(Xn.getTransfer(n)){case px:return[e,"LinearTransferOETF"];case fi:return[e,"sRGBTransferOETF"];default:return vt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function vD(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=(n.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+Kte(n.getShaderSource(e),c)}else return r}function Jte(n,e){const t=Zte(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Qte(n,e){let t;switch(e){case H4:t="Linear";break;case j4:t="Reinhard";break;case G4:t="Cineon";break;case C2:t="ACESFilmic";break;case q4:t="AgX";break;case W4:t="Neutral";break;case X4:t="Custom";break;default:vt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Eb=new $;function $te(){Xn.getLuminanceCoefficients(Eb);const n=Eb.x.toFixed(4),e=Eb.y.toFixed(4),t=Eb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ene(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Lg).join(`
`)}function tne(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function nne(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=n.getActiveAttrib(e,a),o=r.name;let c=1;r.type===n.FLOAT_MAT2&&(c=2),r.type===n.FLOAT_MAT3&&(c=3),r.type===n.FLOAT_MAT4&&(c=4),t[o]={type:r.type,location:n.getAttribLocation(e,o),locationSize:c}}return t}function Lg(n){return n!==""}function bD(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _D(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ine=/^[ \t]*#include +<([\w\d./]+)>/gm;function $w(n){return n.replace(ine,rne)}const ane=new Map;function rne(n,e){let t=_n[e];if(t===void 0){const i=ane.get(e);if(i!==void 0)t=_n[i],vt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return $w(t)}const sne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function SD(n){return n.replace(sne,one)}function one(n,e,t,i){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function MD(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lne(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===OS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Fg?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ko&&(e="SHADOWMAP_TYPE_VSM"),e}function cne(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xc:case af:e="ENVMAP_TYPE_CUBE";break;case Am:e="ENVMAP_TYPE_CUBE_UV";break}return e}function une(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case af:e="ENVMAP_MODE_REFRACTION";break}return e}function fne(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Fx:e="ENVMAP_BLENDING_MULTIPLY";break;case V4:e="ENVMAP_BLENDING_MIX";break;case k4:e="ENVMAP_BLENDING_ADD";break}return e}function dne(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function hne(n,e,t,i){const a=n.getContext(),r=t.defines;let o=t.vertexShader,c=t.fragmentShader;const f=lne(t),d=cne(t),m=une(t),g=fne(t),y=dne(t),b=ene(t),_=tne(r),T=a.createProgram();let E,S,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Lg).join(`
`),E.length>0&&(E+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Lg).join(`
`),S.length>0&&(S+=`
`)):(E=[MD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Lg).join(`
`),S=[MD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Hl?"#define TONE_MAPPING":"",t.toneMapping!==Hl?_n.tonemapping_pars_fragment:"",t.toneMapping!==Hl?Qte("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",_n.colorspace_pars_fragment,Jte("linearToOutputTexel",t.outputColorSpace),$te(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Lg).join(`
`)),o=$w(o),o=bD(o,t),o=_D(o,t),c=$w(c),c=bD(c,t),c=_D(c,t),o=SD(o),c=SD(c),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,S=["#define varying in",t.glslVersion===Gw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Gw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const D=R+E+o,U=R+S+c,F=xD(a,a.VERTEX_SHADER,D),P=xD(a,a.FRAGMENT_SHADER,U);a.attachShader(T,F),a.attachShader(T,P),t.index0AttributeName!==void 0?a.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(T,0,"position"),a.linkProgram(T);function L(W){if(n.debug.checkShaderErrors){const te=a.getProgramInfoLog(T)||"",ne=a.getShaderInfoLog(F)||"",ie=a.getShaderInfoLog(P)||"",oe=te.trim(),H=ne.trim(),q=ie.trim();let G=!0,ee=!0;if(a.getProgramParameter(T,a.LINK_STATUS)===!1)if(G=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,T,F,P);else{const ue=vD(a,F,"vertex"),K=vD(a,P,"fragment");ln("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(T,a.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+oe+`
`+ue+`
`+K)}else oe!==""?vt("WebGLProgram: Program Info Log:",oe):(H===""||q==="")&&(ee=!1);ee&&(W.diagnostics={runnable:G,programLog:oe,vertexShader:{log:H,prefix:E},fragmentShader:{log:q,prefix:S}})}a.deleteShader(F),a.deleteShader(P),B=new Xb(a,T),I=nne(a,T)}let B;this.getUniforms=function(){return B===void 0&&L(this),B};let I;this.getAttributes=function(){return I===void 0&&L(this),I};let V=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return V===!1&&(V=a.getProgramParameter(T,Wte)),V},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Yte++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=F,this.fragmentShader=P,this}let pne=0;class mne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new gne(e),t.set(e,i)),i}}class gne{constructor(e){this.id=pne++,this.code=e,this.usedTimes=0}}function xne(n,e,t,i,a,r,o){const c=new dm,f=new mne,d=new Set,m=[],g=a.logarithmicDepthBuffer,y=a.vertexTextures;let b=a.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(I){return d.add(I),I===0?"uv":`uv${I}`}function E(I,V,W,te,ne){const ie=te.fog,oe=ne.geometry,H=I.isMeshStandardMaterial?te.environment:null,q=(I.isMeshStandardMaterial?t:e).get(I.envMap||H),G=q&&q.mapping===Am?q.image.height:null,ee=_[I.type];I.precision!==null&&(b=a.getMaxPrecision(I.precision),b!==I.precision&&vt("WebGLProgram.getParameters:",I.precision,"not supported, using",b,"instead."));const ue=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,K=ue!==void 0?ue.length:0;let le=0;oe.morphAttributes.position!==void 0&&(le=1),oe.morphAttributes.normal!==void 0&&(le=2),oe.morphAttributes.color!==void 0&&(le=3);let _e,Se,je,ve;if(ee){const Tn=Ho[ee];_e=Tn.vertexShader,Se=Tn.fragmentShader}else _e=I.vertexShader,Se=I.fragmentShader,f.update(I),je=f.getVertexShaderID(I),ve=f.getFragmentShaderID(I);const pe=n.getRenderTarget(),Je=n.state.buffers.depth.getReversed(),ct=ne.isInstancedMesh===!0,gt=ne.isBatchedMesh===!0,wt=!!I.map,$t=!!I.matcap,Bt=!!q,ke=!!I.aoMap,J=!!I.lightMap,Ge=!!I.bumpMap,Ze=!!I.normalMap,it=!!I.displacementMap,Ye=!!I.emissiveMap,dt=!!I.metalnessMap,st=!!I.roughnessMap,_t=I.anisotropy>0,Q=I.clearcoat>0,j=I.dispersion>0,be=I.iridescence>0,Ue=I.sheen>0,Ie=I.transmission>0,Ne=_t&&!!I.anisotropyMap,Lt=Q&&!!I.clearcoatMap,ft=Q&&!!I.clearcoatNormalMap,Ht=Q&&!!I.clearcoatRoughnessMap,Dt=be&&!!I.iridescenceMap,ze=be&&!!I.iridescenceThicknessMap,qe=Ue&&!!I.sheenColorMap,Ut=Ue&&!!I.sheenRoughnessMap,At=!!I.specularMap,pt=!!I.specularColorMap,Yt=!!I.specularIntensityMap,ce=Ie&&!!I.transmissionMap,ut=Ie&&!!I.thicknessMap,nt=!!I.gradientMap,ot=!!I.alphaMap,We=I.alphaTest>0,Ve=!!I.alphaHash,St=!!I.extensions;let Kt=Hl;I.toneMapped&&(pe===null||pe.isXRRenderTarget===!0)&&(Kt=n.toneMapping);const wn={shaderID:ee,shaderType:I.type,shaderName:I.name,vertexShader:_e,fragmentShader:Se,defines:I.defines,customVertexShaderID:je,customFragmentShaderID:ve,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:b,batching:gt,batchingColor:gt&&ne._colorsTexture!==null,instancing:ct,instancingColor:ct&&ne.instanceColor!==null,instancingMorph:ct&&ne.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:pe===null?n.outputColorSpace:pe.isXRRenderTarget===!0?pe.texture.colorSpace:rf,alphaToCoverage:!!I.alphaToCoverage,map:wt,matcap:$t,envMap:Bt,envMapMode:Bt&&q.mapping,envMapCubeUVHeight:G,aoMap:ke,lightMap:J,bumpMap:Ge,normalMap:Ze,displacementMap:y&&it,emissiveMap:Ye,normalMapObjectSpace:Ze&&I.normalMapType===ez,normalMapTangentSpace:Ze&&I.normalMapType===pf,metalnessMap:dt,roughnessMap:st,anisotropy:_t,anisotropyMap:Ne,clearcoat:Q,clearcoatMap:Lt,clearcoatNormalMap:ft,clearcoatRoughnessMap:Ht,dispersion:j,iridescence:be,iridescenceMap:Dt,iridescenceThicknessMap:ze,sheen:Ue,sheenColorMap:qe,sheenRoughnessMap:Ut,specularMap:At,specularColorMap:pt,specularIntensityMap:Yt,transmission:Ie,transmissionMap:ce,thicknessMap:ut,gradientMap:nt,opaque:I.transparent===!1&&I.blending===Fd&&I.alphaToCoverage===!1,alphaMap:ot,alphaTest:We,alphaHash:Ve,combine:I.combine,mapUv:wt&&T(I.map.channel),aoMapUv:ke&&T(I.aoMap.channel),lightMapUv:J&&T(I.lightMap.channel),bumpMapUv:Ge&&T(I.bumpMap.channel),normalMapUv:Ze&&T(I.normalMap.channel),displacementMapUv:it&&T(I.displacementMap.channel),emissiveMapUv:Ye&&T(I.emissiveMap.channel),metalnessMapUv:dt&&T(I.metalnessMap.channel),roughnessMapUv:st&&T(I.roughnessMap.channel),anisotropyMapUv:Ne&&T(I.anisotropyMap.channel),clearcoatMapUv:Lt&&T(I.clearcoatMap.channel),clearcoatNormalMapUv:ft&&T(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ht&&T(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&T(I.iridescenceMap.channel),iridescenceThicknessMapUv:ze&&T(I.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&T(I.sheenColorMap.channel),sheenRoughnessMapUv:Ut&&T(I.sheenRoughnessMap.channel),specularMapUv:At&&T(I.specularMap.channel),specularColorMapUv:pt&&T(I.specularColorMap.channel),specularIntensityMapUv:Yt&&T(I.specularIntensityMap.channel),transmissionMapUv:ce&&T(I.transmissionMap.channel),thicknessMapUv:ut&&T(I.thicknessMap.channel),alphaMapUv:ot&&T(I.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(Ze||_t),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,pointsUvs:ne.isPoints===!0&&!!oe.attributes.uv&&(wt||ot),fog:!!ie,useFog:I.fog===!0,fogExp2:!!ie&&ie.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Je,skinning:ne.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:le,numDirLights:V.directional.length,numPointLights:V.point.length,numSpotLights:V.spot.length,numSpotLightMaps:V.spotLightMap.length,numRectAreaLights:V.rectArea.length,numHemiLights:V.hemi.length,numDirLightShadows:V.directionalShadowMap.length,numPointLightShadows:V.pointShadowMap.length,numSpotLightShadows:V.spotShadowMap.length,numSpotLightShadowsWithMaps:V.numSpotLightShadowsWithMaps,numLightProbes:V.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&W.length>0,shadowMapType:n.shadowMap.type,toneMapping:Kt,decodeVideoTexture:wt&&I.map.isVideoTexture===!0&&Xn.getTransfer(I.map.colorSpace)===fi,decodeVideoTextureEmissive:Ye&&I.emissiveMap.isVideoTexture===!0&&Xn.getTransfer(I.emissiveMap.colorSpace)===fi,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Ol,flipSided:I.side===jr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:St&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(St&&I.extensions.multiDraw===!0||gt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return wn.vertexUv1s=d.has(1),wn.vertexUv2s=d.has(2),wn.vertexUv3s=d.has(3),d.clear(),wn}function S(I){const V=[];if(I.shaderID?V.push(I.shaderID):(V.push(I.customVertexShaderID),V.push(I.customFragmentShaderID)),I.defines!==void 0)for(const W in I.defines)V.push(W),V.push(I.defines[W]);return I.isRawShaderMaterial===!1&&(R(V,I),D(V,I),V.push(n.outputColorSpace)),V.push(I.customProgramCacheKey),V.join()}function R(I,V){I.push(V.precision),I.push(V.outputColorSpace),I.push(V.envMapMode),I.push(V.envMapCubeUVHeight),I.push(V.mapUv),I.push(V.alphaMapUv),I.push(V.lightMapUv),I.push(V.aoMapUv),I.push(V.bumpMapUv),I.push(V.normalMapUv),I.push(V.displacementMapUv),I.push(V.emissiveMapUv),I.push(V.metalnessMapUv),I.push(V.roughnessMapUv),I.push(V.anisotropyMapUv),I.push(V.clearcoatMapUv),I.push(V.clearcoatNormalMapUv),I.push(V.clearcoatRoughnessMapUv),I.push(V.iridescenceMapUv),I.push(V.iridescenceThicknessMapUv),I.push(V.sheenColorMapUv),I.push(V.sheenRoughnessMapUv),I.push(V.specularMapUv),I.push(V.specularColorMapUv),I.push(V.specularIntensityMapUv),I.push(V.transmissionMapUv),I.push(V.thicknessMapUv),I.push(V.combine),I.push(V.fogExp2),I.push(V.sizeAttenuation),I.push(V.morphTargetsCount),I.push(V.morphAttributeCount),I.push(V.numDirLights),I.push(V.numPointLights),I.push(V.numSpotLights),I.push(V.numSpotLightMaps),I.push(V.numHemiLights),I.push(V.numRectAreaLights),I.push(V.numDirLightShadows),I.push(V.numPointLightShadows),I.push(V.numSpotLightShadows),I.push(V.numSpotLightShadowsWithMaps),I.push(V.numLightProbes),I.push(V.shadowMapType),I.push(V.toneMapping),I.push(V.numClippingPlanes),I.push(V.numClipIntersection),I.push(V.depthPacking)}function D(I,V){c.disableAll(),V.supportsVertexTextures&&c.enable(0),V.instancing&&c.enable(1),V.instancingColor&&c.enable(2),V.instancingMorph&&c.enable(3),V.matcap&&c.enable(4),V.envMap&&c.enable(5),V.normalMapObjectSpace&&c.enable(6),V.normalMapTangentSpace&&c.enable(7),V.clearcoat&&c.enable(8),V.iridescence&&c.enable(9),V.alphaTest&&c.enable(10),V.vertexColors&&c.enable(11),V.vertexAlphas&&c.enable(12),V.vertexUv1s&&c.enable(13),V.vertexUv2s&&c.enable(14),V.vertexUv3s&&c.enable(15),V.vertexTangents&&c.enable(16),V.anisotropy&&c.enable(17),V.alphaHash&&c.enable(18),V.batching&&c.enable(19),V.dispersion&&c.enable(20),V.batchingColor&&c.enable(21),V.gradientMap&&c.enable(22),I.push(c.mask),c.disableAll(),V.fog&&c.enable(0),V.useFog&&c.enable(1),V.flatShading&&c.enable(2),V.logarithmicDepthBuffer&&c.enable(3),V.reversedDepthBuffer&&c.enable(4),V.skinning&&c.enable(5),V.morphTargets&&c.enable(6),V.morphNormals&&c.enable(7),V.morphColors&&c.enable(8),V.premultipliedAlpha&&c.enable(9),V.shadowMapEnabled&&c.enable(10),V.doubleSided&&c.enable(11),V.flipSided&&c.enable(12),V.useDepthPacking&&c.enable(13),V.dithering&&c.enable(14),V.transmission&&c.enable(15),V.sheen&&c.enable(16),V.opaque&&c.enable(17),V.pointsUvs&&c.enable(18),V.decodeVideoTexture&&c.enable(19),V.decodeVideoTextureEmissive&&c.enable(20),V.alphaToCoverage&&c.enable(21),I.push(c.mask)}function U(I){const V=_[I.type];let W;if(V){const te=Ho[V];W=hz.clone(te.uniforms)}else W=I.uniforms;return W}function F(I,V){let W;for(let te=0,ne=m.length;te<ne;te++){const ie=m[te];if(ie.cacheKey===V){W=ie,++W.usedTimes;break}}return W===void 0&&(W=new hne(n,V,I,r),m.push(W)),W}function P(I){if(--I.usedTimes===0){const V=m.indexOf(I);m[V]=m[m.length-1],m.pop(),I.destroy()}}function L(I){f.remove(I)}function B(){f.dispose()}return{getParameters:E,getProgramCacheKey:S,getUniforms:U,acquireProgram:F,releaseProgram:P,releaseShaderCache:L,programs:m,dispose:B}}function yne(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function a(o,c,f){n.get(o)[c]=f}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:r}}function vne(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function ED(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function wD(){const n=[];let e=0;const t=[],i=[],a=[];function r(){e=0,t.length=0,i.length=0,a.length=0}function o(g,y,b,_,T,E){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:b,groupOrder:_,renderOrder:g.renderOrder,z:T,group:E},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=b,S.groupOrder=_,S.renderOrder=g.renderOrder,S.z=T,S.group=E),e++,S}function c(g,y,b,_,T,E){const S=o(g,y,b,_,T,E);b.transmission>0?i.push(S):b.transparent===!0?a.push(S):t.push(S)}function f(g,y,b,_,T,E){const S=o(g,y,b,_,T,E);b.transmission>0?i.unshift(S):b.transparent===!0?a.unshift(S):t.unshift(S)}function d(g,y){t.length>1&&t.sort(g||vne),i.length>1&&i.sort(y||ED),a.length>1&&a.sort(y||ED)}function m(){for(let g=e,y=n.length;g<y;g++){const b=n[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:a,init:r,push:c,unshift:f,finish:m,sort:d}}function bne(){let n=new WeakMap;function e(i,a){const r=n.get(i);let o;return r===void 0?(o=new wD,n.set(i,[o])):a>=r.length?(o=new wD,r.push(o)):o=r[a],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function _ne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new Nt};break;case"SpotLight":t={position:new $,direction:new $,color:new Nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new Nt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new Nt,groundColor:new Nt};break;case"RectAreaLight":t={color:new Nt,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function Sne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Mne=0;function Ene(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function wne(n){const e=new _ne,t=Sne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new $);const a=new $,r=new rn,o=new rn;function c(d){let m=0,g=0,y=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let b=0,_=0,T=0,E=0,S=0,R=0,D=0,U=0,F=0,P=0,L=0;d.sort(Ene);for(let I=0,V=d.length;I<V;I++){const W=d[I],te=W.color,ne=W.intensity,ie=W.distance,oe=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)m+=te.r*ne,g+=te.g*ne,y+=te.b*ne;else if(W.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(W.sh.coefficients[H],ne);L++}else if(W.isDirectionalLight){const H=e.get(W);if(H.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const q=W.shadow,G=t.get(W);G.shadowIntensity=q.intensity,G.shadowBias=q.bias,G.shadowNormalBias=q.normalBias,G.shadowRadius=q.radius,G.shadowMapSize=q.mapSize,i.directionalShadow[b]=G,i.directionalShadowMap[b]=oe,i.directionalShadowMatrix[b]=W.shadow.matrix,R++}i.directional[b]=H,b++}else if(W.isSpotLight){const H=e.get(W);H.position.setFromMatrixPosition(W.matrixWorld),H.color.copy(te).multiplyScalar(ne),H.distance=ie,H.coneCos=Math.cos(W.angle),H.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),H.decay=W.decay,i.spot[T]=H;const q=W.shadow;if(W.map&&(i.spotLightMap[F]=W.map,F++,q.updateMatrices(W),W.castShadow&&P++),i.spotLightMatrix[T]=q.matrix,W.castShadow){const G=t.get(W);G.shadowIntensity=q.intensity,G.shadowBias=q.bias,G.shadowNormalBias=q.normalBias,G.shadowRadius=q.radius,G.shadowMapSize=q.mapSize,i.spotShadow[T]=G,i.spotShadowMap[T]=oe,U++}T++}else if(W.isRectAreaLight){const H=e.get(W);H.color.copy(te).multiplyScalar(ne),H.halfWidth.set(W.width*.5,0,0),H.halfHeight.set(0,W.height*.5,0),i.rectArea[E]=H,E++}else if(W.isPointLight){const H=e.get(W);if(H.color.copy(W.color).multiplyScalar(W.intensity),H.distance=W.distance,H.decay=W.decay,W.castShadow){const q=W.shadow,G=t.get(W);G.shadowIntensity=q.intensity,G.shadowBias=q.bias,G.shadowNormalBias=q.normalBias,G.shadowRadius=q.radius,G.shadowMapSize=q.mapSize,G.shadowCameraNear=q.camera.near,G.shadowCameraFar=q.camera.far,i.pointShadow[_]=G,i.pointShadowMap[_]=oe,i.pointShadowMatrix[_]=W.shadow.matrix,D++}i.point[_]=H,_++}else if(W.isHemisphereLight){const H=e.get(W);H.skyColor.copy(W.color).multiplyScalar(ne),H.groundColor.copy(W.groundColor).multiplyScalar(ne),i.hemi[S]=H,S++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=yt.LTC_FLOAT_1,i.rectAreaLTC2=yt.LTC_FLOAT_2):(i.rectAreaLTC1=yt.LTC_HALF_1,i.rectAreaLTC2=yt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const B=i.hash;(B.directionalLength!==b||B.pointLength!==_||B.spotLength!==T||B.rectAreaLength!==E||B.hemiLength!==S||B.numDirectionalShadows!==R||B.numPointShadows!==D||B.numSpotShadows!==U||B.numSpotMaps!==F||B.numLightProbes!==L)&&(i.directional.length=b,i.spot.length=T,i.rectArea.length=E,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=U,i.spotShadowMap.length=U,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=U+F-P,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=L,B.directionalLength=b,B.pointLength=_,B.spotLength=T,B.rectAreaLength=E,B.hemiLength=S,B.numDirectionalShadows=R,B.numPointShadows=D,B.numSpotShadows=U,B.numSpotMaps=F,B.numLightProbes=L,i.version=Mne++)}function f(d,m){let g=0,y=0,b=0,_=0,T=0;const E=m.matrixWorldInverse;for(let S=0,R=d.length;S<R;S++){const D=d[S];if(D.isDirectionalLight){const U=i.directional[g];U.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),U.direction.sub(a),U.direction.transformDirection(E),g++}else if(D.isSpotLight){const U=i.spot[b];U.position.setFromMatrixPosition(D.matrixWorld),U.position.applyMatrix4(E),U.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),U.direction.sub(a),U.direction.transformDirection(E),b++}else if(D.isRectAreaLight){const U=i.rectArea[_];U.position.setFromMatrixPosition(D.matrixWorld),U.position.applyMatrix4(E),o.identity(),r.copy(D.matrixWorld),r.premultiply(E),o.extractRotation(r),U.halfWidth.set(D.width*.5,0,0),U.halfHeight.set(0,D.height*.5,0),U.halfWidth.applyMatrix4(o),U.halfHeight.applyMatrix4(o),_++}else if(D.isPointLight){const U=i.point[y];U.position.setFromMatrixPosition(D.matrixWorld),U.position.applyMatrix4(E),y++}else if(D.isHemisphereLight){const U=i.hemi[T];U.direction.setFromMatrixPosition(D.matrixWorld),U.direction.transformDirection(E),T++}}}return{setup:c,setupView:f,state:i}}function TD(n){const e=new wne(n),t=[],i=[];function a(m){d.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function o(m){i.push(m)}function c(){e.setup(t)}function f(m){e.setupView(t,m)}const d={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:c,setupLightsView:f,pushLight:r,pushShadow:o}}function Tne(n){let e=new WeakMap;function t(a,r=0){const o=e.get(a);let c;return o===void 0?(c=new TD(n),e.set(a,[c])):r>=o.length?(c=new TD(n),o.push(c)):c=o[r],c}function i(){e=new WeakMap}return{get:t,dispose:i}}const Ane=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Cne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Rne(n,e,t){let i=new Rm;const a=new Xe,r=new Xe,o=new Yn,c=new eA({depthPacking:$4}),f=new tA,d={},m=t.maxTextureSize,g={[Gc]:jr,[jr]:Gc,[Ol]:Ol},y=new uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xe},radius:{value:4}},vertexShader:Ane,fragmentShader:Cne}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const _=new mn;_.setAttribute("position",new gi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Aa(_,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=OS;let S=this.type;this.render=function(P,L,B){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||P.length===0)return;const I=n.getRenderTarget(),V=n.getActiveCubeFace(),W=n.getActiveMipmapLevel(),te=n.state;te.setBlending(kl),te.buffers.depth.getReversed()===!0?te.buffers.color.setClear(0,0,0,0):te.buffers.color.setClear(1,1,1,1),te.buffers.depth.setTest(!0),te.setScissorTest(!1);const ne=S!==ko&&this.type===ko,ie=S===ko&&this.type!==ko;for(let oe=0,H=P.length;oe<H;oe++){const q=P[oe],G=q.shadow;if(G===void 0){vt("WebGLShadowMap:",q,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;a.copy(G.mapSize);const ee=G.getFrameExtents();if(a.multiply(ee),r.copy(G.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(r.x=Math.floor(m/ee.x),a.x=r.x*ee.x,G.mapSize.x=r.x),a.y>m&&(r.y=Math.floor(m/ee.y),a.y=r.y*ee.y,G.mapSize.y=r.y)),G.map===null||ne===!0||ie===!0){const K=this.type!==ko?{minFilter:Za,magFilter:Za}:{};G.map!==null&&G.map.dispose(),G.map=new Xl(a.x,a.y,K),G.map.texture.name=q.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const ue=G.getViewportCount();for(let K=0;K<ue;K++){const le=G.getViewport(K);o.set(r.x*le.x,r.y*le.y,r.x*le.z,r.y*le.w),te.viewport(o),G.updateMatrices(q,K),i=G.getFrustum(),U(L,B,G.camera,q,this.type)}G.isPointLightShadow!==!0&&this.type===ko&&R(G,B),G.needsUpdate=!1}S=this.type,E.needsUpdate=!1,n.setRenderTarget(I,V,W)};function R(P,L){const B=e.update(T);y.defines.VSM_SAMPLES!==P.blurSamples&&(y.defines.VSM_SAMPLES=P.blurSamples,b.defines.VSM_SAMPLES=P.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Xl(a.x,a.y)),y.uniforms.shadow_pass.value=P.map.texture,y.uniforms.resolution.value=P.mapSize,y.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(L,null,B,y,T,null),b.uniforms.shadow_pass.value=P.mapPass.texture,b.uniforms.resolution.value=P.mapSize,b.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(L,null,B,b,T,null)}function D(P,L,B,I){let V=null;const W=B.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(W!==void 0)V=W;else if(V=B.isPointLight===!0?f:c,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){const te=V.uuid,ne=L.uuid;let ie=d[te];ie===void 0&&(ie={},d[te]=ie);let oe=ie[ne];oe===void 0&&(oe=V.clone(),ie[ne]=oe,L.addEventListener("dispose",F)),V=oe}if(V.visible=L.visible,V.wireframe=L.wireframe,I===ko?V.side=L.shadowSide!==null?L.shadowSide:L.side:V.side=L.shadowSide!==null?L.shadowSide:g[L.side],V.alphaMap=L.alphaMap,V.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,V.map=L.map,V.clipShadows=L.clipShadows,V.clippingPlanes=L.clippingPlanes,V.clipIntersection=L.clipIntersection,V.displacementMap=L.displacementMap,V.displacementScale=L.displacementScale,V.displacementBias=L.displacementBias,V.wireframeLinewidth=L.wireframeLinewidth,V.linewidth=L.linewidth,B.isPointLight===!0&&V.isMeshDistanceMaterial===!0){const te=n.properties.get(V);te.light=B}return V}function U(P,L,B,I,V){if(P.visible===!1)return;if(P.layers.test(L.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&V===ko)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,P.matrixWorld);const ne=e.update(P),ie=P.material;if(Array.isArray(ie)){const oe=ne.groups;for(let H=0,q=oe.length;H<q;H++){const G=oe[H],ee=ie[G.materialIndex];if(ee&&ee.visible){const ue=D(P,ee,I,V);P.onBeforeShadow(n,P,L,B,ne,ue,G),n.renderBufferDirect(B,null,ne,ue,P,G),P.onAfterShadow(n,P,L,B,ne,ue,G)}}}else if(ie.visible){const oe=D(P,ie,I,V);P.onBeforeShadow(n,P,L,B,ne,oe,null),n.renderBufferDirect(B,null,ne,oe,P,null),P.onAfterShadow(n,P,L,B,ne,oe,null)}}const te=P.children;for(let ne=0,ie=te.length;ne<ie;ne++)U(te[ne],L,B,I,V)}function F(P){P.target.removeEventListener("dispose",F);for(const B in d){const I=d[B],V=P.target.uuid;V in I&&(I[V].dispose(),delete I[V])}}}const Nne={[m_]:g_,[x_]:b_,[y_]:__,[qd]:v_,[g_]:m_,[b_]:x_,[__]:y_,[v_]:qd};function Dne(n,e){function t(){let ce=!1;const ut=new Yn;let nt=null;const ot=new Yn(0,0,0,0);return{setMask:function(We){nt!==We&&!ce&&(n.colorMask(We,We,We,We),nt=We)},setLocked:function(We){ce=We},setClear:function(We,Ve,St,Kt,wn){wn===!0&&(We*=Kt,Ve*=Kt,St*=Kt),ut.set(We,Ve,St,Kt),ot.equals(ut)===!1&&(n.clearColor(We,Ve,St,Kt),ot.copy(ut))},reset:function(){ce=!1,nt=null,ot.set(-1,0,0,0)}}}function i(){let ce=!1,ut=!1,nt=null,ot=null,We=null;return{setReversed:function(Ve){if(ut!==Ve){const St=e.get("EXT_clip_control");Ve?St.clipControlEXT(St.LOWER_LEFT_EXT,St.ZERO_TO_ONE_EXT):St.clipControlEXT(St.LOWER_LEFT_EXT,St.NEGATIVE_ONE_TO_ONE_EXT),ut=Ve;const Kt=We;We=null,this.setClear(Kt)}},getReversed:function(){return ut},setTest:function(Ve){Ve?pe(n.DEPTH_TEST):Je(n.DEPTH_TEST)},setMask:function(Ve){nt!==Ve&&!ce&&(n.depthMask(Ve),nt=Ve)},setFunc:function(Ve){if(ut&&(Ve=Nne[Ve]),ot!==Ve){switch(Ve){case m_:n.depthFunc(n.NEVER);break;case g_:n.depthFunc(n.ALWAYS);break;case x_:n.depthFunc(n.LESS);break;case qd:n.depthFunc(n.LEQUAL);break;case y_:n.depthFunc(n.EQUAL);break;case v_:n.depthFunc(n.GEQUAL);break;case b_:n.depthFunc(n.GREATER);break;case __:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ot=Ve}},setLocked:function(Ve){ce=Ve},setClear:function(Ve){We!==Ve&&(ut&&(Ve=1-Ve),n.clearDepth(Ve),We=Ve)},reset:function(){ce=!1,nt=null,ot=null,We=null,ut=!1}}}function a(){let ce=!1,ut=null,nt=null,ot=null,We=null,Ve=null,St=null,Kt=null,wn=null;return{setTest:function(Tn){ce||(Tn?pe(n.STENCIL_TEST):Je(n.STENCIL_TEST))},setMask:function(Tn){ut!==Tn&&!ce&&(n.stencilMask(Tn),ut=Tn)},setFunc:function(Tn,$i,ae){(nt!==Tn||ot!==$i||We!==ae)&&(n.stencilFunc(Tn,$i,ae),nt=Tn,ot=$i,We=ae)},setOp:function(Tn,$i,ae){(Ve!==Tn||St!==$i||Kt!==ae)&&(n.stencilOp(Tn,$i,ae),Ve=Tn,St=$i,Kt=ae)},setLocked:function(Tn){ce=Tn},setClear:function(Tn){wn!==Tn&&(n.clearStencil(Tn),wn=Tn)},reset:function(){ce=!1,ut=null,nt=null,ot=null,We=null,Ve=null,St=null,Kt=null,wn=null}}}const r=new t,o=new i,c=new a,f=new WeakMap,d=new WeakMap;let m={},g={},y=new WeakMap,b=[],_=null,T=!1,E=null,S=null,R=null,D=null,U=null,F=null,P=null,L=new Nt(0,0,0),B=0,I=!1,V=null,W=null,te=null,ne=null,ie=null;const oe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,q=0;const G=n.getParameter(n.VERSION);G.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(G)[1]),H=q>=1):G.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),H=q>=2);let ee=null,ue={};const K=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),_e=new Yn().fromArray(K),Se=new Yn().fromArray(le);function je(ce,ut,nt,ot){const We=new Uint8Array(4),Ve=n.createTexture();n.bindTexture(ce,Ve),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let St=0;St<nt;St++)ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY?n.texImage3D(ut,0,n.RGBA,1,1,ot,0,n.RGBA,n.UNSIGNED_BYTE,We):n.texImage2D(ut+St,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,We);return Ve}const ve={};ve[n.TEXTURE_2D]=je(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=je(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=je(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=je(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),c.setClear(0),pe(n.DEPTH_TEST),o.setFunc(qd),Ge(!1),Ze(Iw),pe(n.CULL_FACE),ke(kl);function pe(ce){m[ce]!==!0&&(n.enable(ce),m[ce]=!0)}function Je(ce){m[ce]!==!1&&(n.disable(ce),m[ce]=!1)}function ct(ce,ut){return g[ce]!==ut?(n.bindFramebuffer(ce,ut),g[ce]=ut,ce===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=ut),ce===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=ut),!0):!1}function gt(ce,ut){let nt=b,ot=!1;if(ce){nt=y.get(ut),nt===void 0&&(nt=[],y.set(ut,nt));const We=ce.textures;if(nt.length!==We.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let Ve=0,St=We.length;Ve<St;Ve++)nt[Ve]=n.COLOR_ATTACHMENT0+Ve;nt.length=We.length,ot=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,ot=!0);ot&&n.drawBuffers(nt)}function wt(ce){return _!==ce?(n.useProgram(ce),_=ce,!0):!1}const $t={[qu]:n.FUNC_ADD,[M4]:n.FUNC_SUBTRACT,[E4]:n.FUNC_REVERSE_SUBTRACT};$t[w4]=n.MIN,$t[T4]=n.MAX;const Bt={[A4]:n.ZERO,[C4]:n.ONE,[R4]:n.SRC_COLOR,[h_]:n.SRC_ALPHA,[P4]:n.SRC_ALPHA_SATURATE,[L4]:n.DST_COLOR,[D4]:n.DST_ALPHA,[N4]:n.ONE_MINUS_SRC_COLOR,[p_]:n.ONE_MINUS_SRC_ALPHA,[U4]:n.ONE_MINUS_DST_COLOR,[O4]:n.ONE_MINUS_DST_ALPHA,[z4]:n.CONSTANT_COLOR,[B4]:n.ONE_MINUS_CONSTANT_COLOR,[I4]:n.CONSTANT_ALPHA,[F4]:n.ONE_MINUS_CONSTANT_ALPHA};function ke(ce,ut,nt,ot,We,Ve,St,Kt,wn,Tn){if(ce===kl){T===!0&&(Je(n.BLEND),T=!1);return}if(T===!1&&(pe(n.BLEND),T=!0),ce!==S4){if(ce!==E||Tn!==I){if((S!==qu||U!==qu)&&(n.blendEquation(n.FUNC_ADD),S=qu,U=qu),Tn)switch(ce){case Fd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Fw:n.blendFunc(n.ONE,n.ONE);break;case Vw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case kw:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:ln("WebGLState: Invalid blending: ",ce);break}else switch(ce){case Fd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Fw:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case Vw:ln("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case kw:ln("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:ln("WebGLState: Invalid blending: ",ce);break}R=null,D=null,F=null,P=null,L.set(0,0,0),B=0,E=ce,I=Tn}return}We=We||ut,Ve=Ve||nt,St=St||ot,(ut!==S||We!==U)&&(n.blendEquationSeparate($t[ut],$t[We]),S=ut,U=We),(nt!==R||ot!==D||Ve!==F||St!==P)&&(n.blendFuncSeparate(Bt[nt],Bt[ot],Bt[Ve],Bt[St]),R=nt,D=ot,F=Ve,P=St),(Kt.equals(L)===!1||wn!==B)&&(n.blendColor(Kt.r,Kt.g,Kt.b,wn),L.copy(Kt),B=wn),E=ce,I=!1}function J(ce,ut){ce.side===Ol?Je(n.CULL_FACE):pe(n.CULL_FACE);let nt=ce.side===jr;ut&&(nt=!nt),Ge(nt),ce.blending===Fd&&ce.transparent===!1?ke(kl):ke(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),o.setFunc(ce.depthFunc),o.setTest(ce.depthTest),o.setMask(ce.depthWrite),r.setMask(ce.colorWrite);const ot=ce.stencilWrite;c.setTest(ot),ot&&(c.setMask(ce.stencilWriteMask),c.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),c.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Ye(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?pe(n.SAMPLE_ALPHA_TO_COVERAGE):Je(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(ce){V!==ce&&(ce?n.frontFace(n.CW):n.frontFace(n.CCW),V=ce)}function Ze(ce){ce!==v4?(pe(n.CULL_FACE),ce!==W&&(ce===Iw?n.cullFace(n.BACK):ce===b4?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Je(n.CULL_FACE),W=ce}function it(ce){ce!==te&&(H&&n.lineWidth(ce),te=ce)}function Ye(ce,ut,nt){ce?(pe(n.POLYGON_OFFSET_FILL),(ne!==ut||ie!==nt)&&(n.polygonOffset(ut,nt),ne=ut,ie=nt)):Je(n.POLYGON_OFFSET_FILL)}function dt(ce){ce?pe(n.SCISSOR_TEST):Je(n.SCISSOR_TEST)}function st(ce){ce===void 0&&(ce=n.TEXTURE0+oe-1),ee!==ce&&(n.activeTexture(ce),ee=ce)}function _t(ce,ut,nt){nt===void 0&&(ee===null?nt=n.TEXTURE0+oe-1:nt=ee);let ot=ue[nt];ot===void 0&&(ot={type:void 0,texture:void 0},ue[nt]=ot),(ot.type!==ce||ot.texture!==ut)&&(ee!==nt&&(n.activeTexture(nt),ee=nt),n.bindTexture(ce,ut||ve[ce]),ot.type=ce,ot.texture=ut)}function Q(){const ce=ue[ee];ce!==void 0&&ce.type!==void 0&&(n.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function j(){try{n.compressedTexImage2D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function be(){try{n.compressedTexImage3D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function Ue(){try{n.texSubImage2D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function Ie(){try{n.texSubImage3D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function Ne(){try{n.compressedTexSubImage2D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function Lt(){try{n.compressedTexSubImage3D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function ft(){try{n.texStorage2D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function Ht(){try{n.texStorage3D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function Dt(){try{n.texImage2D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function ze(){try{n.texImage3D(...arguments)}catch(ce){ce("WebGLState:",ce)}}function qe(ce){_e.equals(ce)===!1&&(n.scissor(ce.x,ce.y,ce.z,ce.w),_e.copy(ce))}function Ut(ce){Se.equals(ce)===!1&&(n.viewport(ce.x,ce.y,ce.z,ce.w),Se.copy(ce))}function At(ce,ut){let nt=d.get(ut);nt===void 0&&(nt=new WeakMap,d.set(ut,nt));let ot=nt.get(ce);ot===void 0&&(ot=n.getUniformBlockIndex(ut,ce.name),nt.set(ce,ot))}function pt(ce,ut){const ot=d.get(ut).get(ce);f.get(ut)!==ot&&(n.uniformBlockBinding(ut,ot,ce.__bindingPointIndex),f.set(ut,ot))}function Yt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},ee=null,ue={},g={},y=new WeakMap,b=[],_=null,T=!1,E=null,S=null,R=null,D=null,U=null,F=null,P=null,L=new Nt(0,0,0),B=0,I=!1,V=null,W=null,te=null,ne=null,ie=null,_e.set(0,0,n.canvas.width,n.canvas.height),Se.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),c.reset()}return{buffers:{color:r,depth:o,stencil:c},enable:pe,disable:Je,bindFramebuffer:ct,drawBuffers:gt,useProgram:wt,setBlending:ke,setMaterial:J,setFlipSided:Ge,setCullFace:Ze,setLineWidth:it,setPolygonOffset:Ye,setScissorTest:dt,activeTexture:st,bindTexture:_t,unbindTexture:Q,compressedTexImage2D:j,compressedTexImage3D:be,texImage2D:Dt,texImage3D:ze,updateUBOMapping:At,uniformBlockBinding:pt,texStorage2D:ft,texStorage3D:Ht,texSubImage2D:Ue,texSubImage3D:Ie,compressedTexSubImage2D:Ne,compressedTexSubImage3D:Lt,scissor:qe,viewport:Ut,reset:Yt}}function One(n,e,t,i,a,r,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Xe,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Q,j){return b?new OffscreenCanvas(Q,j):gx("canvas")}function T(Q,j,be){let Ue=1;const Ie=_t(Q);if((Ie.width>be||Ie.height>be)&&(Ue=be/Math.max(Ie.width,Ie.height)),Ue<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Ne=Math.floor(Ue*Ie.width),Lt=Math.floor(Ue*Ie.height);g===void 0&&(g=_(Ne,Lt));const ft=j?_(Ne,Lt):g;return ft.width=Ne,ft.height=Lt,ft.getContext("2d").drawImage(Q,0,0,Ne,Lt),vt("WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+Ne+"x"+Lt+")."),ft}else return"data"in Q&&vt("WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),Q;return Q}function E(Q){return Q.generateMipmaps}function S(Q){n.generateMipmap(Q)}function R(Q){return Q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:Q.isWebGL3DRenderTarget?n.TEXTURE_3D:Q.isWebGLArrayRenderTarget||Q.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(Q,j,be,Ue,Ie=!1){if(Q!==null){if(n[Q]!==void 0)return n[Q];vt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ne=j;if(j===n.RED&&(be===n.FLOAT&&(Ne=n.R32F),be===n.HALF_FLOAT&&(Ne=n.R16F),be===n.UNSIGNED_BYTE&&(Ne=n.R8)),j===n.RED_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.R8UI),be===n.UNSIGNED_SHORT&&(Ne=n.R16UI),be===n.UNSIGNED_INT&&(Ne=n.R32UI),be===n.BYTE&&(Ne=n.R8I),be===n.SHORT&&(Ne=n.R16I),be===n.INT&&(Ne=n.R32I)),j===n.RG&&(be===n.FLOAT&&(Ne=n.RG32F),be===n.HALF_FLOAT&&(Ne=n.RG16F),be===n.UNSIGNED_BYTE&&(Ne=n.RG8)),j===n.RG_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.RG8UI),be===n.UNSIGNED_SHORT&&(Ne=n.RG16UI),be===n.UNSIGNED_INT&&(Ne=n.RG32UI),be===n.BYTE&&(Ne=n.RG8I),be===n.SHORT&&(Ne=n.RG16I),be===n.INT&&(Ne=n.RG32I)),j===n.RGB_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.RGB8UI),be===n.UNSIGNED_SHORT&&(Ne=n.RGB16UI),be===n.UNSIGNED_INT&&(Ne=n.RGB32UI),be===n.BYTE&&(Ne=n.RGB8I),be===n.SHORT&&(Ne=n.RGB16I),be===n.INT&&(Ne=n.RGB32I)),j===n.RGBA_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.RGBA8UI),be===n.UNSIGNED_SHORT&&(Ne=n.RGBA16UI),be===n.UNSIGNED_INT&&(Ne=n.RGBA32UI),be===n.BYTE&&(Ne=n.RGBA8I),be===n.SHORT&&(Ne=n.RGBA16I),be===n.INT&&(Ne=n.RGBA32I)),j===n.RGB&&(be===n.UNSIGNED_INT_5_9_9_9_REV&&(Ne=n.RGB9_E5),be===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ne=n.R11F_G11F_B10F)),j===n.RGBA){const Lt=Ie?px:Xn.getTransfer(Ue);be===n.FLOAT&&(Ne=n.RGBA32F),be===n.HALF_FLOAT&&(Ne=n.RGBA16F),be===n.UNSIGNED_BYTE&&(Ne=Lt===fi?n.SRGB8_ALPHA8:n.RGBA8),be===n.UNSIGNED_SHORT_4_4_4_4&&(Ne=n.RGBA4),be===n.UNSIGNED_SHORT_5_5_5_1&&(Ne=n.RGB5_A1)}return(Ne===n.R16F||Ne===n.R32F||Ne===n.RG16F||Ne===n.RG32F||Ne===n.RGBA16F||Ne===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ne}function U(Q,j){let be;return Q?j===null||j===qc||j===sm?be=n.DEPTH24_STENCIL8:j===os?be=n.DEPTH32F_STENCIL8:j===rm&&(be=n.DEPTH24_STENCIL8,vt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===qc||j===sm?be=n.DEPTH_COMPONENT24:j===os?be=n.DEPTH_COMPONENT32F:j===rm&&(be=n.DEPTH_COMPONENT16),be}function F(Q,j){return E(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==Za&&Q.minFilter!==la?Math.log2(Math.max(j.width,j.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?j.mipmaps.length:1}function P(Q){const j=Q.target;j.removeEventListener("dispose",P),B(j),j.isVideoTexture&&m.delete(j)}function L(Q){const j=Q.target;j.removeEventListener("dispose",L),V(j)}function B(Q){const j=i.get(Q);if(j.__webglInit===void 0)return;const be=Q.source,Ue=y.get(be);if(Ue){const Ie=Ue[j.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&I(Q),Object.keys(Ue).length===0&&y.delete(be)}i.remove(Q)}function I(Q){const j=i.get(Q);n.deleteTexture(j.__webglTexture);const be=Q.source,Ue=y.get(be);delete Ue[j.__cacheKey],o.memory.textures--}function V(Q){const j=i.get(Q);if(Q.depthTexture&&(Q.depthTexture.dispose(),i.remove(Q.depthTexture)),Q.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(j.__webglFramebuffer[Ue]))for(let Ie=0;Ie<j.__webglFramebuffer[Ue].length;Ie++)n.deleteFramebuffer(j.__webglFramebuffer[Ue][Ie]);else n.deleteFramebuffer(j.__webglFramebuffer[Ue]);j.__webglDepthbuffer&&n.deleteRenderbuffer(j.__webglDepthbuffer[Ue])}else{if(Array.isArray(j.__webglFramebuffer))for(let Ue=0;Ue<j.__webglFramebuffer.length;Ue++)n.deleteFramebuffer(j.__webglFramebuffer[Ue]);else n.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&n.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&n.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let Ue=0;Ue<j.__webglColorRenderbuffer.length;Ue++)j.__webglColorRenderbuffer[Ue]&&n.deleteRenderbuffer(j.__webglColorRenderbuffer[Ue]);j.__webglDepthRenderbuffer&&n.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const be=Q.textures;for(let Ue=0,Ie=be.length;Ue<Ie;Ue++){const Ne=i.get(be[Ue]);Ne.__webglTexture&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),i.remove(be[Ue])}i.remove(Q)}let W=0;function te(){W=0}function ne(){const Q=W;return Q>=a.maxTextures&&vt("WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+a.maxTextures),W+=1,Q}function ie(Q){const j=[];return j.push(Q.wrapS),j.push(Q.wrapT),j.push(Q.wrapR||0),j.push(Q.magFilter),j.push(Q.minFilter),j.push(Q.anisotropy),j.push(Q.internalFormat),j.push(Q.format),j.push(Q.type),j.push(Q.generateMipmaps),j.push(Q.premultiplyAlpha),j.push(Q.flipY),j.push(Q.unpackAlignment),j.push(Q.colorSpace),j.join()}function oe(Q,j){const be=i.get(Q);if(Q.isVideoTexture&&dt(Q),Q.isRenderTargetTexture===!1&&Q.isExternalTexture!==!0&&Q.version>0&&be.__version!==Q.version){const Ue=Q.image;if(Ue===null)vt("WebGLRenderer: Texture marked for update but no image data found.");else if(Ue.complete===!1)vt("WebGLRenderer: Texture marked for update but image is incomplete");else{ve(be,Q,j);return}}else Q.isExternalTexture&&(be.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,be.__webglTexture,n.TEXTURE0+j)}function H(Q,j){const be=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&be.__version!==Q.version){ve(be,Q,j);return}else Q.isExternalTexture&&(be.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,be.__webglTexture,n.TEXTURE0+j)}function q(Q,j){const be=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&be.__version!==Q.version){ve(be,Q,j);return}t.bindTexture(n.TEXTURE_3D,be.__webglTexture,n.TEXTURE0+j)}function G(Q,j){const be=i.get(Q);if(Q.version>0&&be.__version!==Q.version){pe(be,Q,j);return}t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture,n.TEXTURE0+j)}const ee={[ux]:n.REPEAT,[ss]:n.CLAMP_TO_EDGE,[fx]:n.MIRRORED_REPEAT},ue={[Za]:n.NEAREST,[R2]:n.NEAREST_MIPMAP_NEAREST,[qp]:n.NEAREST_MIPMAP_LINEAR,[la]:n.LINEAR,[Vg]:n.LINEAR_MIPMAP_NEAREST,[Ul]:n.LINEAR_MIPMAP_LINEAR},K={[tz]:n.NEVER,[oz]:n.ALWAYS,[nz]:n.LESS,[B2]:n.LEQUAL,[iz]:n.EQUAL,[sz]:n.GEQUAL,[az]:n.GREATER,[rz]:n.NOTEQUAL};function le(Q,j){if(j.type===os&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===la||j.magFilter===Vg||j.magFilter===qp||j.magFilter===Ul||j.minFilter===la||j.minFilter===Vg||j.minFilter===qp||j.minFilter===Ul)&&vt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Q,n.TEXTURE_WRAP_S,ee[j.wrapS]),n.texParameteri(Q,n.TEXTURE_WRAP_T,ee[j.wrapT]),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,ee[j.wrapR]),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,ue[j.magFilter]),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,ue[j.minFilter]),j.compareFunction&&(n.texParameteri(Q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Q,n.TEXTURE_COMPARE_FUNC,K[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===Za||j.minFilter!==qp&&j.minFilter!==Ul||j.type===os&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||i.get(j).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");n.texParameterf(Q,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,a.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy}}}function _e(Q,j){let be=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,j.addEventListener("dispose",P));const Ue=j.source;let Ie=y.get(Ue);Ie===void 0&&(Ie={},y.set(Ue,Ie));const Ne=ie(j);if(Ne!==Q.__cacheKey){Ie[Ne]===void 0&&(Ie[Ne]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,be=!0),Ie[Ne].usedTimes++;const Lt=Ie[Q.__cacheKey];Lt!==void 0&&(Ie[Q.__cacheKey].usedTimes--,Lt.usedTimes===0&&I(j)),Q.__cacheKey=Ne,Q.__webglTexture=Ie[Ne].texture}return be}function Se(Q,j,be){return Math.floor(Math.floor(Q/be)/j)}function je(Q,j,be,Ue){const Ne=Q.updateRanges;if(Ne.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,j.width,j.height,be,Ue,j.data);else{Ne.sort((ze,qe)=>ze.start-qe.start);let Lt=0;for(let ze=1;ze<Ne.length;ze++){const qe=Ne[Lt],Ut=Ne[ze],At=qe.start+qe.count,pt=Se(Ut.start,j.width,4),Yt=Se(qe.start,j.width,4);Ut.start<=At+1&&pt===Yt&&Se(Ut.start+Ut.count-1,j.width,4)===pt?qe.count=Math.max(qe.count,Ut.start+Ut.count-qe.start):(++Lt,Ne[Lt]=Ut)}Ne.length=Lt+1;const ft=n.getParameter(n.UNPACK_ROW_LENGTH),Ht=n.getParameter(n.UNPACK_SKIP_PIXELS),Dt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,j.width);for(let ze=0,qe=Ne.length;ze<qe;ze++){const Ut=Ne[ze],At=Math.floor(Ut.start/4),pt=Math.ceil(Ut.count/4),Yt=At%j.width,ce=Math.floor(At/j.width),ut=pt,nt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Yt),n.pixelStorei(n.UNPACK_SKIP_ROWS,ce),t.texSubImage2D(n.TEXTURE_2D,0,Yt,ce,ut,nt,be,Ue,j.data)}Q.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,ft),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ht),n.pixelStorei(n.UNPACK_SKIP_ROWS,Dt)}}function ve(Q,j,be){let Ue=n.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ue=n.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ue=n.TEXTURE_3D);const Ie=_e(Q,j),Ne=j.source;t.bindTexture(Ue,Q.__webglTexture,n.TEXTURE0+be);const Lt=i.get(Ne);if(Ne.version!==Lt.__version||Ie===!0){t.activeTexture(n.TEXTURE0+be);const ft=Xn.getPrimaries(Xn.workingColorSpace),Ht=j.colorSpace===zc?null:Xn.getPrimaries(j.colorSpace),Dt=j.colorSpace===zc||ft===Ht?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);let ze=T(j.image,!1,a.maxTextureSize);ze=st(j,ze);const qe=r.convert(j.format,j.colorSpace),Ut=r.convert(j.type);let At=D(j.internalFormat,qe,Ut,j.colorSpace,j.isVideoTexture);le(Ue,j);let pt;const Yt=j.mipmaps,ce=j.isVideoTexture!==!0,ut=Lt.__version===void 0||Ie===!0,nt=Ne.dataReady,ot=F(j,ze);if(j.isDepthTexture)At=U(j.format===lm,j.type),ut&&(ce?t.texStorage2D(n.TEXTURE_2D,1,At,ze.width,ze.height):t.texImage2D(n.TEXTURE_2D,0,At,ze.width,ze.height,0,qe,Ut,null));else if(j.isDataTexture)if(Yt.length>0){ce&&ut&&t.texStorage2D(n.TEXTURE_2D,ot,At,Yt[0].width,Yt[0].height);for(let We=0,Ve=Yt.length;We<Ve;We++)pt=Yt[We],ce?nt&&t.texSubImage2D(n.TEXTURE_2D,We,0,0,pt.width,pt.height,qe,Ut,pt.data):t.texImage2D(n.TEXTURE_2D,We,At,pt.width,pt.height,0,qe,Ut,pt.data);j.generateMipmaps=!1}else ce?(ut&&t.texStorage2D(n.TEXTURE_2D,ot,At,ze.width,ze.height),nt&&je(j,ze,qe,Ut)):t.texImage2D(n.TEXTURE_2D,0,At,ze.width,ze.height,0,qe,Ut,ze.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){ce&&ut&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ot,At,Yt[0].width,Yt[0].height,ze.depth);for(let We=0,Ve=Yt.length;We<Ve;We++)if(pt=Yt[We],j.format!==yr)if(qe!==null)if(ce){if(nt)if(j.layerUpdates.size>0){const St=Jw(pt.width,pt.height,j.format,j.type);for(const Kt of j.layerUpdates){const wn=pt.data.subarray(Kt*St/pt.data.BYTES_PER_ELEMENT,(Kt+1)*St/pt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,Kt,pt.width,pt.height,1,qe,wn)}j.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,0,pt.width,pt.height,ze.depth,qe,pt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,We,At,pt.width,pt.height,ze.depth,0,pt.data,0,0);else vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?nt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,0,pt.width,pt.height,ze.depth,qe,Ut,pt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,We,At,pt.width,pt.height,ze.depth,0,qe,Ut,pt.data)}else{ce&&ut&&t.texStorage2D(n.TEXTURE_2D,ot,At,Yt[0].width,Yt[0].height);for(let We=0,Ve=Yt.length;We<Ve;We++)pt=Yt[We],j.format!==yr?qe!==null?ce?nt&&t.compressedTexSubImage2D(n.TEXTURE_2D,We,0,0,pt.width,pt.height,qe,pt.data):t.compressedTexImage2D(n.TEXTURE_2D,We,At,pt.width,pt.height,0,pt.data):vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?nt&&t.texSubImage2D(n.TEXTURE_2D,We,0,0,pt.width,pt.height,qe,Ut,pt.data):t.texImage2D(n.TEXTURE_2D,We,At,pt.width,pt.height,0,qe,Ut,pt.data)}else if(j.isDataArrayTexture)if(ce){if(ut&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ot,At,ze.width,ze.height,ze.depth),nt)if(j.layerUpdates.size>0){const We=Jw(ze.width,ze.height,j.format,j.type);for(const Ve of j.layerUpdates){const St=ze.data.subarray(Ve*We/ze.data.BYTES_PER_ELEMENT,(Ve+1)*We/ze.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ve,ze.width,ze.height,1,qe,Ut,St)}j.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ze.width,ze.height,ze.depth,qe,Ut,ze.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,At,ze.width,ze.height,ze.depth,0,qe,Ut,ze.data);else if(j.isData3DTexture)ce?(ut&&t.texStorage3D(n.TEXTURE_3D,ot,At,ze.width,ze.height,ze.depth),nt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ze.width,ze.height,ze.depth,qe,Ut,ze.data)):t.texImage3D(n.TEXTURE_3D,0,At,ze.width,ze.height,ze.depth,0,qe,Ut,ze.data);else if(j.isFramebufferTexture){if(ut)if(ce)t.texStorage2D(n.TEXTURE_2D,ot,At,ze.width,ze.height);else{let We=ze.width,Ve=ze.height;for(let St=0;St<ot;St++)t.texImage2D(n.TEXTURE_2D,St,At,We,Ve,0,qe,Ut,null),We>>=1,Ve>>=1}}else if(Yt.length>0){if(ce&&ut){const We=_t(Yt[0]);t.texStorage2D(n.TEXTURE_2D,ot,At,We.width,We.height)}for(let We=0,Ve=Yt.length;We<Ve;We++)pt=Yt[We],ce?nt&&t.texSubImage2D(n.TEXTURE_2D,We,0,0,qe,Ut,pt):t.texImage2D(n.TEXTURE_2D,We,At,qe,Ut,pt);j.generateMipmaps=!1}else if(ce){if(ut){const We=_t(ze);t.texStorage2D(n.TEXTURE_2D,ot,At,We.width,We.height)}nt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,qe,Ut,ze)}else t.texImage2D(n.TEXTURE_2D,0,At,qe,Ut,ze);E(j)&&S(Ue),Lt.__version=Ne.version,j.onUpdate&&j.onUpdate(j)}Q.__version=j.version}function pe(Q,j,be){if(j.image.length!==6)return;const Ue=_e(Q,j),Ie=j.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+be);const Ne=i.get(Ie);if(Ie.version!==Ne.__version||Ue===!0){t.activeTexture(n.TEXTURE0+be);const Lt=Xn.getPrimaries(Xn.workingColorSpace),ft=j.colorSpace===zc?null:Xn.getPrimaries(j.colorSpace),Ht=j.colorSpace===zc||Lt===ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ht);const Dt=j.isCompressedTexture||j.image[0].isCompressedTexture,ze=j.image[0]&&j.image[0].isDataTexture,qe=[];for(let Ve=0;Ve<6;Ve++)!Dt&&!ze?qe[Ve]=T(j.image[Ve],!0,a.maxCubemapSize):qe[Ve]=ze?j.image[Ve].image:j.image[Ve],qe[Ve]=st(j,qe[Ve]);const Ut=qe[0],At=r.convert(j.format,j.colorSpace),pt=r.convert(j.type),Yt=D(j.internalFormat,At,pt,j.colorSpace),ce=j.isVideoTexture!==!0,ut=Ne.__version===void 0||Ue===!0,nt=Ie.dataReady;let ot=F(j,Ut);le(n.TEXTURE_CUBE_MAP,j);let We;if(Dt){ce&&ut&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ot,Yt,Ut.width,Ut.height);for(let Ve=0;Ve<6;Ve++){We=qe[Ve].mipmaps;for(let St=0;St<We.length;St++){const Kt=We[St];j.format!==yr?At!==null?ce?nt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St,0,0,Kt.width,Kt.height,At,Kt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St,Yt,Kt.width,Kt.height,0,Kt.data):vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?nt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St,0,0,Kt.width,Kt.height,At,pt,Kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St,Yt,Kt.width,Kt.height,0,At,pt,Kt.data)}}}else{if(We=j.mipmaps,ce&&ut){We.length>0&&ot++;const Ve=_t(qe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ot,Yt,Ve.width,Ve.height)}for(let Ve=0;Ve<6;Ve++)if(ze){ce?nt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,qe[Ve].width,qe[Ve].height,At,pt,qe[Ve].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,Yt,qe[Ve].width,qe[Ve].height,0,At,pt,qe[Ve].data);for(let St=0;St<We.length;St++){const wn=We[St].image[Ve].image;ce?nt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St+1,0,0,wn.width,wn.height,At,pt,wn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St+1,Yt,wn.width,wn.height,0,At,pt,wn.data)}}else{ce?nt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,At,pt,qe[Ve]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,Yt,At,pt,qe[Ve]);for(let St=0;St<We.length;St++){const Kt=We[St];ce?nt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St+1,0,0,At,pt,Kt.image[Ve]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,St+1,Yt,At,pt,Kt.image[Ve])}}}E(j)&&S(n.TEXTURE_CUBE_MAP),Ne.__version=Ie.version,j.onUpdate&&j.onUpdate(j)}Q.__version=j.version}function Je(Q,j,be,Ue,Ie,Ne){const Lt=r.convert(be.format,be.colorSpace),ft=r.convert(be.type),Ht=D(be.internalFormat,Lt,ft,be.colorSpace),Dt=i.get(j),ze=i.get(be);if(ze.__renderTarget=j,!Dt.__hasExternalTextures){const qe=Math.max(1,j.width>>Ne),Ut=Math.max(1,j.height>>Ne);Ie===n.TEXTURE_3D||Ie===n.TEXTURE_2D_ARRAY?t.texImage3D(Ie,Ne,Ht,qe,Ut,j.depth,0,Lt,ft,null):t.texImage2D(Ie,Ne,Ht,qe,Ut,0,Lt,ft,null)}t.bindFramebuffer(n.FRAMEBUFFER,Q),Ye(j)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ue,Ie,ze.__webglTexture,0,it(j)):(Ie===n.TEXTURE_2D||Ie>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ue,Ie,ze.__webglTexture,Ne),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ct(Q,j,be){if(n.bindRenderbuffer(n.RENDERBUFFER,Q),j.depthBuffer){const Ue=j.depthTexture,Ie=Ue&&Ue.isDepthTexture?Ue.type:null,Ne=U(j.stencilBuffer,Ie),Lt=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ft=it(j);Ye(j)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Ne,j.width,j.height):be?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Ne,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,Ne,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Lt,n.RENDERBUFFER,Q)}else{const Ue=j.textures;for(let Ie=0;Ie<Ue.length;Ie++){const Ne=Ue[Ie],Lt=r.convert(Ne.format,Ne.colorSpace),ft=r.convert(Ne.type),Ht=D(Ne.internalFormat,Lt,ft,Ne.colorSpace),Dt=it(j);be&&Ye(j)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Dt,Ht,j.width,j.height):Ye(j)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Dt,Ht,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,Ht,j.width,j.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function gt(Q,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Q),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ue=i.get(j.depthTexture);Ue.__renderTarget=j,(!Ue.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),oe(j.depthTexture,0);const Ie=Ue.__webglTexture,Ne=it(j);if(j.depthTexture.format===om)Ye(j)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ie,0,Ne):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ie,0);else if(j.depthTexture.format===lm)Ye(j)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ie,0,Ne):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function wt(Q){const j=i.get(Q),be=Q.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==Q.depthTexture){const Ue=Q.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),Ue){const Ie=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,Ue.removeEventListener("dispose",Ie)};Ue.addEventListener("dispose",Ie),j.__depthDisposeCallback=Ie}j.__boundDepthTexture=Ue}if(Q.depthTexture&&!j.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");const Ue=Q.texture.mipmaps;Ue&&Ue.length>0?gt(j.__webglFramebuffer[0],Q):gt(j.__webglFramebuffer,Q)}else if(be){j.__webglDepthbuffer=[];for(let Ue=0;Ue<6;Ue++)if(t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[Ue]),j.__webglDepthbuffer[Ue]===void 0)j.__webglDepthbuffer[Ue]=n.createRenderbuffer(),ct(j.__webglDepthbuffer[Ue],Q,!1);else{const Ie=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=j.__webglDepthbuffer[Ue];n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ie,n.RENDERBUFFER,Ne)}}else{const Ue=Q.texture.mipmaps;if(Ue&&Ue.length>0?t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=n.createRenderbuffer(),ct(j.__webglDepthbuffer,Q,!1);else{const Ie=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=j.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ie,n.RENDERBUFFER,Ne)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function $t(Q,j,be){const Ue=i.get(Q);j!==void 0&&Je(Ue.__webglFramebuffer,Q,Q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),be!==void 0&&wt(Q)}function Bt(Q){const j=Q.texture,be=i.get(Q),Ue=i.get(j);Q.addEventListener("dispose",L);const Ie=Q.textures,Ne=Q.isWebGLCubeRenderTarget===!0,Lt=Ie.length>1;if(Lt||(Ue.__webglTexture===void 0&&(Ue.__webglTexture=n.createTexture()),Ue.__version=j.version,o.memory.textures++),Ne){be.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)if(j.mipmaps&&j.mipmaps.length>0){be.__webglFramebuffer[ft]=[];for(let Ht=0;Ht<j.mipmaps.length;Ht++)be.__webglFramebuffer[ft][Ht]=n.createFramebuffer()}else be.__webglFramebuffer[ft]=n.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){be.__webglFramebuffer=[];for(let ft=0;ft<j.mipmaps.length;ft++)be.__webglFramebuffer[ft]=n.createFramebuffer()}else be.__webglFramebuffer=n.createFramebuffer();if(Lt)for(let ft=0,Ht=Ie.length;ft<Ht;ft++){const Dt=i.get(Ie[ft]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=n.createTexture(),o.memory.textures++)}if(Q.samples>0&&Ye(Q)===!1){be.__webglMultisampledFramebuffer=n.createFramebuffer(),be.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let ft=0;ft<Ie.length;ft++){const Ht=Ie[ft];be.__webglColorRenderbuffer[ft]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,be.__webglColorRenderbuffer[ft]);const Dt=r.convert(Ht.format,Ht.colorSpace),ze=r.convert(Ht.type),qe=D(Ht.internalFormat,Dt,ze,Ht.colorSpace,Q.isXRRenderTarget===!0),Ut=it(Q);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ut,qe,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,be.__webglColorRenderbuffer[ft])}n.bindRenderbuffer(n.RENDERBUFFER,null),Q.depthBuffer&&(be.__webglDepthRenderbuffer=n.createRenderbuffer(),ct(be.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ne){t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture),le(n.TEXTURE_CUBE_MAP,j);for(let ft=0;ft<6;ft++)if(j.mipmaps&&j.mipmaps.length>0)for(let Ht=0;Ht<j.mipmaps.length;Ht++)Je(be.__webglFramebuffer[ft][Ht],Q,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ht);else Je(be.__webglFramebuffer[ft],Q,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0);E(j)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Lt){for(let ft=0,Ht=Ie.length;ft<Ht;ft++){const Dt=Ie[ft],ze=i.get(Dt);let qe=n.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(qe=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(qe,ze.__webglTexture),le(qe,Dt),Je(be.__webglFramebuffer,Q,Dt,n.COLOR_ATTACHMENT0+ft,qe,0),E(Dt)&&S(qe)}t.unbindTexture()}else{let ft=n.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(ft=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ft,Ue.__webglTexture),le(ft,j),j.mipmaps&&j.mipmaps.length>0)for(let Ht=0;Ht<j.mipmaps.length;Ht++)Je(be.__webglFramebuffer[Ht],Q,j,n.COLOR_ATTACHMENT0,ft,Ht);else Je(be.__webglFramebuffer,Q,j,n.COLOR_ATTACHMENT0,ft,0);E(j)&&S(ft),t.unbindTexture()}Q.depthBuffer&&wt(Q)}function ke(Q){const j=Q.textures;for(let be=0,Ue=j.length;be<Ue;be++){const Ie=j[be];if(E(Ie)){const Ne=R(Q),Lt=i.get(Ie).__webglTexture;t.bindTexture(Ne,Lt),S(Ne),t.unbindTexture()}}}const J=[],Ge=[];function Ze(Q){if(Q.samples>0){if(Ye(Q)===!1){const j=Q.textures,be=Q.width,Ue=Q.height;let Ie=n.COLOR_BUFFER_BIT;const Ne=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Lt=i.get(Q),ft=j.length>1;if(ft)for(let Dt=0;Dt<j.length;Dt++)t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer);const Ht=Q.texture.mipmaps;Ht&&Ht.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Lt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Lt.__webglFramebuffer);for(let Dt=0;Dt<j.length;Dt++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(Ie|=n.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(Ie|=n.STENCIL_BUFFER_BIT)),ft){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Lt.__webglColorRenderbuffer[Dt]);const ze=i.get(j[Dt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ze,0)}n.blitFramebuffer(0,0,be,Ue,0,0,be,Ue,Ie,n.NEAREST),f===!0&&(J.length=0,Ge.length=0,J.push(n.COLOR_ATTACHMENT0+Dt),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(J.push(Ne),Ge.push(Ne),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ge)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,J))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ft)for(let Dt=0;Dt<j.length;Dt++){t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,Lt.__webglColorRenderbuffer[Dt]);const ze=i.get(j[Dt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.TEXTURE_2D,ze,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&f){const j=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[j])}}}function it(Q){return Math.min(a.maxSamples,Q.samples)}function Ye(Q){const j=i.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function dt(Q){const j=o.render.frame;m.get(Q)!==j&&(m.set(Q,j),Q.update())}function st(Q,j){const be=Q.colorSpace,Ue=Q.format,Ie=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||be!==rf&&be!==zc&&(Xn.getTransfer(be)===fi?(Ue!==yr||Ie!==co)&&vt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):ln("WebGLTextures: Unsupported texture color space:",be)),j}function _t(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(d.width=Q.naturalWidth||Q.width,d.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(d.width=Q.displayWidth,d.height=Q.displayHeight):(d.width=Q.width,d.height=Q.height),d}this.allocateTextureUnit=ne,this.resetTextureUnits=te,this.setTexture2D=oe,this.setTexture2DArray=H,this.setTexture3D=q,this.setTextureCube=G,this.rebindTextures=$t,this.setupRenderTarget=Bt,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=Ze,this.setupDepthRenderbuffer=wt,this.setupFrameBufferTexture=Je,this.useMultisampledRTT=Ye}function y5(n,e){function t(i,a=zc){let r;const o=Xn.getTransfer(a);if(i===co)return n.UNSIGNED_BYTE;if(i===PS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===zS)return n.UNSIGNED_SHORT_5_5_5_1;if(i===O2)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===L2)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===N2)return n.BYTE;if(i===D2)return n.SHORT;if(i===rm)return n.UNSIGNED_SHORT;if(i===US)return n.INT;if(i===qc)return n.UNSIGNED_INT;if(i===os)return n.FLOAT;if(i===nh)return n.HALF_FLOAT;if(i===U2)return n.ALPHA;if(i===P2)return n.RGB;if(i===yr)return n.RGBA;if(i===om)return n.DEPTH_COMPONENT;if(i===lm)return n.DEPTH_STENCIL;if(i===BS)return n.RED;if(i===Vx)return n.RED_INTEGER;if(i===IS)return n.RG;if(i===FS)return n.RG_INTEGER;if(i===VS)return n.RGBA_INTEGER;if(i===kg||i===Hg||i===jg||i===Gg)if(o===fi)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===kg)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Hg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===jg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Gg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===kg)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Hg)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===jg)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Gg)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===S_||i===M_||i===E_||i===w_)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===S_)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===M_)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===E_)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===w_)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===T_||i===A_||i===C_)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===T_||i===A_)return o===fi?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===C_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===R_||i===N_||i===D_||i===O_||i===L_||i===U_||i===P_||i===z_||i===B_||i===I_||i===F_||i===V_||i===k_||i===H_)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===R_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===N_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===D_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===O_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===L_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===U_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===P_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===z_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===B_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===I_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===F_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===V_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===k_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===H_)return o===fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===j_||i===G_||i===X_)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===j_)return o===fi?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===G_)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===X_)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===q_||i===W_||i===Y_||i===K_)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===q_)return r.COMPRESSED_RED_RGTC1_EXT;if(i===W_)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Y_)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===K_)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===sm?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Lne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Une=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Pne{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new q2(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new uo({vertexShader:Lne,fragmentShader:Une,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Aa(new Nm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class zne extends Kl{constructor(e,t){super();const i=this;let a=null,r=1,o=null,c="local-floor",f=1,d=null,m=null,g=null,y=null,b=null,_=null;const T=typeof XRWebGLBinding<"u",E=new Pne,S={},R=t.getContextAttributes();let D=null,U=null;const F=[],P=[],L=new Xe;let B=null;const I=new Va;I.viewport=new Yn;const V=new Va;V.viewport=new Yn;const W=[I,V],te=new o5;let ne=null,ie=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ve){let pe=F[ve];return pe===void 0&&(pe=new Gb,F[ve]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ve){let pe=F[ve];return pe===void 0&&(pe=new Gb,F[ve]=pe),pe.getGripSpace()},this.getHand=function(ve){let pe=F[ve];return pe===void 0&&(pe=new Gb,F[ve]=pe),pe.getHandSpace()};function oe(ve){const pe=P.indexOf(ve.inputSource);if(pe===-1)return;const Je=F[pe];Je!==void 0&&(Je.update(ve.inputSource,ve.frame,d||o),Je.dispatchEvent({type:ve.type,data:ve.inputSource}))}function H(){a.removeEventListener("select",oe),a.removeEventListener("selectstart",oe),a.removeEventListener("selectend",oe),a.removeEventListener("squeeze",oe),a.removeEventListener("squeezestart",oe),a.removeEventListener("squeezeend",oe),a.removeEventListener("end",H),a.removeEventListener("inputsourceschange",q);for(let ve=0;ve<F.length;ve++){const pe=P[ve];pe!==null&&(P[ve]=null,F[ve].disconnect(pe))}ne=null,ie=null,E.reset();for(const ve in S)delete S[ve];e.setRenderTarget(D),b=null,y=null,g=null,a=null,U=null,je.stop(),i.isPresenting=!1,e.setPixelRatio(B),e.setSize(L.width,L.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ve){r=ve,i.isPresenting===!0&&vt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ve){c=ve,i.isPresenting===!0&&vt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(ve){d=ve},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g===null&&T&&(g=new XRWebGLBinding(a,t)),g},this.getFrame=function(){return _},this.getSession=function(){return a},this.setSession=async function(ve){if(a=ve,a!==null){if(D=e.getRenderTarget(),a.addEventListener("select",oe),a.addEventListener("selectstart",oe),a.addEventListener("selectend",oe),a.addEventListener("squeeze",oe),a.addEventListener("squeezestart",oe),a.addEventListener("squeezeend",oe),a.addEventListener("end",H),a.addEventListener("inputsourceschange",q),R.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(L),T&&"createProjectionLayer"in XRWebGLBinding.prototype){let Je=null,ct=null,gt=null;R.depth&&(gt=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Je=R.stencil?lm:om,ct=R.stencil?sm:qc);const wt={colorFormat:t.RGBA8,depthFormat:gt,scaleFactor:r};g=this.getBinding(),y=g.createProjectionLayer(wt),a.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),U=new Xl(y.textureWidth,y.textureHeight,{format:yr,type:co,depthTexture:new X2(y.textureWidth,y.textureHeight,ct,void 0,void 0,void 0,void 0,void 0,void 0,Je),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Je={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:r};b=new XRWebGLLayer(a,t,Je),a.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),U=new Xl(b.framebufferWidth,b.framebufferHeight,{format:yr,type:co,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}U.isXRRenderTarget=!0,this.setFoveation(f),d=null,o=await a.requestReferenceSpace(c),je.setContext(a),je.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function q(ve){for(let pe=0;pe<ve.removed.length;pe++){const Je=ve.removed[pe],ct=P.indexOf(Je);ct>=0&&(P[ct]=null,F[ct].disconnect(Je))}for(let pe=0;pe<ve.added.length;pe++){const Je=ve.added[pe];let ct=P.indexOf(Je);if(ct===-1){for(let wt=0;wt<F.length;wt++)if(wt>=P.length){P.push(Je),ct=wt;break}else if(P[wt]===null){P[wt]=Je,ct=wt;break}if(ct===-1)break}const gt=F[ct];gt&&gt.connect(Je)}}const G=new $,ee=new $;function ue(ve,pe,Je){G.setFromMatrixPosition(pe.matrixWorld),ee.setFromMatrixPosition(Je.matrixWorld);const ct=G.distanceTo(ee),gt=pe.projectionMatrix.elements,wt=Je.projectionMatrix.elements,$t=gt[14]/(gt[10]-1),Bt=gt[14]/(gt[10]+1),ke=(gt[9]+1)/gt[5],J=(gt[9]-1)/gt[5],Ge=(gt[8]-1)/gt[0],Ze=(wt[8]+1)/wt[0],it=$t*Ge,Ye=$t*Ze,dt=ct/(-Ge+Ze),st=dt*-Ge;if(pe.matrixWorld.decompose(ve.position,ve.quaternion,ve.scale),ve.translateX(st),ve.translateZ(dt),ve.matrixWorld.compose(ve.position,ve.quaternion,ve.scale),ve.matrixWorldInverse.copy(ve.matrixWorld).invert(),gt[10]===-1)ve.projectionMatrix.copy(pe.projectionMatrix),ve.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const _t=$t+dt,Q=Bt+dt,j=it-st,be=Ye+(ct-st),Ue=ke*Bt/Q*_t,Ie=J*Bt/Q*_t;ve.projectionMatrix.makePerspective(j,be,Ue,Ie,_t,Q),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert()}}function K(ve,pe){pe===null?ve.matrixWorld.copy(ve.matrix):ve.matrixWorld.multiplyMatrices(pe.matrixWorld,ve.matrix),ve.matrixWorldInverse.copy(ve.matrixWorld).invert()}this.updateCamera=function(ve){if(a===null)return;let pe=ve.near,Je=ve.far;E.texture!==null&&(E.depthNear>0&&(pe=E.depthNear),E.depthFar>0&&(Je=E.depthFar)),te.near=V.near=I.near=pe,te.far=V.far=I.far=Je,(ne!==te.near||ie!==te.far)&&(a.updateRenderState({depthNear:te.near,depthFar:te.far}),ne=te.near,ie=te.far),te.layers.mask=ve.layers.mask|6,I.layers.mask=te.layers.mask&3,V.layers.mask=te.layers.mask&5;const ct=ve.parent,gt=te.cameras;K(te,ct);for(let wt=0;wt<gt.length;wt++)K(gt[wt],ct);gt.length===2?ue(te,I,V):te.projectionMatrix.copy(I.projectionMatrix),le(ve,te,ct)};function le(ve,pe,Je){Je===null?ve.matrix.copy(pe.matrixWorld):(ve.matrix.copy(Je.matrixWorld),ve.matrix.invert(),ve.matrix.multiply(pe.matrixWorld)),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.updateMatrixWorld(!0),ve.projectionMatrix.copy(pe.projectionMatrix),ve.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ve.isPerspectiveCamera&&(ve.fov=fm*2*Math.atan(1/ve.projectionMatrix.elements[5]),ve.zoom=1)}this.getCamera=function(){return te},this.getFoveation=function(){if(!(y===null&&b===null))return f},this.setFoveation=function(ve){f=ve,y!==null&&(y.fixedFoveation=ve),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ve)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(te)},this.getCameraTexture=function(ve){return S[ve]};let _e=null;function Se(ve,pe){if(m=pe.getViewerPose(d||o),_=pe,m!==null){const Je=m.views;b!==null&&(e.setRenderTargetFramebuffer(U,b.framebuffer),e.setRenderTarget(U));let ct=!1;Je.length!==te.cameras.length&&(te.cameras.length=0,ct=!0);for(let Bt=0;Bt<Je.length;Bt++){const ke=Je[Bt];let J=null;if(b!==null)J=b.getViewport(ke);else{const Ze=g.getViewSubImage(y,ke);J=Ze.viewport,Bt===0&&(e.setRenderTargetTextures(U,Ze.colorTexture,Ze.depthStencilTexture),e.setRenderTarget(U))}let Ge=W[Bt];Ge===void 0&&(Ge=new Va,Ge.layers.enable(Bt),Ge.viewport=new Yn,W[Bt]=Ge),Ge.matrix.fromArray(ke.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(ke.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(J.x,J.y,J.width,J.height),Bt===0&&(te.matrix.copy(Ge.matrix),te.matrix.decompose(te.position,te.quaternion,te.scale)),ct===!0&&te.cameras.push(Ge)}const gt=a.enabledFeatures;if(gt&&gt.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&T){g=i.getBinding();const Bt=g.getDepthInformation(Je[0]);Bt&&Bt.isValid&&Bt.texture&&E.init(Bt,a.renderState)}if(gt&&gt.includes("camera-access")&&T){e.state.unbindTexture(),g=i.getBinding();for(let Bt=0;Bt<Je.length;Bt++){const ke=Je[Bt].camera;if(ke){let J=S[ke];J||(J=new q2,S[ke]=J);const Ge=g.getCameraImage(ke);J.sourceTexture=Ge}}}}for(let Je=0;Je<F.length;Je++){const ct=P[Je],gt=F[Je];ct!==null&&gt!==void 0&&gt.update(ct,pe,d||o)}_e&&_e(ve,pe),pe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:pe}),_=null}const je=new h5;je.setAnimationLoop(Se),this.setAnimationLoop=function(ve){_e=ve},this.dispose=function(){}}}const wd=new Ds,Bne=new rn;function Ine(n,e){function t(E,S){E.matrixAutoUpdate===!0&&E.updateMatrix(),S.value.copy(E.matrix)}function i(E,S){S.color.getRGB(E.fogColor.value,dz(n)),S.isFog?(E.fogNear.value=S.near,E.fogFar.value=S.far):S.isFogExp2&&(E.fogDensity.value=S.density)}function a(E,S,R,D,U){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(E,S):S.isMeshToonMaterial?(r(E,S),g(E,S)):S.isMeshPhongMaterial?(r(E,S),m(E,S)):S.isMeshStandardMaterial?(r(E,S),y(E,S),S.isMeshPhysicalMaterial&&b(E,S,U)):S.isMeshMatcapMaterial?(r(E,S),_(E,S)):S.isMeshDepthMaterial?r(E,S):S.isMeshDistanceMaterial?(r(E,S),T(E,S)):S.isMeshNormalMaterial?r(E,S):S.isLineBasicMaterial?(o(E,S),S.isLineDashedMaterial&&c(E,S)):S.isPointsMaterial?f(E,S,R,D):S.isSpriteMaterial?d(E,S):S.isShadowMaterial?(E.color.value.copy(S.color),E.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(E,S){E.opacity.value=S.opacity,S.color&&E.diffuse.value.copy(S.color),S.emissive&&E.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.bumpMap&&(E.bumpMap.value=S.bumpMap,t(S.bumpMap,E.bumpMapTransform),E.bumpScale.value=S.bumpScale,S.side===jr&&(E.bumpScale.value*=-1)),S.normalMap&&(E.normalMap.value=S.normalMap,t(S.normalMap,E.normalMapTransform),E.normalScale.value.copy(S.normalScale),S.side===jr&&E.normalScale.value.negate()),S.displacementMap&&(E.displacementMap.value=S.displacementMap,t(S.displacementMap,E.displacementMapTransform),E.displacementScale.value=S.displacementScale,E.displacementBias.value=S.displacementBias),S.emissiveMap&&(E.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,E.emissiveMapTransform)),S.specularMap&&(E.specularMap.value=S.specularMap,t(S.specularMap,E.specularMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest);const R=e.get(S),D=R.envMap,U=R.envMapRotation;D&&(E.envMap.value=D,wd.copy(U),wd.x*=-1,wd.y*=-1,wd.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(wd.y*=-1,wd.z*=-1),E.envMapRotation.value.setFromMatrix4(Bne.makeRotationFromEuler(wd)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=S.reflectivity,E.ior.value=S.ior,E.refractionRatio.value=S.refractionRatio),S.lightMap&&(E.lightMap.value=S.lightMap,E.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,E.lightMapTransform)),S.aoMap&&(E.aoMap.value=S.aoMap,E.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,E.aoMapTransform))}function o(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform))}function c(E,S){E.dashSize.value=S.dashSize,E.totalSize.value=S.dashSize+S.gapSize,E.scale.value=S.scale}function f(E,S,R,D){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.size.value=S.size*R,E.scale.value=D*.5,S.map&&(E.map.value=S.map,t(S.map,E.uvTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function d(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.rotation.value=S.rotation,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function m(E,S){E.specular.value.copy(S.specular),E.shininess.value=Math.max(S.shininess,1e-4)}function g(E,S){S.gradientMap&&(E.gradientMap.value=S.gradientMap)}function y(E,S){E.metalness.value=S.metalness,S.metalnessMap&&(E.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,E.metalnessMapTransform)),E.roughness.value=S.roughness,S.roughnessMap&&(E.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,E.roughnessMapTransform)),S.envMap&&(E.envMapIntensity.value=S.envMapIntensity)}function b(E,S,R){E.ior.value=S.ior,S.sheen>0&&(E.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),E.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(E.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,E.sheenColorMapTransform)),S.sheenRoughnessMap&&(E.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,E.sheenRoughnessMapTransform))),S.clearcoat>0&&(E.clearcoat.value=S.clearcoat,E.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(E.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,E.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(E.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===jr&&E.clearcoatNormalScale.value.negate())),S.dispersion>0&&(E.dispersion.value=S.dispersion),S.iridescence>0&&(E.iridescence.value=S.iridescence,E.iridescenceIOR.value=S.iridescenceIOR,E.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(E.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,E.iridescenceMapTransform)),S.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),S.transmission>0&&(E.transmission.value=S.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),S.transmissionMap&&(E.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,E.transmissionMapTransform)),E.thickness.value=S.thickness,S.thicknessMap&&(E.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=S.attenuationDistance,E.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(E.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(E.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=S.specularIntensity,E.specularColor.value.copy(S.specularColor),S.specularColorMap&&(E.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,E.specularColorMapTransform)),S.specularIntensityMap&&(E.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,E.specularIntensityMapTransform))}function _(E,S){S.matcap&&(E.matcap.value=S.matcap)}function T(E,S){const R=e.get(S).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function Fne(n,e,t,i){let a={},r={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(R,D){const U=D.program;i.uniformBlockBinding(R,U)}function d(R,D){let U=a[R.id];U===void 0&&(_(R),U=m(R),a[R.id]=U,R.addEventListener("dispose",E));const F=D.program;i.updateUBOMapping(R,F);const P=e.render.frame;r[R.id]!==P&&(y(R),r[R.id]=P)}function m(R){const D=g();R.__bindingPointIndex=D;const U=n.createBuffer(),F=R.__size,P=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,U),n.bufferData(n.UNIFORM_BUFFER,F,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,U),U}function g(){for(let R=0;R<c;R++)if(o.indexOf(R)===-1)return o.push(R),R;return ln("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const D=a[R.id],U=R.uniforms,F=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let P=0,L=U.length;P<L;P++){const B=Array.isArray(U[P])?U[P]:[U[P]];for(let I=0,V=B.length;I<V;I++){const W=B[I];if(b(W,P,I,F)===!0){const te=W.__offset,ne=Array.isArray(W.value)?W.value:[W.value];let ie=0;for(let oe=0;oe<ne.length;oe++){const H=ne[oe],q=T(H);typeof H=="number"||typeof H=="boolean"?(W.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,te+ie,W.__data)):H.isMatrix3?(W.__data[0]=H.elements[0],W.__data[1]=H.elements[1],W.__data[2]=H.elements[2],W.__data[3]=0,W.__data[4]=H.elements[3],W.__data[5]=H.elements[4],W.__data[6]=H.elements[5],W.__data[7]=0,W.__data[8]=H.elements[6],W.__data[9]=H.elements[7],W.__data[10]=H.elements[8],W.__data[11]=0):(H.toArray(W.__data,ie),ie+=q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,te,W.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(R,D,U,F){const P=R.value,L=D+"_"+U;if(F[L]===void 0)return typeof P=="number"||typeof P=="boolean"?F[L]=P:F[L]=P.clone(),!0;{const B=F[L];if(typeof P=="number"||typeof P=="boolean"){if(B!==P)return F[L]=P,!0}else if(B.equals(P)===!1)return B.copy(P),!0}return!1}function _(R){const D=R.uniforms;let U=0;const F=16;for(let L=0,B=D.length;L<B;L++){const I=Array.isArray(D[L])?D[L]:[D[L]];for(let V=0,W=I.length;V<W;V++){const te=I[V],ne=Array.isArray(te.value)?te.value:[te.value];for(let ie=0,oe=ne.length;ie<oe;ie++){const H=ne[ie],q=T(H),G=U%F,ee=G%q.boundary,ue=G+ee;U+=ee,ue!==0&&F-ue<q.storage&&(U+=F-ue),te.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),te.__offset=U,U+=q.storage}}}const P=U%F;return P>0&&(U+=F-P),R.__size=U,R.__cache={},this}function T(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?vt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):vt("WebGLRenderer: Unsupported uniform value type.",R),D}function E(R){const D=R.target;D.removeEventListener("dispose",E);const U=o.indexOf(D.__bindingPointIndex);o.splice(U,1),n.deleteBuffer(a[D.id]),delete a[D.id],delete r[D.id]}function S(){for(const R in a)n.deleteBuffer(a[R]);o=[],a={},r={}}return{bind:f,update:d,dispose:S}}const Vne=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let Lc=null;function kne(){return Lc===null&&(Lc=new Go(Vne,32,32,IS,nh),Lc.minFilter=la,Lc.magFilter=la,Lc.wrapS=ss,Lc.wrapT=ss,Lc.generateMipmaps=!1,Lc.needsUpdate=!0),Lc}class v5{constructor(e={}){const{canvas:t=cz(),context:i=null,depth:a=!0,stencil:r=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const _=new Set([VS,FS,Vx]),T=new Set([co,qc,rm,sm,PS,zS]),E=new Uint32Array(4),S=new Int32Array(4);let R=null,D=null;const U=[],F=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Hl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let L=!1;this._outputColorSpace=mr;let B=0,I=0,V=null,W=-1,te=null;const ne=new Yn,ie=new Yn;let oe=null;const H=new Nt(0);let q=0,G=t.width,ee=t.height,ue=1,K=null,le=null;const _e=new Yn(0,0,G,ee),Se=new Yn(0,0,G,ee);let je=!1;const ve=new Rm;let pe=!1,Je=!1;const ct=new rn,gt=new $,wt=new Yn,$t={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Bt=!1;function ke(){return V===null?ue:1}let J=i;function Ge(X,de){return t.getContext(X,de)}try{const X={alpha:!0,depth:a,stencil:r,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ix}`),t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",Ve,!1),t.addEventListener("webglcontextcreationerror",St,!1),J===null){const de="webgl2";if(J=Ge(de,X),J===null)throw Ge(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw X("WebGLRenderer: "+X.message),X}let Ze,it,Ye,dt,st,_t,Q,j,be,Ue,Ie,Ne,Lt,ft,Ht,Dt,ze,qe,Ut,At,pt,Yt,ce,ut;function nt(){Ze=new Jee(J),Ze.init(),Yt=new y5(J,Ze),it=new Hee(J,Ze,e,Yt),Ye=new Dne(J,Ze),it.reversedDepthBuffer&&y&&Ye.buffers.depth.setReversed(!0),dt=new ete(J),st=new yne,_t=new One(J,Ze,Ye,st,it,Yt,dt),Q=new Gee(P),j=new Zee(P),be=new aQ(J),ce=new Vee(J,be),Ue=new Qee(J,be,dt,ce),Ie=new nte(J,Ue,be,dt),Ut=new tte(J,it,_t),Dt=new jee(st),Ne=new xne(P,Q,j,Ze,it,ce,Dt),Lt=new Ine(P,st),ft=new bne,Ht=new Tne(Ze),qe=new Fee(P,Q,j,Ye,Ie,b,f),ze=new Rne(P,Ie,it),ut=new Fne(J,dt,it,Ye),At=new kee(J,Ze,dt),pt=new $ee(J,Ze,dt),dt.programs=Ne.programs,P.capabilities=it,P.extensions=Ze,P.properties=st,P.renderLists=ft,P.shadowMap=ze,P.state=Ye,P.info=dt}nt();const ot=new zne(P,J);this.xr=ot,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const X=Ze.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Ze.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return ue},this.setPixelRatio=function(X){X!==void 0&&(ue=X,this.setSize(G,ee,!1))},this.getSize=function(X){return X.set(G,ee)},this.setSize=function(X,de,Ee=!0){if(ot.isPresenting){vt("WebGLRenderer: Can't change size while VR device is presenting.");return}G=X,ee=de,t.width=Math.floor(X*ue),t.height=Math.floor(de*ue),Ee===!0&&(t.style.width=X+"px",t.style.height=de+"px"),this.setViewport(0,0,X,de)},this.getDrawingBufferSize=function(X){return X.set(G*ue,ee*ue).floor()},this.setDrawingBufferSize=function(X,de,Ee){G=X,ee=de,ue=Ee,t.width=Math.floor(X*Ee),t.height=Math.floor(de*Ee),this.setViewport(0,0,X,de)},this.getCurrentViewport=function(X){return X.copy(ne)},this.getViewport=function(X){return X.copy(_e)},this.setViewport=function(X,de,Ee,Me){X.isVector4?_e.set(X.x,X.y,X.z,X.w):_e.set(X,de,Ee,Me),Ye.viewport(ne.copy(_e).multiplyScalar(ue).round())},this.getScissor=function(X){return X.copy(Se)},this.setScissor=function(X,de,Ee,Me){X.isVector4?Se.set(X.x,X.y,X.z,X.w):Se.set(X,de,Ee,Me),Ye.scissor(ie.copy(Se).multiplyScalar(ue).round())},this.getScissorTest=function(){return je},this.setScissorTest=function(X){Ye.setScissorTest(je=X)},this.setOpaqueSort=function(X){K=X},this.setTransparentSort=function(X){le=X},this.getClearColor=function(X){return X.copy(qe.getClearColor())},this.setClearColor=function(){qe.setClearColor(...arguments)},this.getClearAlpha=function(){return qe.getClearAlpha()},this.setClearAlpha=function(){qe.setClearAlpha(...arguments)},this.clear=function(X=!0,de=!0,Ee=!0){let Me=0;if(X){let he=!1;if(V!==null){const $e=V.texture.format;he=_.has($e)}if(he){const $e=V.texture.type,lt=T.has($e),mt=qe.getClearColor(),Ke=qe.getClearAlpha(),Tt=mt.r,Gt=mt.g,Pt=mt.b;lt?(E[0]=Tt,E[1]=Gt,E[2]=Pt,E[3]=Ke,J.clearBufferuiv(J.COLOR,0,E)):(S[0]=Tt,S[1]=Gt,S[2]=Pt,S[3]=Ke,J.clearBufferiv(J.COLOR,0,S))}else Me|=J.COLOR_BUFFER_BIT}de&&(Me|=J.DEPTH_BUFFER_BIT),Ee&&(Me|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",Ve,!1),t.removeEventListener("webglcontextcreationerror",St,!1),qe.dispose(),ft.dispose(),Ht.dispose(),st.dispose(),Q.dispose(),j.dispose(),Ie.dispose(),ce.dispose(),ut.dispose(),Ne.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",Re),ot.removeEventListener("sessionend",Qe),tt.stop()};function We(X){X.preventDefault(),xx("WebGLRenderer: Context Lost."),L=!0}function Ve(){xx("WebGLRenderer: Context Restored."),L=!1;const X=dt.autoReset,de=ze.enabled,Ee=ze.autoUpdate,Me=ze.needsUpdate,he=ze.type;nt(),dt.autoReset=X,ze.enabled=de,ze.autoUpdate=Ee,ze.needsUpdate=Me,ze.type=he}function St(X){ln("WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Kt(X){const de=X.target;de.removeEventListener("dispose",Kt),wn(de)}function wn(X){Tn(X),st.remove(X)}function Tn(X){const de=st.get(X).programs;de!==void 0&&(de.forEach(function(Ee){Ne.releaseProgram(Ee)}),X.isShaderMaterial&&Ne.releaseShaderCache(X))}this.renderBufferDirect=function(X,de,Ee,Me,he,$e){de===null&&(de=$t);const lt=he.isMesh&&he.matrixWorld.determinant()<0,mt=ni(X,de,Ee,Me,he);Ye.setMaterial(Me,lt);let Ke=Ee.index,Tt=1;if(Me.wireframe===!0){if(Ke=Ue.getWireframeAttribute(Ee),Ke===void 0)return;Tt=2}const Gt=Ee.drawRange,Pt=Ee.attributes.position;let It=Gt.start*Tt,yn=(Gt.start+Gt.count)*Tt;$e!==null&&(It=Math.max(It,$e.start*Tt),yn=Math.min(yn,($e.start+$e.count)*Tt)),Ke!==null?(It=Math.max(It,0),yn=Math.min(yn,Ke.count)):Pt!=null&&(It=Math.max(It,0),yn=Math.min(yn,Pt.count));const An=yn-It;if(An<0||An===1/0)return;ce.setup(he,Me,mt,Ee,Ke);let Mn,Zn=At;if(Ke!==null&&(Mn=be.get(Ke),Zn=pt,Zn.setIndex(Mn)),he.isMesh)Me.wireframe===!0?(Ye.setLineWidth(Me.wireframeLinewidth*ke()),Zn.setMode(J.LINES)):Zn.setMode(J.TRIANGLES);else if(he.isLine){let Zt=Me.linewidth;Zt===void 0&&(Zt=1),Ye.setLineWidth(Zt*ke()),he.isLineSegments?Zn.setMode(J.LINES):he.isLineLoop?Zn.setMode(J.LINE_LOOP):Zn.setMode(J.LINE_STRIP)}else he.isPoints?Zn.setMode(J.POINTS):he.isSprite&&Zn.setMode(J.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)um("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Zn.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(Ze.get("WEBGL_multi_draw"))Zn.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const Zt=he._multiDrawStarts,ri=he._multiDrawCounts,Nn=he._multiDrawCount,Gi=Ke?be.get(Ke).bytesPerElement:1,po=st.get(Me).currentProgram.getUniforms();for(let li=0;li<Nn;li++)po.setValue(J,"_gl_DrawID",li),Zn.render(Zt[li]/Gi,ri[li])}else if(he.isInstancedMesh)Zn.renderInstances(It,An,he.count);else if(Ee.isInstancedBufferGeometry){const Zt=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,ri=Math.min(Ee.instanceCount,Zt);Zn.renderInstances(It,An,ri)}else Zn.render(It,An)};function $i(X,de,Ee){X.transparent===!0&&X.side===Ol&&X.forceSinglePass===!1?(X.side=jr,X.needsUpdate=!0,ht(X,de,Ee),X.side=Gc,X.needsUpdate=!0,ht(X,de,Ee),X.side=Ol):ht(X,de,Ee)}this.compile=function(X,de,Ee=null){Ee===null&&(Ee=X),D=Ht.get(Ee),D.init(de),F.push(D),Ee.traverseVisible(function(he){he.isLight&&he.layers.test(de.layers)&&(D.pushLight(he),he.castShadow&&D.pushShadow(he))}),X!==Ee&&X.traverseVisible(function(he){he.isLight&&he.layers.test(de.layers)&&(D.pushLight(he),he.castShadow&&D.pushShadow(he))}),D.setupLights();const Me=new Set;return X.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const $e=he.material;if($e)if(Array.isArray($e))for(let lt=0;lt<$e.length;lt++){const mt=$e[lt];$i(mt,Ee,he),Me.add(mt)}else $i($e,Ee,he),Me.add($e)}),D=F.pop(),Me},this.compileAsync=function(X,de,Ee=null){const Me=this.compile(X,de,Ee);return new Promise(he=>{function $e(){if(Me.forEach(function(lt){st.get(lt).currentProgram.isReady()&&Me.delete(lt)}),Me.size===0){he(X);return}setTimeout($e,10)}Ze.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let ae=null;function ye(X){ae&&ae(X)}function Re(){tt.stop()}function Qe(){tt.start()}const tt=new h5;tt.setAnimationLoop(ye),typeof self<"u"&&tt.setContext(self),this.setAnimationLoop=function(X){ae=X,ot.setAnimationLoop(X),X===null?tt.stop():tt.start()},ot.addEventListener("sessionstart",Re),ot.addEventListener("sessionend",Qe),this.render=function(X,de){if(de!==void 0&&de.isCamera!==!0){ln("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(de),de=ot.getCamera()),X.isScene===!0&&X.onBeforeRender(P,X,de,V),D=Ht.get(X,F.length),D.init(de),F.push(D),ct.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),ve.setFromProjectionMatrix(ct,Cs,de.reversedDepth),Je=this.localClippingEnabled,pe=Dt.init(this.clippingPlanes,Je),R=ft.get(X,U.length),R.init(),U.push(R),ot.enabled===!0&&ot.isPresenting===!0){const $e=P.xr.getDepthSensingMesh();$e!==null&&Ot($e,de,-1/0,P.sortObjects)}Ot(X,de,0,P.sortObjects),R.finish(),P.sortObjects===!0&&R.sort(K,le),Bt=ot.enabled===!1||ot.isPresenting===!1||ot.hasDepthSensing()===!1,Bt&&qe.addToRenderList(R,X),this.info.render.frame++,pe===!0&&Dt.beginShadows();const Ee=D.state.shadowsArray;ze.render(Ee,X,de),pe===!0&&Dt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=R.opaque,he=R.transmissive;if(D.setupLights(),de.isArrayCamera){const $e=de.cameras;if(he.length>0)for(let lt=0,mt=$e.length;lt<mt;lt++){const Ke=$e[lt];bt(Me,he,X,Ke)}Bt&&qe.render(X);for(let lt=0,mt=$e.length;lt<mt;lt++){const Ke=$e[lt];Ct(R,X,Ke,Ke.viewport)}}else he.length>0&&bt(Me,he,X,de),Bt&&qe.render(X),Ct(R,X,de);V!==null&&I===0&&(_t.updateMultisampleRenderTarget(V),_t.updateRenderTargetMipmap(V)),X.isScene===!0&&X.onAfterRender(P,X,de),ce.resetDefaultState(),W=-1,te=null,F.pop(),F.length>0?(D=F[F.length-1],pe===!0&&Dt.setGlobalState(P.clippingPlanes,D.state.camera)):D=null,U.pop(),U.length>0?R=U[U.length-1]:R=null};function Ot(X,de,Ee,Me){if(X.visible===!1)return;if(X.layers.test(de.layers)){if(X.isGroup)Ee=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(de);else if(X.isLight)D.pushLight(X),X.castShadow&&D.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||ve.intersectsSprite(X)){Me&&wt.setFromMatrixPosition(X.matrixWorld).applyMatrix4(ct);const lt=Ie.update(X),mt=X.material;mt.visible&&R.push(X,lt,mt,Ee,wt.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||ve.intersectsObject(X))){const lt=Ie.update(X),mt=X.material;if(Me&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),wt.copy(X.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),wt.copy(lt.boundingSphere.center)),wt.applyMatrix4(X.matrixWorld).applyMatrix4(ct)),Array.isArray(mt)){const Ke=lt.groups;for(let Tt=0,Gt=Ke.length;Tt<Gt;Tt++){const Pt=Ke[Tt],It=mt[Pt.materialIndex];It&&It.visible&&R.push(X,lt,It,Ee,wt.z,Pt)}}else mt.visible&&R.push(X,lt,mt,Ee,wt.z,null)}}const $e=X.children;for(let lt=0,mt=$e.length;lt<mt;lt++)Ot($e[lt],de,Ee,Me)}function Ct(X,de,Ee,Me){const{opaque:he,transmissive:$e,transparent:lt}=X;D.setupLightsView(Ee),pe===!0&&Dt.setGlobalState(P.clippingPlanes,Ee),Me&&Ye.viewport(ne.copy(Me)),he.length>0&&Mt(he,de,Ee),$e.length>0&&Mt($e,de,Ee),lt.length>0&&Mt(lt,de,Ee),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function bt(X,de,Ee,Me){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;D.state.transmissionRenderTarget[Me.id]===void 0&&(D.state.transmissionRenderTarget[Me.id]=new Xl(1,1,{generateMipmaps:!0,type:Ze.has("EXT_color_buffer_half_float")||Ze.has("EXT_color_buffer_float")?nh:co,minFilter:Ul,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xn.workingColorSpace}));const $e=D.state.transmissionRenderTarget[Me.id],lt=Me.viewport||ne;$e.setSize(lt.z*P.transmissionResolutionScale,lt.w*P.transmissionResolutionScale);const mt=P.getRenderTarget(),Ke=P.getActiveCubeFace(),Tt=P.getActiveMipmapLevel();P.setRenderTarget($e),P.getClearColor(H),q=P.getClearAlpha(),q<1&&P.setClearColor(16777215,.5),P.clear(),Bt&&qe.render(Ee);const Gt=P.toneMapping;P.toneMapping=Hl;const Pt=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),D.setupLightsView(Me),pe===!0&&Dt.setGlobalState(P.clippingPlanes,Me),Mt(X,Ee,Me),_t.updateMultisampleRenderTarget($e),_t.updateRenderTargetMipmap($e),Ze.has("WEBGL_multisampled_render_to_texture")===!1){let It=!1;for(let yn=0,An=de.length;yn<An;yn++){const Mn=de[yn],{object:Zn,geometry:Zt,material:ri,group:Nn}=Mn;if(ri.side===Ol&&Zn.layers.test(Me.layers)){const Gi=ri.side;ri.side=jr,ri.needsUpdate=!0,at(Zn,Ee,Me,Zt,ri,Nn),ri.side=Gi,ri.needsUpdate=!0,It=!0}}It===!0&&(_t.updateMultisampleRenderTarget($e),_t.updateRenderTargetMipmap($e))}P.setRenderTarget(mt,Ke,Tt),P.setClearColor(H,q),Pt!==void 0&&(Me.viewport=Pt),P.toneMapping=Gt}function Mt(X,de,Ee){const Me=de.isScene===!0?de.overrideMaterial:null;for(let he=0,$e=X.length;he<$e;he++){const lt=X[he],{object:mt,geometry:Ke,group:Tt}=lt;let Gt=lt.material;Gt.allowOverride===!0&&Me!==null&&(Gt=Me),mt.layers.test(Ee.layers)&&at(mt,de,Ee,Ke,Gt,Tt)}}function at(X,de,Ee,Me,he,$e){X.onBeforeRender(P,de,Ee,Me,he,$e),X.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),he.onBeforeRender(P,de,Ee,Me,X,$e),he.transparent===!0&&he.side===Ol&&he.forceSinglePass===!1?(he.side=jr,he.needsUpdate=!0,P.renderBufferDirect(Ee,de,Me,he,X,$e),he.side=Gc,he.needsUpdate=!0,P.renderBufferDirect(Ee,de,Me,he,X,$e),he.side=Ol):P.renderBufferDirect(Ee,de,Me,he,X,$e),X.onAfterRender(P,de,Ee,Me,he,$e)}function ht(X,de,Ee){de.isScene!==!0&&(de=$t);const Me=st.get(X),he=D.state.lights,$e=D.state.shadowsArray,lt=he.state.version,mt=Ne.getParameters(X,he.state,$e,de,Ee),Ke=Ne.getProgramCacheKey(mt);let Tt=Me.programs;Me.environment=X.isMeshStandardMaterial?de.environment:null,Me.fog=de.fog,Me.envMap=(X.isMeshStandardMaterial?j:Q).get(X.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&X.envMap===null?de.environmentRotation:X.envMapRotation,Tt===void 0&&(X.addEventListener("dispose",Kt),Tt=new Map,Me.programs=Tt);let Gt=Tt.get(Ke);if(Gt!==void 0){if(Me.currentProgram===Gt&&Me.lightsStateVersion===lt)return fn(X,mt),Gt}else mt.uniforms=Ne.getUniforms(X),X.onBeforeCompile(mt,P),Gt=Ne.acquireProgram(mt,Ke),Tt.set(Ke,Gt),Me.uniforms=mt.uniforms;const Pt=Me.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Pt.clippingPlanes=Dt.uniform),fn(X,mt),Me.needsLights=Ai(X),Me.lightsStateVersion=lt,Me.needsLights&&(Pt.ambientLightColor.value=he.state.ambient,Pt.lightProbe.value=he.state.probe,Pt.directionalLights.value=he.state.directional,Pt.directionalLightShadows.value=he.state.directionalShadow,Pt.spotLights.value=he.state.spot,Pt.spotLightShadows.value=he.state.spotShadow,Pt.rectAreaLights.value=he.state.rectArea,Pt.ltc_1.value=he.state.rectAreaLTC1,Pt.ltc_2.value=he.state.rectAreaLTC2,Pt.pointLights.value=he.state.point,Pt.pointLightShadows.value=he.state.pointShadow,Pt.hemisphereLights.value=he.state.hemi,Pt.directionalShadowMap.value=he.state.directionalShadowMap,Pt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Pt.spotShadowMap.value=he.state.spotShadowMap,Pt.spotLightMatrix.value=he.state.spotLightMatrix,Pt.spotLightMap.value=he.state.spotLightMap,Pt.pointShadowMap.value=he.state.pointShadowMap,Pt.pointShadowMatrix.value=he.state.pointShadowMatrix),Me.currentProgram=Gt,Me.uniformsList=null,Gt}function Rt(X){if(X.uniformsList===null){const de=X.currentProgram.getUniforms();X.uniformsList=Xb.seqWithValue(de.seq,X.uniforms)}return X.uniformsList}function fn(X,de){const Ee=st.get(X);Ee.outputColorSpace=de.outputColorSpace,Ee.batching=de.batching,Ee.batchingColor=de.batchingColor,Ee.instancing=de.instancing,Ee.instancingColor=de.instancingColor,Ee.instancingMorph=de.instancingMorph,Ee.skinning=de.skinning,Ee.morphTargets=de.morphTargets,Ee.morphNormals=de.morphNormals,Ee.morphColors=de.morphColors,Ee.morphTargetsCount=de.morphTargetsCount,Ee.numClippingPlanes=de.numClippingPlanes,Ee.numIntersection=de.numClipIntersection,Ee.vertexAlphas=de.vertexAlphas,Ee.vertexTangents=de.vertexTangents,Ee.toneMapping=de.toneMapping}function ni(X,de,Ee,Me,he){de.isScene!==!0&&(de=$t),_t.resetTextureUnits();const $e=de.fog,lt=Me.isMeshStandardMaterial?de.environment:null,mt=V===null?P.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:rf,Ke=(Me.isMeshStandardMaterial?j:Q).get(Me.envMap||lt),Tt=Me.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Gt=!!Ee.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),Pt=!!Ee.morphAttributes.position,It=!!Ee.morphAttributes.normal,yn=!!Ee.morphAttributes.color;let An=Hl;Me.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(An=P.toneMapping);const Mn=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,Zn=Mn!==void 0?Mn.length:0,Zt=st.get(Me),ri=D.state.lights;if(pe===!0&&(Je===!0||X!==te)){const na=X===te&&Me.id===W;Dt.setState(Me,X,na)}let Nn=!1;Me.version===Zt.__version?(Zt.needsLights&&Zt.lightsStateVersion!==ri.state.version||Zt.outputColorSpace!==mt||he.isBatchedMesh&&Zt.batching===!1||!he.isBatchedMesh&&Zt.batching===!0||he.isBatchedMesh&&Zt.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&Zt.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&Zt.instancing===!1||!he.isInstancedMesh&&Zt.instancing===!0||he.isSkinnedMesh&&Zt.skinning===!1||!he.isSkinnedMesh&&Zt.skinning===!0||he.isInstancedMesh&&Zt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&Zt.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&Zt.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&Zt.instancingMorph===!1&&he.morphTexture!==null||Zt.envMap!==Ke||Me.fog===!0&&Zt.fog!==$e||Zt.numClippingPlanes!==void 0&&(Zt.numClippingPlanes!==Dt.numPlanes||Zt.numIntersection!==Dt.numIntersection)||Zt.vertexAlphas!==Tt||Zt.vertexTangents!==Gt||Zt.morphTargets!==Pt||Zt.morphNormals!==It||Zt.morphColors!==yn||Zt.toneMapping!==An||Zt.morphTargetsCount!==Zn)&&(Nn=!0):(Nn=!0,Zt.__version=Me.version);let Gi=Zt.currentProgram;Nn===!0&&(Gi=ht(Me,de,he));let po=!1,li=!1,Os=!1;const ci=Gi.getUniforms(),ea=Zt.uniforms;if(Ye.useProgram(Gi.program)&&(po=!0,li=!0,Os=!0),Me.id!==W&&(W=Me.id,li=!0),po||te!==X){Ye.buffers.depth.getReversed()&&X.reversedDepth!==!0&&(X._reversedDepth=!0,X.updateProjectionMatrix()),ci.setValue(J,"projectionMatrix",X.projectionMatrix),ci.setValue(J,"viewMatrix",X.matrixWorldInverse);const Ci=ci.map.cameraPosition;Ci!==void 0&&Ci.setValue(J,gt.setFromMatrixPosition(X.matrixWorld)),it.logarithmicDepthBuffer&&ci.setValue(J,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&ci.setValue(J,"isOrthographic",X.isOrthographicCamera===!0),te!==X&&(te=X,li=!0,Os=!0)}if(he.isSkinnedMesh){ci.setOptional(J,he,"bindMatrix"),ci.setOptional(J,he,"bindMatrixInverse");const na=he.skeleton;na&&(na.boneTexture===null&&na.computeBoneTexture(),ci.setValue(J,"boneTexture",na.boneTexture,_t))}he.isBatchedMesh&&(ci.setOptional(J,he,"batchingTexture"),ci.setValue(J,"batchingTexture",he._matricesTexture,_t),ci.setOptional(J,he,"batchingIdTexture"),ci.setValue(J,"batchingIdTexture",he._indirectTexture,_t),ci.setOptional(J,he,"batchingColorTexture"),he._colorsTexture!==null&&ci.setValue(J,"batchingColorTexture",he._colorsTexture,_t));const ta=Ee.morphAttributes;if((ta.position!==void 0||ta.normal!==void 0||ta.color!==void 0)&&Ut.update(he,Ee,Gi),(li||Zt.receiveShadow!==he.receiveShadow)&&(Zt.receiveShadow=he.receiveShadow,ci.setValue(J,"receiveShadow",he.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(ea.envMap.value=Ke,ea.flipEnvMap.value=Ke.isCubeTexture&&Ke.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&de.environment!==null&&(ea.envMapIntensity.value=de.environmentIntensity),ea.dfgLUT!==void 0&&(ea.dfgLUT.value=kne()),li&&(ci.setValue(J,"toneMappingExposure",P.toneMappingExposure),Zt.needsLights&&Ti(ea,Os),$e&&Me.fog===!0&&Lt.refreshFogUniforms(ea,$e),Lt.refreshMaterialUniforms(ea,Me,ue,ee,D.state.transmissionRenderTarget[X.id]),Xb.upload(J,Rt(Zt),ea,_t)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(Xb.upload(J,Rt(Zt),ea,_t),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&ci.setValue(J,"center",he.center),ci.setValue(J,"modelViewMatrix",he.modelViewMatrix),ci.setValue(J,"normalMatrix",he.normalMatrix),ci.setValue(J,"modelMatrix",he.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const na=Me.uniformsGroups;for(let Ci=0,ds=na.length;Ci<ds;Ci++){const qr=na[Ci];ut.update(qr,Gi),ut.bind(qr,Gi)}}return Gi}function Ti(X,de){X.ambientLightColor.needsUpdate=de,X.lightProbe.needsUpdate=de,X.directionalLights.needsUpdate=de,X.directionalLightShadows.needsUpdate=de,X.pointLights.needsUpdate=de,X.pointLightShadows.needsUpdate=de,X.spotLights.needsUpdate=de,X.spotLightShadows.needsUpdate=de,X.rectAreaLights.needsUpdate=de,X.hemisphereLights.needsUpdate=de}function Ai(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(X,de,Ee){const Me=st.get(X);Me.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),st.get(X.texture).__webglTexture=de,st.get(X.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:Ee,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,de){const Ee=st.get(X);Ee.__webglFramebuffer=de,Ee.__useDefaultFramebuffer=de===void 0};const Fn=J.createFramebuffer();this.setRenderTarget=function(X,de=0,Ee=0){V=X,B=de,I=Ee;let Me=!0,he=null,$e=!1,lt=!1;if(X){const Ke=st.get(X);if(Ke.__useDefaultFramebuffer!==void 0)Ye.bindFramebuffer(J.FRAMEBUFFER,null),Me=!1;else if(Ke.__webglFramebuffer===void 0)_t.setupRenderTarget(X);else if(Ke.__hasExternalTextures)_t.rebindTextures(X,st.get(X.texture).__webglTexture,st.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const Pt=X.depthTexture;if(Ke.__boundDepthTexture!==Pt){if(Pt!==null&&st.has(Pt)&&(X.width!==Pt.image.width||X.height!==Pt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");_t.setupDepthRenderbuffer(X)}}const Tt=X.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(lt=!0);const Gt=st.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Gt[de])?he=Gt[de][Ee]:he=Gt[de],$e=!0):X.samples>0&&_t.useMultisampledRTT(X)===!1?he=st.get(X).__webglMultisampledFramebuffer:Array.isArray(Gt)?he=Gt[Ee]:he=Gt,ne.copy(X.viewport),ie.copy(X.scissor),oe=X.scissorTest}else ne.copy(_e).multiplyScalar(ue).floor(),ie.copy(Se).multiplyScalar(ue).floor(),oe=je;if(Ee!==0&&(he=Fn),Ye.bindFramebuffer(J.FRAMEBUFFER,he)&&Me&&Ye.drawBuffers(X,he),Ye.viewport(ne),Ye.scissor(ie),Ye.setScissorTest(oe),$e){const Ke=st.get(X.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ke.__webglTexture,Ee)}else if(lt){const Ke=de;for(let Tt=0;Tt<X.textures.length;Tt++){const Gt=st.get(X.textures[Tt]);J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0+Tt,Gt.__webglTexture,Ee,Ke)}}else if(X!==null&&Ee!==0){const Ke=st.get(X.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Ke.__webglTexture,Ee)}W=-1},this.readRenderTargetPixels=function(X,de,Ee,Me,he,$e,lt,mt=0){if(!(X&&X.isWebGLRenderTarget)){ln("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ke=st.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&lt!==void 0&&(Ke=Ke[lt]),Ke){Ye.bindFramebuffer(J.FRAMEBUFFER,Ke);try{const Tt=X.textures[mt],Gt=Tt.format,Pt=Tt.type;if(!it.textureFormatReadable(Gt)){ln("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!it.textureTypeReadable(Pt)){ln("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=X.width-Me&&Ee>=0&&Ee<=X.height-he&&(X.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+mt),J.readPixels(de,Ee,Me,he,Yt.convert(Gt),Yt.convert(Pt),$e))}finally{const Tt=V!==null?st.get(V).__webglFramebuffer:null;Ye.bindFramebuffer(J.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(X,de,Ee,Me,he,$e,lt,mt=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ke=st.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&lt!==void 0&&(Ke=Ke[lt]),Ke)if(de>=0&&de<=X.width-Me&&Ee>=0&&Ee<=X.height-he){Ye.bindFramebuffer(J.FRAMEBUFFER,Ke);const Tt=X.textures[mt],Gt=Tt.format,Pt=Tt.type;if(!it.textureFormatReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!it.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const It=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,It),J.bufferData(J.PIXEL_PACK_BUFFER,$e.byteLength,J.STREAM_READ),X.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+mt),J.readPixels(de,Ee,Me,he,Yt.convert(Gt),Yt.convert(Pt),0);const yn=V!==null?st.get(V).__webglFramebuffer:null;Ye.bindFramebuffer(J.FRAMEBUFFER,yn);const An=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await aK(J,An,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,It),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,$e),J.deleteBuffer(It),J.deleteSync(An),$e}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,de=null,Ee=0){const Me=Math.pow(2,-Ee),he=Math.floor(X.image.width*Me),$e=Math.floor(X.image.height*Me),lt=de!==null?de.x:0,mt=de!==null?de.y:0;_t.setTexture2D(X,0),J.copyTexSubImage2D(J.TEXTURE_2D,Ee,0,0,lt,mt,he,$e),Ye.unbindTexture()};const Vn=J.createFramebuffer(),ii=J.createFramebuffer();this.copyTextureToTexture=function(X,de,Ee=null,Me=null,he=0,$e=null){$e===null&&(he!==0?(um("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),$e=he,he=0):$e=0);let lt,mt,Ke,Tt,Gt,Pt,It,yn,An;const Mn=X.isCompressedTexture?X.mipmaps[$e]:X.image;if(Ee!==null)lt=Ee.max.x-Ee.min.x,mt=Ee.max.y-Ee.min.y,Ke=Ee.isBox3?Ee.max.z-Ee.min.z:1,Tt=Ee.min.x,Gt=Ee.min.y,Pt=Ee.isBox3?Ee.min.z:0;else{const ta=Math.pow(2,-he);lt=Math.floor(Mn.width*ta),mt=Math.floor(Mn.height*ta),X.isDataArrayTexture?Ke=Mn.depth:X.isData3DTexture?Ke=Math.floor(Mn.depth*ta):Ke=1,Tt=0,Gt=0,Pt=0}Me!==null?(It=Me.x,yn=Me.y,An=Me.z):(It=0,yn=0,An=0);const Zn=Yt.convert(de.format),Zt=Yt.convert(de.type);let ri;de.isData3DTexture?(_t.setTexture3D(de,0),ri=J.TEXTURE_3D):de.isDataArrayTexture||de.isCompressedArrayTexture?(_t.setTexture2DArray(de,0),ri=J.TEXTURE_2D_ARRAY):(_t.setTexture2D(de,0),ri=J.TEXTURE_2D),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,de.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,de.unpackAlignment);const Nn=J.getParameter(J.UNPACK_ROW_LENGTH),Gi=J.getParameter(J.UNPACK_IMAGE_HEIGHT),po=J.getParameter(J.UNPACK_SKIP_PIXELS),li=J.getParameter(J.UNPACK_SKIP_ROWS),Os=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,Mn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Mn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Tt),J.pixelStorei(J.UNPACK_SKIP_ROWS,Gt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Pt);const ci=X.isDataArrayTexture||X.isData3DTexture,ea=de.isDataArrayTexture||de.isData3DTexture;if(X.isDepthTexture){const ta=st.get(X),na=st.get(de),Ci=st.get(ta.__renderTarget),ds=st.get(na.__renderTarget);Ye.bindFramebuffer(J.READ_FRAMEBUFFER,Ci.__webglFramebuffer),Ye.bindFramebuffer(J.DRAW_FRAMEBUFFER,ds.__webglFramebuffer);for(let qr=0;qr<Ke;qr++)ci&&(J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,st.get(X).__webglTexture,he,Pt+qr),J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,st.get(de).__webglTexture,$e,An+qr)),J.blitFramebuffer(Tt,Gt,lt,mt,It,yn,lt,mt,J.DEPTH_BUFFER_BIT,J.NEAREST);Ye.bindFramebuffer(J.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else if(he!==0||X.isRenderTargetTexture||st.has(X)){const ta=st.get(X),na=st.get(de);Ye.bindFramebuffer(J.READ_FRAMEBUFFER,Vn),Ye.bindFramebuffer(J.DRAW_FRAMEBUFFER,ii);for(let Ci=0;Ci<Ke;Ci++)ci?J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,ta.__webglTexture,he,Pt+Ci):J.framebufferTexture2D(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,ta.__webglTexture,he),ea?J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,na.__webglTexture,$e,An+Ci):J.framebufferTexture2D(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,na.__webglTexture,$e),he!==0?J.blitFramebuffer(Tt,Gt,lt,mt,It,yn,lt,mt,J.COLOR_BUFFER_BIT,J.NEAREST):ea?J.copyTexSubImage3D(ri,$e,It,yn,An+Ci,Tt,Gt,lt,mt):J.copyTexSubImage2D(ri,$e,It,yn,Tt,Gt,lt,mt);Ye.bindFramebuffer(J.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else ea?X.isDataTexture||X.isData3DTexture?J.texSubImage3D(ri,$e,It,yn,An,lt,mt,Ke,Zn,Zt,Mn.data):de.isCompressedArrayTexture?J.compressedTexSubImage3D(ri,$e,It,yn,An,lt,mt,Ke,Zn,Mn.data):J.texSubImage3D(ri,$e,It,yn,An,lt,mt,Ke,Zn,Zt,Mn):X.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,$e,It,yn,lt,mt,Zn,Zt,Mn.data):X.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,$e,It,yn,Mn.width,Mn.height,Zn,Mn.data):J.texSubImage2D(J.TEXTURE_2D,$e,It,yn,lt,mt,Zn,Zt,Mn);J.pixelStorei(J.UNPACK_ROW_LENGTH,Nn),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Gi),J.pixelStorei(J.UNPACK_SKIP_PIXELS,po),J.pixelStorei(J.UNPACK_SKIP_ROWS,li),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Os),$e===0&&de.generateMipmaps&&J.generateMipmap(ri),Ye.unbindTexture()},this.initRenderTarget=function(X){st.get(X).__webglFramebuffer===void 0&&_t.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?_t.setTextureCube(X,0):X.isData3DTexture?_t.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?_t.setTexture2DArray(X,0):_t.setTexture2D(X,0),Ye.unbindTexture()},this.resetState=function(){B=0,I=0,V=null,Ye.reset(),ce.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Cs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Xn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xn._getUnpackColorSpace()}}const Hne=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:C2,AddEquation:qu,AddOperation:k4,AdditiveAnimationBlendMode:z2,AdditiveBlending:Fw,AgXToneMapping:q4,AlphaFormat:U2,AlwaysCompare:oz,AlwaysDepth:g_,AlwaysStencilFunc:jw,AmbientLight:t5,AnimationAction:u5,AnimationClip:Mx,AnimationLoader:YZ,AnimationMixer:MJ,AnimationObjectGroup:_J,AnimationUtils:GZ,ArcCurve:Tz,ArrayCamera:o5,ArrowHelper:KJ,AttachedBindMode:Hw,Audio:l5,AudioAnalyser:fJ,AudioContext:oA,AudioListener:lJ,AudioLoader:rJ,AxesHelper:ZJ,BackSide:jr,BasicDepthPacking:Q4,BasicShadowMap:_4,BatchedMesh:_z,Bone:G2,BooleanKeyframeTrack:ah,Box2:LJ,Box3:vr,Box3Helper:WJ,BoxGeometry:ih,BoxHelper:qJ,BufferAttribute:gi,BufferGeometry:mn,BufferGeometryLoader:s5,ByteType:N2,Cache:Pl,Camera:GS,CameraHelper:XJ,CanvasTexture:hZ,CapsuleGeometry:QS,CatmullRomCurve3:Az,CineonToneMapping:G4,CircleGeometry:$S,ClampToEdgeWrapping:ss,Clock:lA,Color:Nt,ColorKeyframeTrack:aA,ColorManagement:Xn,CompressedArrayTexture:fZ,CompressedCubeTexture:dZ,CompressedTexture:JS,CompressedTextureLoader:KZ,ConeGeometry:jx,ConstantAlphaFactor:I4,ConstantColorFactor:z4,Controls:QJ,CubeCamera:pz,CubeReflectionMapping:Xc,CubeRefractionMapping:af,CubeTexture:kx,CubeTextureLoader:ZZ,CubeUVReflectionMapping:Am,CubicBezierCurve:Y2,CubicBezierCurve3:Cz,CubicInterpolant:Wz,CullFaceBack:Iw,CullFaceFront:b4,CullFaceFrontBack:vY,CullFaceNone:v4,Curve:Wo,CurvePath:Nz,CustomBlending:S4,CustomToneMapping:X4,CylinderGeometry:Hx,Cylindrical:OJ,Data3DTexture:jS,DataArrayTexture:HS,DataTexture:Go,DataTextureLoader:JZ,DataUtils:zK,DecrementStencilOp:LY,DecrementWrapStencilOp:PY,DefaultLoadingManager:Zz,DepthFormat:om,DepthStencilFormat:lm,DepthTexture:X2,DetachedBindMode:Y4,DirectionalLight:e5,DirectionalLightHelper:GJ,DiscreteInterpolant:Yz,DodecahedronGeometry:e1,DoubleSide:Ol,DstAlphaFactor:D4,DstColorFactor:L4,DynamicCopyUsage:KY,DynamicDrawUsage:Vd,DynamicReadUsage:qY,EdgesGeometry:wz,EllipseCurve:t1,EqualCompare:iz,EqualDepth:y_,EqualStencilFunc:FY,EquirectangularReflectionMapping:lx,EquirectangularRefractionMapping:cx,Euler:Ds,EventDispatcher:Kl,ExternalTexture:q2,ExtrudeGeometry:n1,FileLoader:Wc,Float16BufferAttribute:jK,Float32BufferAttribute:kt,FloatType:os,Fog:qS,FogExp2:XS,FramebufferTexture:uZ,FrontSide:Gc,Frustum:Rm,FrustumArray:KS,GLBufferAttribute:CJ,GLSL1:JY,GLSL3:Gw,GreaterCompare:az,GreaterDepth:b_,GreaterEqualCompare:sz,GreaterEqualDepth:v_,GreaterEqualStencilFunc:jY,GreaterStencilFunc:kY,GridHelper:HJ,Group:Yp,HalfFloatType:nh,HemisphereLight:Jz,HemisphereLightHelper:kJ,IcosahedronGeometry:i1,ImageBitmapLoader:aJ,ImageLoader:Ex,ImageUtils:uz,IncrementStencilOp:OY,IncrementWrapStencilOp:UY,InstancedBufferAttribute:pm,InstancedBufferGeometry:r5,InstancedInterleavedBuffer:AJ,InstancedMesh:bz,Int16BufferAttribute:kK,Int32BufferAttribute:HK,Int8BufferAttribute:IK,IntType:US,InterleavedBuffer:WS,InterleavedBufferAttribute:Wd,Interpolant:qx,InterpolateDiscrete:dx,InterpolateLinear:Z_,InterpolateSmooth:jb,InterpolationSamplingMode:eK,InterpolationSamplingType:$Y,InvertStencilOp:zY,KeepStencilOp:Cd,KeyframeTrack:ho,LOD:yz,LatheGeometry:a1,Layers:dm,LessCompare:nz,LessDepth:x_,LessEqualCompare:B2,LessEqualDepth:qd,LessEqualStencilFunc:VY,LessStencilFunc:IY,Light:xf,LightProbe:a5,Line:of,Line3:zJ,LineBasicMaterial:Xr,LineCurve:K2,LineCurve3:Rz,LineDashedMaterial:Gz,LineLoop:Sz,LineSegments:Zl,LinearFilter:la,LinearInterpolant:iA,LinearMipMapLinearFilter:MY,LinearMipMapNearestFilter:SY,LinearMipmapLinearFilter:Ul,LinearMipmapNearestFilter:Vg,LinearSRGBColorSpace:rf,LinearToneMapping:H4,LinearTransfer:px,Loader:fs,LoaderUtils:Kw,LoadingManager:rA,LoopOnce:K4,LoopPingPong:J4,LoopRepeat:Z4,MOUSE:xY,Material:br,MaterialLoader:f1,MathUtils:_K,Matrix2:dA,Matrix3:pn,Matrix4:rn,MaxEquation:T4,Mesh:Aa,MeshBasicMaterial:mf,MeshDepthMaterial:eA,MeshDistanceMaterial:tA,MeshLambertMaterial:Hz,MeshMatcapMaterial:jz,MeshNormalMaterial:kz,MeshPhongMaterial:Fz,MeshPhysicalMaterial:Iz,MeshStandardMaterial:$2,MeshToonMaterial:Vz,MinEquation:w4,MirroredRepeatWrapping:fx,MixOperation:V4,MultiplyBlending:kw,MultiplyOperation:Fx,NearestFilter:Za,NearestMipMapLinearFilter:_Y,NearestMipMapNearestFilter:bY,NearestMipmapLinearFilter:qp,NearestMipmapNearestFilter:R2,NeutralToneMapping:W4,NeverCompare:tz,NeverDepth:m_,NeverStencilFunc:BY,NoBlending:kl,NoColorSpace:zc,NoToneMapping:Hl,NormalAnimationBlendMode:kS,NormalBlending:Fd,NotEqualCompare:rz,NotEqualDepth:__,NotEqualStencilFunc:HY,NumberKeyframeTrack:_x,Object3D:Kn,ObjectLoader:nJ,ObjectSpaceNormalMap:ez,OctahedronGeometry:Gx,OneFactor:C4,OneMinusConstantAlphaFactor:F4,OneMinusConstantColorFactor:B4,OneMinusDstAlphaFactor:O4,OneMinusDstColorFactor:U4,OneMinusSrcAlphaFactor:p_,OneMinusSrcColorFactor:N4,OrthographicCamera:Yx,PCFShadowMap:OS,PCFSoftShadowMap:Fg,PMREMGenerator:Qw,Path:eS,PerspectiveCamera:Va,Plane:ju,PlaneGeometry:Nm,PlaneHelper:YJ,PointLight:$z,PointLightHelper:FJ,Points:Mz,PointsMaterial:ZS,PolarGridHelper:jJ,PolyhedronGeometry:gf,PositionalAudio:uJ,PropertyBinding:Wn,PropertyMixer:c5,QuadraticBezierCurve:Z2,QuadraticBezierCurve3:J2,Quaternion:ls,QuaternionKeyframeTrack:Wx,QuaternionLinearInterpolant:Kz,RED_GREEN_RGTC2_Format:Y_,RED_RGTC1_Format:q_,REVISION:Ix,RGBADepthPacking:$4,RGBAFormat:yr,RGBAIntegerFormat:VS,RGBA_ASTC_10x10_Format:V_,RGBA_ASTC_10x5_Format:B_,RGBA_ASTC_10x6_Format:I_,RGBA_ASTC_10x8_Format:F_,RGBA_ASTC_12x10_Format:k_,RGBA_ASTC_12x12_Format:H_,RGBA_ASTC_4x4_Format:R_,RGBA_ASTC_5x4_Format:N_,RGBA_ASTC_5x5_Format:D_,RGBA_ASTC_6x5_Format:O_,RGBA_ASTC_6x6_Format:L_,RGBA_ASTC_8x5_Format:U_,RGBA_ASTC_8x6_Format:P_,RGBA_ASTC_8x8_Format:z_,RGBA_BPTC_Format:j_,RGBA_ETC2_EAC_Format:C_,RGBA_PVRTC_2BPPV1_Format:w_,RGBA_PVRTC_4BPPV1_Format:E_,RGBA_S3TC_DXT1_Format:Hg,RGBA_S3TC_DXT3_Format:jg,RGBA_S3TC_DXT5_Format:Gg,RGBDepthPacking:CY,RGBFormat:P2,RGBIntegerFormat:EY,RGB_BPTC_SIGNED_Format:G_,RGB_BPTC_UNSIGNED_Format:X_,RGB_ETC1_Format:T_,RGB_ETC2_Format:A_,RGB_PVRTC_2BPPV1_Format:M_,RGB_PVRTC_4BPPV1_Format:S_,RGB_S3TC_DXT1_Format:kg,RGDepthPacking:RY,RGFormat:IS,RGIntegerFormat:FS,RawShaderMaterial:Bz,Ray:Cm,Raycaster:f5,RectAreaLight:n5,RedFormat:BS,RedIntegerFormat:Vx,ReinhardToneMapping:j4,RenderTarget:F2,RenderTarget3D:EJ,RepeatWrapping:ux,ReplaceStencilOp:DY,ReverseSubtractEquation:E4,RingGeometry:r1,SIGNED_RED_GREEN_RGTC2_Format:K_,SIGNED_RED_RGTC1_Format:W_,SRGBColorSpace:mr,SRGBTransfer:fi,Scene:H2,ShaderChunk:_n,ShaderLib:Ho,ShaderMaterial:uo,ShadowMaterial:zz,Shape:Hd,ShapeGeometry:s1,ShapePath:JJ,ShapeUtils:jo,ShortType:D2,Skeleton:YS,SkeletonHelper:IJ,SkinnedMesh:vz,Source:Zu,Sphere:Ja,SphereGeometry:Xx,Spherical:DJ,SphericalHarmonics3:i5,SplineCurve:Q2,SpotLight:Qz,SpotLightHelper:BJ,Sprite:xz,SpriteMaterial:j2,SrcAlphaFactor:h_,SrcAlphaSaturateFactor:P4,SrcColorFactor:R4,StaticCopyUsage:YY,StaticDrawUsage:mx,StaticReadUsage:XY,StereoCamera:sJ,StreamCopyUsage:ZY,StreamDrawUsage:GY,StreamReadUsage:WY,StringKeyframeTrack:rh,SubtractEquation:M4,SubtractiveBlending:Vw,TOUCH:yY,TangentSpaceNormalMap:pf,TetrahedronGeometry:o1,Texture:Ji,TextureLoader:QZ,TextureUtils:iQ,Timer:RJ,TimestampQuery:QY,TorusGeometry:l1,TorusKnotGeometry:c1,Triangle:as,TriangleFanDrawMode:AY,TriangleStripDrawMode:TY,TrianglesDrawMode:wY,TubeGeometry:u1,UVMapping:LS,Uint16BufferAttribute:V2,Uint32BufferAttribute:k2,Uint8BufferAttribute:FK,Uint8ClampedBufferAttribute:VK,Uniform:fA,UniformsGroup:TJ,UniformsLib:yt,UniformsUtils:hz,UnsignedByteType:co,UnsignedInt101111Type:L2,UnsignedInt248Type:sm,UnsignedInt5999Type:O2,UnsignedIntType:qc,UnsignedShort4444Type:PS,UnsignedShort5551Type:zS,UnsignedShortType:rm,VSMShadowMap:ko,Vector2:Xe,Vector3:$,Vector4:Yn,VectorKeyframeTrack:Sx,VideoFrameTexture:cZ,VideoTexture:Ez,WebGL3DRenderTarget:TK,WebGLArrayRenderTarget:wK,WebGLCoordinateSystem:Cs,WebGLCubeRenderTarget:mz,WebGLRenderTarget:Xl,WebGLRenderer:v5,WebGLUtils:y5,WebGPUCoordinateSystem:cm,WebXRController:Gb,WireframeGeometry:Pz,WrapAroundEnding:hx,ZeroCurvatureEnding:Ld,ZeroFactor:A4,ZeroSlopeEnding:Ud,ZeroStencilOp:NY,createCanvasElement:cz,error:ln,getConsoleFunction:iK,log:xx,setConsoleFunction:nK,warn:vt,warnOnce:um},Symbol.toStringTag,{value:"Module"}));var UE={exports:{}},PE={},zE={exports:{}},BE={};var AD;function jne(){if(AD)return BE;AD=1;var n=ym();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,r=n.useLayoutEffect,o=n.useDebugValue;function c(g,y){var b=y(),_=i({inst:{value:b,getSnapshot:y}}),T=_[0].inst,E=_[1];return r(function(){T.value=b,T.getSnapshot=y,f(T)&&E({inst:T})},[g,b,y]),a(function(){return f(T)&&E({inst:T}),g(function(){f(T)&&E({inst:T})})},[g]),o(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!t(g,b)}catch{return!0}}function d(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return BE.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,BE}var CD;function Gne(){return CD||(CD=1,zE.exports=jne()),zE.exports}var RD;function Xne(){if(RD)return PE;RD=1;var n=ym(),e=Gne();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=n.useRef,o=n.useEffect,c=n.useMemo,f=n.useDebugValue;return PE.useSyncExternalStoreWithSelector=function(d,m,g,y,b){var _=r(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=c(function(){function S(P){if(!R){if(R=!0,D=P,P=y(P),b!==void 0&&T.hasValue){var L=T.value;if(b(L,P))return U=L}return U=P}if(L=U,i(D,P))return L;var B=y(P);return b!==void 0&&b(L,B)?(D=P,L):(D=P,U=B)}var R=!1,D,U,F=g===void 0?null:g;return[function(){return S(m())},F===null?void 0:function(){return S(F())}]},[m,g,y,b]);var E=a(d,_[0],_[1]);return o(function(){T.hasValue=!0,T.value=E},[E]),f(E),E},PE}var ND;function qne(){return ND||(ND=1,UE.exports=Xne()),UE.exports}var Wne=qne();const Yne=gS(Wne),DD=n=>{let e;const t=new Set,i=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(i,a,c);return c},Kne=(n=>n?DD(n):DD),{useSyncExternalStoreWithSelector:Zne}=Yne,Jne=n=>n;function Qne(n,e=Jne,t){const i=Zne(n.subscribe,n.getState,n.getInitialState,e,t);return pr.useDebugValue(i),i}const OD=(n,e)=>{const t=Kne(n),i=(a,r=e)=>Qne(t,a,r);return Object.assign(i,t),i},$ne=((n,e)=>n?OD(n,e):OD);var IE={exports:{}},FE={exports:{}},VE={exports:{}},kE={};var LD;function eie(){return LD||(LD=1,(function(n){function e(H,q){var G=H.length;H.push(q);e:for(;0<G;){var ee=G-1>>>1,ue=H[ee];if(0<a(ue,q))H[ee]=q,H[G]=ue,G=ee;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],G=H.pop();if(G!==q){H[0]=G;e:for(var ee=0,ue=H.length,K=ue>>>1;ee<K;){var le=2*(ee+1)-1,_e=H[le],Se=le+1,je=H[Se];if(0>a(_e,G))Se<ue&&0>a(je,_e)?(H[ee]=je,H[Se]=G,ee=Se):(H[ee]=_e,H[le]=G,ee=le);else if(Se<ue&&0>a(je,G))H[ee]=je,H[Se]=G,ee=Se;else break e}}return q}function a(H,q){var G=H.sortIndex-q.sortIndex;return G!==0?G:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function U(H){if(T=!1,D(H),!_)if(t(f)!==null)_=!0,ie();else{var q=t(d);q!==null&&oe(U,q.startTime-H)}}var F=!1,P=-1,L=5,B=-1;function I(){return!(n.unstable_now()-B<L)}function V(){if(F){var H=n.unstable_now();B=H;var q=!0;try{e:{_=!1,T&&(T=!1,S(P),P=-1),b=!0;var G=y;try{t:{for(D(H),g=t(f);g!==null&&!(g.expirationTime>H&&I());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var ue=ee(g.expirationTime<=H);if(H=n.unstable_now(),typeof ue=="function"){g.callback=ue,D(H),q=!0;break t}g===t(f)&&i(f),D(H)}else i(f);g=t(f)}if(g!==null)q=!0;else{var K=t(d);K!==null&&oe(U,K.startTime-H),q=!1}}break e}finally{g=null,y=G,b=!1}q=void 0}}finally{q?W():F=!1}}}var W;if(typeof R=="function")W=function(){R(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=V,W=function(){ne.postMessage(null)}}else W=function(){E(V,0)};function ie(){F||(F=!0,W())}function oe(H,q){P=E(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,ie())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var G=y;y=q;try{return H()}finally{y=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=y;y=H;try{return q()}finally{y=G}},n.unstable_scheduleCallback=function(H,q,G){var ee=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,H){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=G+ue,H={id:m++,callback:q,priorityLevel:H,startTime:G,expirationTime:ue,sortIndex:-1},G>ee?(H.sortIndex=G,e(d,H),t(f)===null&&H===t(d)&&(T?(S(P),P=-1):T=!0,oe(U,G-ee))):(H.sortIndex=ue,e(f,H),_||b||(_=!0,ie())),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var q=y;return function(){var G=y;y=q;try{return H.apply(this,arguments)}finally{y=G}}}})(kE)),kE}var UD;function tie(){return UD||(UD=1,VE.exports=eie()),VE.exports}var PD;function nie(){return PD||(PD=1,(function(n){n.exports=function(e){function t(u,h,v,w){return new s0(u,h,v,w)}function i(){}function a(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return u===null||typeof u!="object"?null:(u=h0&&u[h0]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===uc?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case uu:return"Fragment";case gs:return"Portal";case d0:return"Profiler";case f0:return"StrictMode";case Dh:return"Suspense";case pl:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Vs:return(u.displayName||"Context")+".Provider";case hl:return(u._context.displayName||"Context")+".Consumer";case fu:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Vf:return h=u.displayName||null,h!==null?h:o(u.type)||"Memo";case xs:h=u._payload,u=u._init;try{return o(u(h))}catch{}}return null}function c(u){if(Oh===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);Oh=h&&h[1]||"",p0=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oh+u+p0}function f(u,h){if(!u||ml)return"";ml=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(on){var Et=on}Reflect.construct(u,[],xt)}else{try{xt.call()}catch(on){Et=on}u.call(xt.prototype)}}else{try{throw Error()}catch(on){Et=on}(xt=u())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(on){if(on&&Et&&typeof on.stack=="string")return[on.stack,Et.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=w.DetermineComponentFrameRoot(),Z=z[0],re=z[1];if(Z&&re){var xe=Z.split(`
`),Be=re.split(`
`);for(N=w=0;w<xe.length&&!xe[w].includes("DetermineComponentFrameRoot");)w++;for(;N<Be.length&&!Be[N].includes("DetermineComponentFrameRoot");)N++;if(w===xe.length||N===Be.length)for(w=xe.length-1,N=Be.length-1;1<=w&&0<=N&&xe[w]!==Be[N];)N--;for(;1<=w&&0<=N;w--,N--)if(xe[w]!==Be[N]){if(w!==1||N!==1)do if(w--,N--,0>N||xe[w]!==Be[N]){var rt=`
`+xe[w].replace(" at new "," at ");return u.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",u.displayName)),rt}while(1<=w&&0<=N);break}}}finally{ml=!1,Error.prepareStackTrace=v}return(v=u?u.displayName||u.name:"")?c(v):""}function d(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=f(u.type,!1),u;case 11:return u=f(u.type.render,!1),u;case 1:return u=f(u.type,!0),u;default:return""}}function m(u){try{var h="";do h+=d(u),u=u.return;while(u);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function g(u){var h=u,v=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(v=h.return),u=h.return;while(u)}return h.tag===3?v:null}function y(u){if(g(u)!==u)throw Error(a(188))}function b(u){var h=u.alternate;if(!h){if(h=g(u),h===null)throw Error(a(188));return h!==u?null:u}for(var v=u,w=h;;){var N=v.return;if(N===null)break;var z=N.alternate;if(z===null){if(w=N.return,w!==null){v=w;continue}break}if(N.child===z.child){for(z=N.child;z;){if(z===v)return y(N),u;if(z===w)return y(N),h;z=z.sibling}throw Error(a(188))}if(v.return!==w.return)v=N,w=z;else{for(var Z=!1,re=N.child;re;){if(re===v){Z=!0,v=N,w=z;break}if(re===w){Z=!0,w=N,v=z;break}re=re.sibling}if(!Z){for(re=z.child;re;){if(re===v){Z=!0,v=z,w=N;break}if(re===w){Z=!0,w=z,v=N;break}re=re.sibling}if(!Z)throw Error(a(189))}}if(v.alternate!==w)throw Error(a(190))}if(v.tag!==3)throw Error(a(188));return v.stateNode.current===v?u:h}function _(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=_(u),h!==null)return h;u=u.sibling}return null}function T(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(h=T(u),h!==null))return h;u=u.sibling}return null}function E(u){return{current:u}}function S(u){0>Co||(u.current=Kf[Co],Kf[Co]=null,Co--)}function R(u,h){Co++,Kf[Co]=u.current,u.current=h}function D(u){return u>>>=0,u===0?32:31-(Zf(u)/Yy|0)|0}function U(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function F(u,h){var v=u.pendingLanes;if(v===0)return 0;var w=0,N=u.suspendedLanes,z=u.pingedLanes,Z=u.warmLanes;u=u.finishedLanes!==0;var re=v&134217727;return re!==0?(v=re&~N,v!==0?w=U(v):(z&=re,z!==0?w=U(z):u||(Z=re&~Z,Z!==0&&(w=U(Z))))):(re=v&~N,re!==0?w=U(re):z!==0?w=U(z):u||(Z=v&~Z,Z!==0&&(w=U(Z)))),w===0?0:h!==0&&h!==w&&(h&N)===0&&(N=w&-w,Z=h&-h,N>=Z||N===32&&(Z&4194176)!==0)?h:w}function P(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function L(u,h){switch(u){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B(){var u=mu;return mu<<=1,(mu&4194176)===0&&(mu=128),u}function I(){var u=Jf;return Jf<<=1,(Jf&62914560)===0&&(Jf=4194304),u}function V(u){for(var h=[],v=0;31>v;v++)h.push(u);return h}function W(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function te(u,h,v,w,N,z){var Z=u.pendingLanes;u.pendingLanes=v,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=v,u.entangledLanes&=v,u.errorRecoveryDisabledLanes&=v,u.shellSuspendCounter=0;var re=u.entanglements,xe=u.expirationTimes,Be=u.hiddenUpdates;for(v=Z&~v;0<v;){var rt=31-ir(v),xt=1<<rt;re[rt]=0,xe[rt]=-1;var Et=Be[rt];if(Et!==null)for(Be[rt]=null,rt=0;rt<Et.length;rt++){var on=Et[rt];on!==null&&(on.lane&=-536870913)}v&=~xt}w!==0&&ne(u,w,0),z!==0&&N===0&&u.tag!==0&&(u.suspendedLanes|=z&~(Z&~h))}function ne(u,h,v){u.pendingLanes|=h,u.suspendedLanes&=~h;var w=31-ir(h);u.entangledLanes|=h,u.entanglements[w]=u.entanglements[w]|1073741824|v&4194218}function ie(u,h){var v=u.entangledLanes|=h;for(u=u.entanglements;v;){var w=31-ir(v),N=1<<w;N&h|u[w]&h&&(u[w]|=h),v&=~N}}function oe(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function H(u){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(xu,u,void 0,(u.current.flags&128)===128)}catch{}}function q(u){if(typeof Qy=="function"&&X0(u),ar&&typeof ar.setStrictMode=="function")try{ar.setStrictMode(xu,u)}catch{}}function G(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}function ee(u,h){if(typeof u=="object"&&u!==null){var v=Kh.get(u);return v!==void 0?v:(h={value:u,source:h,stack:m(h)},Kh.set(u,h),h)}return{value:u,source:h,stack:m(h)}}function ue(u,h){vi[Di++]=ed,vi[Di++]=$f,$f=u,ed=h}function K(u,h,v){Cr[Rr++]=Xs,Cr[Rr++]=Kr,Cr[Rr++]=ys,ys=u;var w=Xs;u=Kr;var N=32-ir(w)-1;w&=~(1<<N),v+=1;var z=32-ir(h)+N;if(30<z){var Z=N-N%5;z=(w&(1<<Z)-1).toString(32),w>>=Z,N-=Z,Xs=1<<32-ir(h)+N|v<<N|w,Kr=z+u}else Xs=1<<z|v<<N|w,Kr=u}function le(u){u.return!==null&&(ue(u,1),K(u,1,0))}function _e(u){for(;u===$f;)$f=vi[--Di],vi[Di]=null,ed=vi[--Di],vi[Di]=null;for(;u===ys;)ys=Cr[--Rr],Cr[Rr]=null,Kr=Cr[--Rr],Cr[Rr]=null,Xs=Cr[--Rr],Cr[Rr]=null}function Se(u,h){R(vs,h),R(td,u),R(ha,null),u=fc(h),S(ha),R(ha,u)}function je(){S(ha),S(td),S(vs)}function ve(u){u.memoizedState!==null&&R(yu,u);var h=ha.current,v=Ay(h,u.type);h!==v&&(R(td,u),R(ha,v))}function pe(u){td.current===u&&(S(ha),S(td)),yu.current===u&&(S(yu),Hs?tn._currentValue=nr:tn._currentValue2=nr)}function Je(u){var h=Error(a(418,""));throw Bt(ee(h,u)),nd}function ct(u,h){if(!Ga)throw Error(a(175));A1(u.stateNode,u.type,u.memoizedProps,h,u)||Je(u)}function gt(u){for(Pa=u.return;Pa;)switch(Pa.tag){case 3:case 27:Zr=!0;return;case 5:case 13:Zr=!1;return;default:Pa=Pa.return}}function wt(u){if(!Ga||u!==Pa)return!1;if(!kn)return gt(u),kn=!0,!1;var h=!1;if(Sa?u.tag!==3&&u.tag!==27&&(u.tag!==5||jy(u.type)&&!yl(u.type,u.memoizedProps))&&(h=!0):u.tag!==3&&(u.tag!==5||jy(u.type)&&!yl(u.type,u.memoizedProps))&&(h=!0),h&&Ea&&Je(u),gt(u),u.tag===13){if(!Ga)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));Ea=ky(u)}else Ea=Pa?O0(u.stateNode):null;return!0}function $t(){Ga&&(Ea=Pa=null,kn=!1)}function Bt(u){Nr===null?Nr=[u]:Nr.push(u)}function ke(){for(var u=bl,h=vu=bl=0;h<u;){var v=Dr[h];Dr[h++]=null;var w=Dr[h];Dr[h++]=null;var N=Dr[h];Dr[h++]=null;var z=Dr[h];if(Dr[h++]=null,w!==null&&N!==null){var Z=w.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),w.pending=N}z!==0&&it(v,N,z)}}function J(u,h,v,w){Dr[bl++]=u,Dr[bl++]=h,Dr[bl++]=v,Dr[bl++]=w,vu|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function Ge(u,h,v,w){return J(u,h,v,w),Ye(u)}function Ze(u,h){return J(u,null,null,h),Ye(u)}function it(u,h,v){u.lanes|=v;var w=u.alternate;w!==null&&(w.lanes|=v);for(var N=!1,z=u.return;z!==null;)z.childLanes|=v,w=z.alternate,w!==null&&(w.childLanes|=v),z.tag===22&&(u=z.stateNode,u===null||u._visibility&1||(N=!0)),u=z,z=z.return;N&&h!==null&&u.tag===3&&(z=u.stateNode,N=31-ir(v),z=z.hiddenUpdates,u=z[N],u===null?z[N]=[h]:u.push(h),h.lane=v|536870912)}function Ye(u){if(50<Sc)throw Sc=0,Wa=null,Error(a(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}function dt(u){u!==mc&&u.next===null&&(mc===null?bu=mc=u:mc=mc.next=u),ad=!0,id||(id=!0,Ue(_t))}function st(u,h){if(!bs&&ad){bs=!0;do for(var v=!1,w=bu;w!==null;){if(u!==0){var N=w.pendingLanes;if(N===0)var z=0;else{var Z=w.suspendedLanes,re=w.pingedLanes;z=(1<<31-ir(42|u)+1)-1,z&=N&~(Z&~re),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(v=!0,be(w,z))}else z=vn,z=F(w,w===En?z:0),(z&3)===0||P(w,z)||(v=!0,be(w,z));w=w.next}while(v);bs=!1}}function _t(){ad=id=!1;var u=0;_l!==0&&(vl()&&(u=_l),_l=0);for(var h=Ma(),v=null,w=bu;w!==null;){var N=w.next,z=Q(w,h);z===0?(w.next=null,v===null?bu=N:v.next=N,N===null&&(mc=v)):(v=w,(u!==0||(z&3)!==0)&&(ad=!0)),w=N}st(u)}function Q(u,h){for(var v=u.suspendedLanes,w=u.pingedLanes,N=u.expirationTimes,z=u.pendingLanes&-62914561;0<z;){var Z=31-ir(z),re=1<<Z,xe=N[Z];xe===-1?((re&v)===0||(re&w)!==0)&&(N[Z]=L(re,h)):xe<=h&&(u.expiredLanes|=re),z&=~re}if(h=En,v=vn,v=F(u,u===h?v:0),w=u.callbackNode,v===0||u===h&&oi===2||u.cancelPendingCommit!==null)return w!==null&&w!==null&&Qf(w),u.callbackNode=null,u.callbackPriority=0;if((v&3)===0||P(u,v)){if(h=v&-v,h===u.callbackPriority)return h;switch(w!==null&&Qf(w),oe(v)){case 2:case 8:v=Jy;break;case 32:v=Wh;break;case 268435456:v=Yh;break;default:v=Wh}return w=j.bind(null,u),v=gu(v,w),u.callbackPriority=h,u.callbackNode=v,h}return w!==null&&w!==null&&Qf(w),u.callbackPriority=2,u.callbackNode=null,2}function j(u,h){var v=u.callbackNode;if(fa()&&u.callbackNode!==v)return null;var w=vn;return w=F(u,u===En?w:0),w===0?null:(Pf(u,w,h),Q(u,Ma()),u.callbackNode!=null&&u.callbackNode===v?j.bind(null,u):null)}function be(u,h){if(fa())return null;Pf(u,h,!0)}function Ue(u){Xi?zh(function(){(Wt&6)!==0?gu(G0,u):u()}):gu(G0,u)}function Ie(){return _l===0&&(_l=B()),_l}function Ne(u,h){if(rd===null){var v=rd=[];Zh=0,rr=Ie(),Sl={status:"pending",value:void 0,then:function(w){v.push(w)}}}return Zh++,h.then(Lt,Lt),h}function Lt(){if(--Zh===0&&rd!==null){Sl!==null&&(Sl.status="fulfilled");var u=rd;rd=null,rr=0,Sl=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function ft(u,h){var v=[],w={status:"pending",value:null,reason:null,then:function(N){v.push(N)}};return u.then(function(){w.status="fulfilled",w.value=h;for(var N=0;N<v.length;N++)(0,v[N])(h)},function(N){for(w.status="rejected",w.reason=N,N=0;N<v.length;N++)(0,v[N])(void 0)}),w}function Ht(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dt(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function ze(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function qe(u,h,v){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(Wt&2)!==0){var N=w.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),w.pending=h,h=Ye(u),it(u,null,v),h}return J(u,w,h,v),Ye(u)}function Ut(u,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194176)!==0)){var w=h.lanes;w&=u.pendingLanes,v|=w,h.lanes=v,ie(u,v)}}function At(u,h){var v=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var N=null,z=null;if(v=v.firstBaseUpdate,v!==null){do{var Z={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};z===null?N=z=Z:z=z.next=Z,v=v.next}while(v!==null);z===null?N=z=h:z=z.next=h}else N=z=h;v={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:z,shared:w.shared,callbacks:w.callbacks},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=h:u.next=h,v.lastBaseUpdate=h}function pt(){if(_u){var u=Sl;if(u!==null)throw u}}function Yt(u,h,v,w){_u=!1;var N=u.updateQueue;Ro=!1;var z=N.firstBaseUpdate,Z=N.lastBaseUpdate,re=N.shared.pending;if(re!==null){N.shared.pending=null;var xe=re,Be=xe.next;xe.next=null,Z===null?z=Be:Z.next=Be,Z=xe;var rt=u.alternate;rt!==null&&(rt=rt.updateQueue,re=rt.lastBaseUpdate,re!==Z&&(re===null?rt.firstBaseUpdate=Be:re.next=Be,rt.lastBaseUpdate=xe))}if(z!==null){var xt=N.baseState;Z=0,rt=Be=xe=null,re=z;do{var Et=re.lane&-536870913,on=Et!==re.lane;if(on?(vn&Et)===Et:(w&Et)===Et){Et!==0&&Et===rr&&(_u=!0),rt!==null&&(rt=rt.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var cr=u,cd=re;Et=h;var Mc=v;switch(cd.tag){case 1:if(cr=cd.payload,typeof cr=="function"){xt=cr.call(Mc,xt,Et);break e}xt=cr;break e;case 3:cr.flags=cr.flags&-65537|128;case 0:if(cr=cd.payload,Et=typeof cr=="function"?cr.call(Mc,xt,Et):cr,Et==null)break e;xt=cc({},xt,Et);break e;case 2:Ro=!0}}Et=re.callback,Et!==null&&(u.flags|=64,on&&(u.flags|=8192),on=N.callbacks,on===null?N.callbacks=[Et]:on.push(Et))}else on={lane:Et,tag:re.tag,payload:re.payload,callback:re.callback,next:null},rt===null?(Be=rt=on,xe=xt):rt=rt.next=on,Z|=Et;if(re=re.next,re===null){if(re=N.shared.pending,re===null)break;on=re,re=on.next,on.next=null,N.lastBaseUpdate=on,N.shared.pending=null}}while(!0);rt===null&&(xe=xt),N.baseState=xe,N.firstBaseUpdate=Be,N.lastBaseUpdate=rt,z===null&&(N.shared.lanes=0),Pr|=Z,u.lanes=Z,u.memoizedState=xt}}function ce(u,h){if(typeof u!="function")throw Error(a(191,u));u.call(h)}function ut(u,h){var v=u.callbacks;if(v!==null)for(u.callbacks=null,u=0;u<v.length;u++)ce(v[u],h)}function nt(u,h){if(Ar(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var v=Object.keys(u),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var N=v[w];if(!sd.call(h,N)||!Ar(u[N],h[N]))return!1}return!0}function ot(u){return u=u.status,u==="fulfilled"||u==="rejected"}function We(){}function Ve(u,h,v){switch(v=u[v],v===void 0?u.push(h):v!==h&&(h.then(We,We),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===ai?Error(a(483)):u;default:if(typeof h.status=="string")h.then(We,We);else{if(u=En,u!==null&&100<u.shellSuspendCounter)throw Error(a(482));u=h,u.status="pending",u.then(function(w){if(h.status==="pending"){var N=h;N.status="fulfilled",N.value=w}},function(w){if(h.status==="pending"){var N=h;N.status="rejected",N.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===ai?Error(a(483)):u}throw gc=h,ai}}function St(){if(gc===null)throw Error(a(459));var u=gc;return gc=null,u}function Kt(u){var h=Jr;return Jr+=1,qs===null&&(qs=[]),Ve(qs,u,h)}function wn(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Tn(u,h){throw h.$$typeof===u0?Error(a(525)):(u=Object.prototype.toString.call(h),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function $i(u){var h=u._init;return h(u._payload)}function ae(u){function h(Ae,me){if(u){var De=Ae.deletions;De===null?(Ae.deletions=[me],Ae.flags|=16):De.push(me)}}function v(Ae,me){if(!u)return null;for(;me!==null;)h(Ae,me),me=me.sibling;return null}function w(Ae){for(var me=new Map;Ae!==null;)Ae.key!==null?me.set(Ae.key,Ae):me.set(Ae.index,Ae),Ae=Ae.sibling;return me}function N(Ae,me){return Ae=La(Ae,me),Ae.index=0,Ae.sibling=null,Ae}function z(Ae,me,De){return Ae.index=De,u?(De=Ae.alternate,De!==null?(De=De.index,De<me?(Ae.flags|=33554434,me):De):(Ae.flags|=33554434,me)):(Ae.flags|=1048576,me)}function Z(Ae){return u&&Ae.alternate===null&&(Ae.flags|=33554434),Ae}function re(Ae,me,De,et){return me===null||me.tag!==6?(me=dl(De,Ae.mode,et),me.return=Ae,me):(me=N(me,De),me.return=Ae,me)}function xe(Ae,me,De,et){var Xt=De.type;return Xt===uu?rt(Ae,me,De.props.children,et,De.key):me!==null&&(me.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===xs&&$i(Xt)===me.type)?(me=N(me,De.props),wn(me,De),me.return=Ae,me):(me=Wr(De.type,De.key,De.props,null,Ae.mode,et),wn(me,De),me.return=Ae,me)}function Be(Ae,me,De,et){return me===null||me.tag!==4||me.stateNode.containerInfo!==De.containerInfo||me.stateNode.implementation!==De.implementation?(me=cu(De,Ae.mode,et),me.return=Ae,me):(me=N(me,De.children||[]),me.return=Ae,me)}function rt(Ae,me,De,et,Xt){return me===null||me.tag!==7?(me=Mo(De,Ae.mode,et,Xt),me.return=Ae,me):(me=N(me,De),me.return=Ae,me)}function xt(Ae,me,De){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=dl(""+me,Ae.mode,De),me.return=Ae,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Eo:return De=Wr(me.type,me.key,me.props,null,Ae.mode,De),wn(De,me),De.return=Ae,De;case gs:return me=cu(me,Ae.mode,De),me.return=Ae,me;case xs:var et=me._init;return me=et(me._payload),xt(Ae,me,De)}if(gl(me)||r(me))return me=Mo(me,Ae.mode,De,null),me.return=Ae,me;if(typeof me.then=="function")return xt(Ae,Kt(me),De);if(me.$$typeof===Vs)return xt(Ae,Nf(Ae,me),De);Tn(Ae,me)}return null}function Et(Ae,me,De,et){var Xt=me!==null?me.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Xt!==null?null:re(Ae,me,""+De,et);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Eo:return De.key===Xt?xe(Ae,me,De,et):null;case gs:return De.key===Xt?Be(Ae,me,De,et):null;case xs:return Xt=De._init,De=Xt(De._payload),Et(Ae,me,De,et)}if(gl(De)||r(De))return Xt!==null?null:rt(Ae,me,De,et,null);if(typeof De.then=="function")return Et(Ae,me,Kt(De),et);if(De.$$typeof===Vs)return Et(Ae,me,Nf(Ae,De),et);Tn(Ae,De)}return null}function on(Ae,me,De,et,Xt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ae=Ae.get(De)||null,re(me,Ae,""+et,Xt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Eo:return Ae=Ae.get(et.key===null?De:et.key)||null,xe(me,Ae,et,Xt);case gs:return Ae=Ae.get(et.key===null?De:et.key)||null,Be(me,Ae,et,Xt);case xs:var hi=et._init;return et=hi(et._payload),on(Ae,me,De,et,Xt)}if(gl(et)||r(et))return Ae=Ae.get(De)||null,rt(me,Ae,et,Xt,null);if(typeof et.then=="function")return on(Ae,me,De,Kt(et),Xt);if(et.$$typeof===Vs)return on(Ae,me,De,Nf(me,et),Xt);Tn(me,et)}return null}function cr(Ae,me,De,et){for(var Xt=null,hi=null,nn=me,jn=me=0,ra=null;nn!==null&&jn<De.length;jn++){nn.index>jn?(ra=nn,nn=null):ra=nn.sibling;var Gn=Et(Ae,nn,De[jn],et);if(Gn===null){nn===null&&(nn=ra);break}u&&nn&&Gn.alternate===null&&h(Ae,nn),me=z(Gn,me,jn),hi===null?Xt=Gn:hi.sibling=Gn,hi=Gn,nn=ra}if(jn===De.length)return v(Ae,nn),kn&&ue(Ae,jn),Xt;if(nn===null){for(;jn<De.length;jn++)nn=xt(Ae,De[jn],et),nn!==null&&(me=z(nn,me,jn),hi===null?Xt=nn:hi.sibling=nn,hi=nn);return kn&&ue(Ae,jn),Xt}for(nn=w(nn);jn<De.length;jn++)ra=on(nn,Ae,jn,De[jn],et),ra!==null&&(u&&ra.alternate!==null&&nn.delete(ra.key===null?jn:ra.key),me=z(ra,me,jn),hi===null?Xt=ra:hi.sibling=ra,hi=ra);return u&&nn.forEach(function(zo){return h(Ae,zo)}),kn&&ue(Ae,jn),Xt}function cd(Ae,me,De,et){if(De==null)throw Error(a(151));for(var Xt=null,hi=null,nn=me,jn=me=0,ra=null,Gn=De.next();nn!==null&&!Gn.done;jn++,Gn=De.next()){nn.index>jn?(ra=nn,nn=null):ra=nn.sibling;var zo=Et(Ae,nn,Gn.value,et);if(zo===null){nn===null&&(nn=ra);break}u&&nn&&zo.alternate===null&&h(Ae,nn),me=z(zo,me,jn),hi===null?Xt=zo:hi.sibling=zo,hi=zo,nn=ra}if(Gn.done)return v(Ae,nn),kn&&ue(Ae,jn),Xt;if(nn===null){for(;!Gn.done;jn++,Gn=De.next())Gn=xt(Ae,Gn.value,et),Gn!==null&&(me=z(Gn,me,jn),hi===null?Xt=Gn:hi.sibling=Gn,hi=Gn);return kn&&ue(Ae,jn),Xt}for(nn=w(nn);!Gn.done;jn++,Gn=De.next())Gn=on(nn,Ae,jn,Gn.value,et),Gn!==null&&(u&&Gn.alternate!==null&&nn.delete(Gn.key===null?jn:Gn.key),me=z(Gn,me,jn),hi===null?Xt=Gn:hi.sibling=Gn,hi=Gn);return u&&nn.forEach(function(rp){return h(Ae,rp)}),kn&&ue(Ae,jn),Xt}function Mc(Ae,me,De,et){if(typeof De=="object"&&De!==null&&De.type===uu&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case Eo:e:{for(var Xt=De.key;me!==null;){if(me.key===Xt){if(Xt=De.type,Xt===uu){if(me.tag===7){v(Ae,me.sibling),et=N(me,De.props.children),et.return=Ae,Ae=et;break e}}else if(me.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===xs&&$i(Xt)===me.type){v(Ae,me.sibling),et=N(me,De.props),wn(et,De),et.return=Ae,Ae=et;break e}v(Ae,me);break}else h(Ae,me);me=me.sibling}De.type===uu?(et=Mo(De.props.children,Ae.mode,et,De.key),et.return=Ae,Ae=et):(et=Wr(De.type,De.key,De.props,null,Ae.mode,et),wn(et,De),et.return=Ae,Ae=et)}return Z(Ae);case gs:e:{for(Xt=De.key;me!==null;){if(me.key===Xt)if(me.tag===4&&me.stateNode.containerInfo===De.containerInfo&&me.stateNode.implementation===De.implementation){v(Ae,me.sibling),et=N(me,De.children||[]),et.return=Ae,Ae=et;break e}else{v(Ae,me);break}else h(Ae,me);me=me.sibling}et=cu(De,Ae.mode,et),et.return=Ae,Ae=et}return Z(Ae);case xs:return Xt=De._init,De=Xt(De._payload),Mc(Ae,me,De,et)}if(gl(De))return cr(Ae,me,De,et);if(r(De)){if(Xt=r(De),typeof Xt!="function")throw Error(a(150));return De=Xt.call(De),cd(Ae,me,De,et)}if(typeof De.then=="function")return Mc(Ae,me,Kt(De),et);if(De.$$typeof===Vs)return Mc(Ae,me,Nf(Ae,De),et);Tn(Ae,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,me!==null&&me.tag===6?(v(Ae,me.sibling),et=N(me,De),et.return=Ae,Ae=et):(v(Ae,me),et=dl(De,Ae.mode,et),et.return=Ae,Ae=et),Z(Ae)):v(Ae,me)}return function(Ae,me,De,et){try{Jr=0;var Xt=Mc(Ae,me,De,et);return qs=null,Xt}catch(nn){if(nn===ai)throw nn;var hi=t(29,nn,null,Ae.mode);return hi.lanes=et,hi.return=Ae,hi}finally{}}}function ye(u,h){u=_s,R(Or,u),R(Ws,h),_s=u|h.baseLanes}function Re(){R(Or,_s),R(Ws,Ws.current)}function Qe(){_s=Or.current,S(Ws),S(Or)}function tt(u){var h=u.alternate;R(qi,qi.current&1),R(Lr,u),Qr===null&&(h===null||Ws.current!==null||h.memoizedState!==null)&&(Qr=u)}function Ot(u){if(u.tag===22){if(R(qi,qi.current),R(Lr,u),Qr===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(Qr=u)}}else Ct()}function Ct(){R(qi,qi.current),R(Lr,Lr.current)}function bt(u){S(Lr),Qr===u&&(Qr=null),S(qi)}function Mt(u){for(var h=u;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||kh(v)||Yf(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function at(){throw Error(a(321))}function ht(u,h){if(h===null)return!1;for(var v=0;v<h.length&&v<u.length;v++)if(!Ar(u[v],h[v]))return!1;return!0}function Rt(u,h,v,w,N,z){return Ys=z,dn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Qt.H=u===null||u.memoizedState===null?Wi:za,No=!1,z=v(w,N),No=!1,bi&&(z=ni(h,v,w,N)),fn(u),z}function fn(u){Qt.H=Hn;var h=qn!==null&&qn.next!==null;if(Ys=0,Bi=qn=dn=null,$r=!1,Oi=0,Su=null,h)throw Error(a(300));u===null||Ii||(u=u.dependencies,u!==null&&tl(u)&&(Ii=!0))}function ni(u,h,v,w){dn=u;var N=0;do{if(bi&&(Su=null),Oi=0,bi=!1,25<=N)throw Error(a(301));if(N+=1,Bi=qn=null,u.updateQueue!=null){var z=u.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}Qt.H=El,z=h(v,w)}while(bi);return z}function Ti(){var u=Qt.H,h=u.useState()[0];return h=typeof h.then=="function"?de(h):h,u=u.useState()[0],(qn!==null?qn.memoizedState:null)!==u&&(dn.flags|=1024),h}function Ai(){var u=od!==0;return od=0,u}function Fn(u,h,v){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~v}function Vn(u){if($r){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}$r=!1}Ys=0,Bi=qn=dn=null,bi=!1,Oi=od=0,Su=null}function ii(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?dn.memoizedState=Bi=u:Bi=Bi.next=u,Bi}function X(){if(qn===null){var u=dn.alternate;u=u!==null?u.memoizedState:null}else u=qn.next;var h=Bi===null?dn.memoizedState:Bi.next;if(h!==null)Bi=h,qn=u;else{if(u===null)throw dn.alternate===null?Error(a(467)):Error(a(310));qn=u,u={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Bi===null?dn.memoizedState=Bi=u:Bi=Bi.next=u}return Bi}function de(u){var h=Oi;return Oi+=1,Su===null&&(Su=[]),u=Ve(Su,u,h),h=dn,(Bi===null?h.memoizedState:Bi.next)===null&&(h=h.alternate,Qt.H=h===null||h.memoizedState===null?Wi:za),u}function Ee(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return de(u);if(u.$$typeof===Vs)return va(u)}throw Error(a(438,String(u)))}function Me(u){var h=null,v=dn.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var w=dn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(N){return N.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=Qh(),dn.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(u),w=0;w<u;w++)v[w]=Ty;return h.index++,v}function he(u,h){return typeof h=="function"?h(u):h}function $e(u){var h=X();return lt(h,qn,u)}function lt(u,h,v){var w=u.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=v;var N=u.baseQueue,z=w.pending;if(z!==null){if(N!==null){var Z=N.next;N.next=z.next,z.next=Z}h.baseQueue=N=z,w.pending=null}if(z=u.baseState,N===null)u.memoizedState=z;else{h=N.next;var re=Z=null,xe=null,Be=h,rt=!1;do{var xt=Be.lane&-536870913;if(xt!==Be.lane?(vn&xt)===xt:(Ys&xt)===xt){var Et=Be.revertLane;if(Et===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),xt===rr&&(rt=!0);else if((Ys&Et)===Et){Be=Be.next,Et===rr&&(rt=!0);continue}else xt={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},xe===null?(re=xe=xt,Z=z):xe=xe.next=xt,dn.lanes|=Et,Pr|=Et;xt=Be.action,No&&v(z,xt),z=Be.hasEagerState?Be.eagerState:v(z,xt)}else Et={lane:xt,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},xe===null?(re=xe=Et,Z=z):xe=xe.next=Et,dn.lanes|=xt,Pr|=xt;Be=Be.next}while(Be!==null&&Be!==h);if(xe===null?Z=z:xe.next=re,!Ar(z,u.memoizedState)&&(Ii=!0,rt&&(v=Sl,v!==null)))throw v;u.memoizedState=z,u.baseState=Z,u.baseQueue=xe,w.lastRenderedState=z}return N===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function mt(u){var h=X(),v=h.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=u;var w=v.dispatch,N=v.pending,z=h.memoizedState;if(N!==null){v.pending=null;var Z=N=N.next;do z=u(z,Z.action),Z=Z.next;while(Z!==N);Ar(z,h.memoizedState)||(Ii=!0),h.memoizedState=z,h.baseQueue===null&&(h.baseState=z),v.lastRenderedState=z}return[z,w]}function Ke(u,h,v){var w=dn,N=X(),z=kn;if(z){if(v===void 0)throw Error(a(407));v=v()}else v=h();var Z=!Ar((qn||N).memoizedState,v);if(Z&&(N.memoizedState=v,Ii=!0),N=N.queue,bf(Pt.bind(null,w,N,u),[u]),N.getSnapshot!==h||Z||Bi!==null&&Bi.memoizedState.tag&1){if(w.flags|=2048,Ci(9,Gt.bind(null,w,N,v,h),{destroy:void 0},null),En===null)throw Error(a(349));z||(Ys&60)!==0||Tt(w,h,v)}return v}function Tt(u,h,v){u.flags|=16384,u={getSnapshot:h,value:v},h=dn.updateQueue,h===null?(h=Qh(),dn.updateQueue=h,h.stores=[u]):(v=h.stores,v===null?h.stores=[u]:v.push(u))}function Gt(u,h,v,w){h.value=v,h.getSnapshot=w,It(h)&&yn(u)}function Pt(u,h,v){return v(function(){It(h)&&yn(u)})}function It(u){var h=u.getSnapshot;u=u.value;try{var v=h();return!Ar(u,v)}catch{return!0}}function yn(u){var h=Ze(u,2);h!==null&&Oa(h,u,2)}function An(u){var h=ii();if(typeof u=="function"){var v=u;if(u=v(),No){q(!0);try{v()}finally{q(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:he,lastRenderedState:u},h}function Mn(u,h,v,w){return u.baseState=v,lt(u,qn,typeof w=="function"?w:he)}function Zn(u,h,v,w,N){if($l(u))throw Error(a(485));if(u=h.action,u!==null){var z={payload:N,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){z.listeners.push(Z)}};Qt.T!==null?v(!0):z.isTransition=!1,w(z),v=h.pending,v===null?(z.next=h.pending=z,Zt(h,z)):(z.next=v.next,h.pending=v.next=z)}}function Zt(u,h){var v=h.action,w=h.payload,N=u.state;if(h.isTransition){var z=Qt.T,Z={};Qt.T=Z;try{var re=v(N,w),xe=Qt.S;xe!==null&&xe(Z,re),ri(u,h,re)}catch(Be){Gi(u,h,Be)}finally{Qt.T=z}}else try{z=v(N,w),ri(u,h,z)}catch(Be){Gi(u,h,Be)}}function ri(u,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(w){Nn(u,h,w)},function(w){return Gi(u,h,w)}):Nn(u,h,v)}function Nn(u,h,v){h.status="fulfilled",h.value=v,po(h),u.state=v,h=u.pending,h!==null&&(v=h.next,v===h?u.pending=null:(v=v.next,h.next=v,Zt(u,v)))}function Gi(u,h,v){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=v,po(h),h=h.next;while(h!==w)}u.action=null}function po(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function li(u,h){return h}function Os(u,h){if(kn){var v=En.formState;if(v!==null){e:{var w=dn;if(kn){if(Ea){var N=Ly(Ea,Zr);if(N){Ea=O0(N),w=Uy(N);break e}}Je(w)}w=!1}w&&(h=v[0])}}v=ii(),v.memoizedState=v.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:h},v.queue=w,v=ch.bind(null,dn,w),w.dispatch=v,w=An(!1);var z=uh.bind(null,dn,!1,w.queue);return w=ii(),N={state:h,dispatch:null,action:u,pending:null},w.queue=N,v=Zn.bind(null,dn,N,z,v),N.dispatch=v,w.memoizedState=u,[h,v,!1]}function ci(u){var h=X();return ea(h,qn,u)}function ea(u,h,v){h=lt(u,h,li)[0],u=$e(he)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?de(h):h;var w=X(),N=w.queue,z=N.dispatch;return v!==w.memoizedState&&(dn.flags|=2048,Ci(9,ta.bind(null,N,v),{destroy:void 0},null)),[h,z,u]}function ta(u,h){u.action=h}function na(u){var h=X(),v=qn;if(v!==null)return ea(h,v,u);X(),h=h.memoizedState,v=X();var w=v.queue.dispatch;return v.memoizedState=u,[h,w,!1]}function Ci(u,h,v,w){return u={tag:u,create:h,inst:v,deps:w,next:null},h=dn.updateQueue,h===null&&(h=Qh(),dn.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=u.next=u:(w=v.next,v.next=u,u.next=w,h.lastEffect=u),u}function ds(){return X().memoizedState}function qr(u,h,v,w){var N=ii();dn.flags|=u,N.memoizedState=Ci(1|h,v,{destroy:void 0},w===void 0?null:w)}function vf(u,h,v,w){var N=X();w=w===void 0?null:w;var z=N.memoizedState.inst;qn!==null&&w!==null&&ht(w,qn.memoizedState.deps)?N.memoizedState=Ci(h,v,z,w):(dn.flags|=u,N.memoizedState=Ci(1|h,v,z,w))}function Pm(u,h){qr(8390656,8,u,h)}function bf(u,h){vf(2048,8,u,h)}function ty(u,h){return vf(4,2,u,h)}function ny(u,h){return vf(4,4,u,h)}function _f(u,h){if(typeof h=="function"){u=u();var v=h(u);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Ls(u,h,v){v=v!=null?v.concat([u]):null,vf(4,4,_f.bind(null,h,u),v)}function Sf(){}function sh(u,h){var v=X();h=h===void 0?null:h;var w=v.memoizedState;return h!==null&&ht(h,w[1])?w[0]:(v.memoizedState=[u,h],u)}function Jl(u,h){var v=X();h=h===void 0?null:h;var w=v.memoizedState;if(h!==null&&ht(h,w[1]))return w[0];if(w=u(),No){q(!0);try{u()}finally{q(!1)}}return v.memoizedState=[w,h],w}function Zo(u,h,v){return v===void 0||(Ys&1073741824)!==0?u.memoizedState=h:(u.memoizedState=v,u=zs(),dn.lanes|=u,Pr|=u,v)}function zm(u,h,v,w){return Ar(v,h)?v:Ws.current!==null?(u=Zo(u,v,w),Ar(u,h)||(Ii=!0),u):(Ys&42)===0?(Ii=!0,u.memoizedState=v):(u=zs(),dn.lanes|=u,Pr|=u,h)}function oh(u,h,v,w,N){var z=ia();Ua(z!==0&&8>z?z:8);var Z=Qt.T,re={};Qt.T=re,uh(u,!1,h,v);try{var xe=N(),Be=Qt.S;if(Be!==null&&Be(re,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var rt=ft(xe,w);Qo(u,h,rt,ja(u))}else Qo(u,h,w,ja(u))}catch(xt){Qo(u,h,{then:function(){},status:"rejected",reason:xt},ja())}finally{Ua(z),Qt.T=Z}}function Bm(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:nr,baseState:nr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:he,lastRenderedState:nr},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:he,lastRenderedState:v},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function Ql(){return va(tn)}function Us(){return X().memoizedState}function lh(){return X().memoizedState}function Mf(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var v=ja();u=ze(v);var w=qe(h,u,v);w!==null&&(Oa(w,h,v),Ut(w,h,v)),h={cache:mh()},u.payload=h;return}h=h.return}}function Jo(u,h,v){var w=ja();v={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},$l(u)?Ef(h,v):(v=Ge(u,h,v,w),v!==null&&(Oa(v,u,w),Im(v,h,w)))}function ch(u,h,v){var w=ja();Qo(u,h,v,w)}function Qo(u,h,v,w){var N={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if($l(u))Ef(h,N);else{var z=u.alternate;if(u.lanes===0&&(z===null||z.lanes===0)&&(z=h.lastRenderedReducer,z!==null))try{var Z=h.lastRenderedState,re=z(Z,v);if(N.hasEagerState=!0,N.eagerState=re,Ar(re,Z))return J(u,h,N,0),En===null&&ke(),!1}catch{}finally{}if(v=Ge(u,h,N,w),v!==null)return Oa(v,u,w),Im(v,h,w),!0}return!1}function uh(u,h,v,w){if(w={lane:2,revertLane:Ie(),action:w,hasEagerState:!1,eagerState:null,next:null},$l(u)){if(h)throw Error(a(479))}else h=Ge(u,v,w,2),h!==null&&Oa(h,u,2)}function $l(u){var h=u.alternate;return u===dn||h!==null&&h===dn}function Ef(u,h){bi=$r=!0;var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}function Im(u,h,v){if((v&4194176)!==0){var w=h.lanes;w&=u.pendingLanes,v|=w,h.lanes=v,ie(u,v)}}function Na(u,h,v,w){h=u.memoizedState,v=v(w,h),v=v==null?h:cc({},h,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}function $o(u,h,v,w,N,z,Z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,z,Z):h.prototype&&h.prototype.isPureReactComponent?!nt(v,w)||!nt(N,z):!0}function wf(u,h,v,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==u&&$h.enqueueReplaceState(h,h.state,null)}function hs(u,h){var v=h;if("ref"in h){v={};for(var w in h)w!=="ref"&&(v[w]=h[w])}if(u=u.defaultProps){v===h&&(v=cc({},v));for(var N in u)v[N]===void 0&&(v[N]=u[N])}return v}function fh(u,h){try{var v=u.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function dh(u,h,v){try{var w=u.onCaughtError;w(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Tf(u,h,v){return v=ze(v),v.tag=3,v.payload={element:null},v.callback=function(){fh(u,h)},v}function Kc(u){return u=ze(u),u.tag=3,u}function Af(u,h,v,w){var N=v.type.getDerivedStateFromError;if(typeof N=="function"){var z=w.value;u.payload=function(){return N(z)},u.callback=function(){dh(h,v,w)}}var Z=v.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(u.callback=function(){dh(h,v,w),typeof N!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var re=w.stack;this.componentDidCatch(w.value,{componentStack:re!==null?re:""})})}function iy(u,h,v,w,N){if(v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=v.alternate,h!==null&&ec(h,v,N,!0),v=Lr.current,v!==null){switch(v.tag){case 13:return Qr===null?tr():v.alternate===null&&Bn===0&&(Bn=3),v.flags&=-257,v.flags|=65536,v.lanes=N,w===Jh?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([w]):h.add(w),Rh(u,w,N)),!1;case 22:return v.flags|=65536,w===Jh?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([w]):v.add(w)),Rh(u,w,N)),!1}throw Error(a(435,v.tag))}return Rh(u,w,N),tr(),!1}if(kn)return h=Lr.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=N,w!==nd&&(u=Error(a(422),{cause:w}),Bt(ee(u,v)))):(w!==nd&&(h=Error(a(423),{cause:w}),Bt(ee(h,v))),u=u.current.alternate,u.flags|=65536,N&=-N,u.lanes|=N,w=ee(w,v),N=Tf(u.stateNode,w,N),At(u,N),Bn!==4&&(Bn=2)),!1;var z=Error(a(520),{cause:w});if(z=ee(z,v),Eu===null?Eu=[z]:Eu.push(z),Bn!==4&&(Bn=2),h===null)return!0;w=ee(w,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,u=N&-N,v.lanes|=u,u=Tf(v.stateNode,w,u),At(v,u),!1;case 1:if(h=v.type,z=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Br===null||!Br.has(z))))return v.flags|=65536,N&=-N,v.lanes|=N,N=Kc(N),Af(N,u,v,w),At(v,N),!1}v=v.return}while(v!==null);return!1}function ya(u,h,v,w){h.child=u===null?W0(h,null,v,w):Ml(h,u.child,v,w)}function ay(u,h,v,w,N){v=v.render;var z=h.ref;if("ref"in w){var Z={};for(var re in w)re!=="ref"&&(Z[re]=w[re])}else Z=w;return tc(h),w=Rt(u,h,v,Z,z,N),re=Ai(),u!==null&&!Ii?(Fn(u,h,N),mo(u,h,N)):(kn&&re&&le(h),h.flags|=1,ya(u,h,w,N),h.child)}function ry(u,h,v,w,N){if(u===null){var z=v.type;return typeof z=="function"&&!_o(z)&&z.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=z,hh(u,h,z,w,N)):(u=Wr(v.type,null,w,h,h.mode,N),u.ref=h.ref,u.return=h,h.child=u)}if(z=u.child,!Xm(u,N)){var Z=z.memoizedProps;if(v=v.compare,v=v!==null?v:nt,v(Z,w)&&u.ref===h.ref)return mo(u,h,N)}return h.flags|=1,u=La(z,w),u.ref=h.ref,u.return=h,h.child=u}function hh(u,h,v,w,N){if(u!==null){var z=u.memoizedProps;if(nt(z,w)&&u.ref===h.ref)if(Ii=!1,h.pendingProps=w=z,Xm(u,N))(u.flags&131072)!==0&&(Ii=!0);else return h.lanes=u.lanes,mo(u,h,N)}return Fm(u,h,v,w,N)}function sy(u,h,v){var w=h.pendingProps,N=w.children,z=(h.stateNode._pendingVisibility&2)!==0,Z=u!==null?u.memoizedState:null;if(Cf(u,h),w.mode==="hidden"||z){if((h.flags&128)!==0){if(w=Z!==null?Z.baseLanes|v:v,u!==null){for(N=h.child=u.child,z=0;N!==null;)z=z|N.lanes|N.childLanes,N=N.sibling;h.childLanes=z&~w}else h.childLanes=0,h.child=null;return oy(u,h,w,v)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&gh(h,Z!==null?Z.cachePool:null),Z!==null?ye(h,Z):Re(),Ot(h);else return h.lanes=h.childLanes=536870912,oy(u,h,Z!==null?Z.baseLanes|v:v,v)}else Z!==null?(gh(h,Z.cachePool),ye(h,Z),Ct(),h.memoizedState=null):(u!==null&&gh(h,null),Re(),Ct());return ya(u,h,N,v),h.child}function oy(u,h,v,w){var N=nl();return N=N===null?null:{parent:Hs?Jn._currentValue:Jn._currentValue2,pool:N},h.memoizedState={baseLanes:v,cachePool:N},u!==null&&gh(h,null),Re(),Ot(h),u!==null&&ec(u,h,w,!0),null}function Cf(u,h){var v=h.ref;if(v===null)u!==null&&u.ref!==null&&(h.flags|=2097664);else{if(typeof v!="function"&&typeof v!="object")throw Error(a(284));(u===null||u.ref!==v)&&(h.flags|=2097664)}}function Fm(u,h,v,w,N){return tc(h),v=Rt(u,h,v,w,void 0,N),w=Ai(),u!==null&&!Ii?(Fn(u,h,N),mo(u,h,N)):(kn&&w&&le(h),h.flags|=1,ya(u,h,v,N),h.child)}function ly(u,h,v,w,N,z){return tc(h),h.updateQueue=null,v=ni(h,w,v,N),fn(u),w=Ai(),u!==null&&!Ii?(Fn(u,h,z),mo(u,h,z)):(kn&&w&&le(h),h.flags|=1,ya(u,h,v,z),h.child)}function Vm(u,h,v,w,N){if(tc(h),h.stateNode===null){var z=pc,Z=v.contextType;typeof Z=="object"&&Z!==null&&(z=va(Z)),z=new v(w,z),h.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=$h,h.stateNode=z,z._reactInternals=h,z=h.stateNode,z.props=w,z.state=h.memoizedState,z.refs={},Ht(h),Z=v.contextType,z.context=typeof Z=="object"&&Z!==null?va(Z):pc,z.state=h.memoizedState,Z=v.getDerivedStateFromProps,typeof Z=="function"&&(Na(h,v,Z,w),z.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(Z=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),Z!==z.state&&$h.enqueueReplaceState(z,z.state,null),Yt(h,w,z,N),pt(),z.state=h.memoizedState),typeof z.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(u===null){z=h.stateNode;var re=h.memoizedProps,xe=hs(v,re);z.props=xe;var Be=z.context,rt=v.contextType;Z=pc,typeof rt=="object"&&rt!==null&&(Z=va(rt));var xt=v.getDerivedStateFromProps;rt=typeof xt=="function"||typeof z.getSnapshotBeforeUpdate=="function",re=h.pendingProps!==re,rt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(re||Be!==Z)&&wf(h,z,w,Z),Ro=!1;var Et=h.memoizedState;z.state=Et,Yt(h,w,z,N),pt(),Be=h.memoizedState,re||Et!==Be||Ro?(typeof xt=="function"&&(Na(h,v,xt,w),Be=h.memoizedState),(xe=Ro||$o(h,v,xe,w,Et,Be,Z))?(rt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(h.flags|=4194308)):(typeof z.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Be),z.props=w,z.state=Be,z.context=Z,w=xe):(typeof z.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{z=h.stateNode,Dt(u,h),Z=h.memoizedProps,rt=hs(v,Z),z.props=rt,xt=h.pendingProps,Et=z.context,Be=v.contextType,xe=pc,typeof Be=="object"&&Be!==null&&(xe=va(Be)),re=v.getDerivedStateFromProps,(Be=typeof re=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Z!==xt||Et!==xe)&&wf(h,z,w,xe),Ro=!1,Et=h.memoizedState,z.state=Et,Yt(h,w,z,N),pt();var on=h.memoizedState;Z!==xt||Et!==on||Ro||u!==null&&u.dependencies!==null&&tl(u.dependencies)?(typeof re=="function"&&(Na(h,v,re,w),on=h.memoizedState),(rt=Ro||$o(h,v,rt,w,Et,on,xe)||u!==null&&u.dependencies!==null&&tl(u.dependencies))?(Be||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(w,on,xe),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(w,on,xe)),typeof z.componentDidUpdate=="function"&&(h.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof z.componentDidUpdate!="function"||Z===u.memoizedProps&&Et===u.memoizedState||(h.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Et===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=on),z.props=w,z.state=on,z.context=xe,w=rt):(typeof z.componentDidUpdate!="function"||Z===u.memoizedProps&&Et===u.memoizedState||(h.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Et===u.memoizedState||(h.flags|=1024),w=!1)}return z=w,Cf(u,h),w=(h.flags&128)!==0,z||w?(z=h.stateNode,v=w&&typeof v.getDerivedStateFromError!="function"?null:z.render(),h.flags|=1,u!==null&&w?(h.child=Ml(h,u.child,null,N),h.child=Ml(h,null,v,N)):ya(u,h,v,N),h.memoizedState=z.state,u=h.child):u=mo(u,h,N),u}function cy(u,h,v,w){return $t(),h.flags|=256,ya(u,h,v,w),h.child}function km(u){return{baseLanes:u,cachePool:py()}}function Hm(u,h,v){return u=u!==null?u.childLanes&~v:0,h&&(u|=lr),u}function uy(u,h,v){var w=h.pendingProps,N=!1,z=(h.flags&128)!==0,Z;if((Z=z)||(Z=u!==null&&u.memoizedState===null?!1:(qi.current&2)!==0),Z&&(N=!0,h.flags&=-129),Z=(h.flags&32)!==0,h.flags&=-33,u===null){if(kn){if(N?tt(h):Ct(),kn){var re=Ea,xe;(xe=re)&&(re=Fy(re,Zr),re!==null?(h.memoizedState={dehydrated:re,treeContext:ys!==null?{id:Xs,overflow:Kr}:null,retryLane:536870912},xe=t(18,null,null,0),xe.stateNode=re,xe.return=h,h.child=xe,Pa=h,Ea=null,xe=!0):xe=!1),xe||Je(h)}if(re=h.memoizedState,re!==null&&(re=re.dehydrated,re!==null))return Yf(re)?h.lanes=16:h.lanes=536870912,null;bt(h)}return re=w.children,w=w.fallback,N?(Ct(),N=h.mode,re=jm({mode:"hidden",children:re},N),w=Mo(w,N,v,null),re.return=h,w.return=h,re.sibling=w,h.child=re,N=h.child,N.memoizedState=km(v),N.childLanes=Hm(u,Z,v),h.memoizedState=Ba,w):(tt(h),Rf(h,re))}if(xe=u.memoizedState,xe!==null&&(re=xe.dehydrated,re!==null)){if(z)h.flags&256?(tt(h),h.flags&=-257,h=Gm(u,h,v)):h.memoizedState!==null?(Ct(),h.child=u.child,h.flags|=128,h=null):(Ct(),N=w.fallback,re=h.mode,w=jm({mode:"visible",children:w.children},re),N=Mo(N,re,v,null),N.flags|=2,w.return=h,N.return=h,w.sibling=N,h.child=w,Ml(h,u.child,null,v),w=h.child,w.memoizedState=km(v),w.childLanes=Hm(u,Z,v),h.memoizedState=Ba,h=N);else if(tt(h),Yf(re))Z=Oy(re).digest,w=Error(a(419)),w.stack="",w.digest=Z,Bt({value:w,source:null,stack:null}),h=Gm(u,h,v);else if(Ii||ec(u,h,v,!1),Z=(v&u.childLanes)!==0,Ii||Z){if(Z=En,Z!==null){if(w=v&-v,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(Z.suspendedLanes|v))!==0?0:w,w!==0&&w!==xe.retryLane)throw xe.retryLane=w,Ze(u,w),Oa(Z,u,w),ev}kh(re)||tr(),h=Gm(u,h,v)}else kh(re)?(h.flags|=128,h.child=u.child,h=oc.bind(null,u),T1(re,h),h=null):(u=xe.treeContext,Ga&&(Ea=zy(re),Pa=h,kn=!0,Nr=null,Zr=!1,u!==null&&(Cr[Rr++]=Xs,Cr[Rr++]=Kr,Cr[Rr++]=ys,Xs=u.id,Kr=u.overflow,ys=h)),h=Rf(h,w.children),h.flags|=4096);return h}return N?(Ct(),N=w.fallback,re=h.mode,xe=u.child,z=xe.sibling,w=La(xe,{mode:"hidden",children:w.children}),w.subtreeFlags=xe.subtreeFlags&31457280,z!==null?N=La(z,N):(N=Mo(N,re,v,null),N.flags|=2),N.return=h,w.return=h,w.sibling=N,h.child=w,w=N,N=h.child,re=u.child.memoizedState,re===null?re=km(v):(xe=re.cachePool,xe!==null?(z=Hs?Jn._currentValue:Jn._currentValue2,xe=xe.parent!==z?{parent:z,pool:z}:xe):xe=py(),re={baseLanes:re.baseLanes|v,cachePool:xe}),N.memoizedState=re,N.childLanes=Hm(u,Z,v),h.memoizedState=Ba,w):(tt(h),v=u.child,u=v.sibling,v=La(v,{mode:"visible",children:w.children}),v.return=h,v.sibling=null,u!==null&&(Z=h.deletions,Z===null?(h.deletions=[u],h.flags|=16):Z.push(u)),h.child=v,h.memoizedState=null,v)}function Rf(u,h){return h=jm({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function jm(u,h){return Nh(u,h,0,null)}function Gm(u,h,v){return Ml(h,u.child,null,v),u=Rf(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function fy(u,h,v){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),qm(u.return,h,v)}function ph(u,h,v,w,N){var z=u.memoizedState;z===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:N}:(z.isBackwards=h,z.rendering=null,z.renderingStartTime=0,z.last=w,z.tail=v,z.tailMode=N)}function dy(u,h,v){var w=h.pendingProps,N=w.revealOrder,z=w.tail;if(ya(u,h,w.children,v),w=qi.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&fy(u,v,h);else if(u.tag===19)fy(u,v,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(R(qi,w),N){case"forwards":for(v=h.child,N=null;v!==null;)u=v.alternate,u!==null&&Mt(u)===null&&(N=v),v=v.sibling;v=N,v===null?(N=h.child,h.child=null):(N=v.sibling,v.sibling=null),ph(h,!1,N,v,z);break;case"backwards":for(v=null,N=h.child,h.child=null;N!==null;){if(u=N.alternate,u!==null&&Mt(u)===null){h.child=N;break}u=N.sibling,N.sibling=v,v=N,N=u}ph(h,!0,v,null,z);break;case"together":ph(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function mo(u,h,v){if(u!==null&&(h.dependencies=u.dependencies),Pr|=h.lanes,(v&h.childLanes)===0)if(u!==null){if(ec(u,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(a(153));if(h.child!==null){for(u=h.child,v=La(u,u.pendingProps),h.child=v,v.return=h;u.sibling!==null;)u=u.sibling,v=v.sibling=La(u,u.pendingProps),v.return=h;v.sibling=null}return h.child}function Xm(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&tl(u)))}function M1(u,h,v){switch(h.tag){case 3:Se(h,h.stateNode.containerInfo),el(h,Jn,u.memoizedState.cache),$t();break;case 27:case 5:ve(h);break;case 4:Se(h,h.stateNode.containerInfo);break;case 10:el(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(tt(h),h.flags|=128,null):(v&h.child.childLanes)!==0?uy(u,h,v):(tt(h),u=mo(u,h,v),u!==null?u.sibling:null);tt(h);break;case 19:var N=(u.flags&128)!==0;if(w=(v&h.childLanes)!==0,w||(ec(u,h,v,!1),w=(v&h.childLanes)!==0),N){if(w)return dy(u,h,v);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),R(qi,qi.current),w)break;return null;case 22:case 23:return h.lanes=0,sy(u,h,v);case 24:el(h,Jn,u.memoizedState.cache)}return mo(u,h,v)}function hy(u,h,v){if(u!==null)if(u.memoizedProps!==h.pendingProps)Ii=!0;else{if(!Xm(u,v)&&(h.flags&128)===0)return Ii=!1,M1(u,h,v);Ii=(u.flags&131072)!==0}else Ii=!1,kn&&(h.flags&1048576)!==0&&K(h,ed,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var w=h.elementType,N=w._init;if(w=N(w._payload),h.type=w,typeof w=="function")_o(w)?(u=hs(w,u),h.tag=1,h=Vm(null,h,w,u,v)):(h.tag=0,h=Fm(null,h,w,u,v));else{if(w!=null){if(N=w.$$typeof,N===fu){h.tag=11,h=ay(null,h,w,u,v);break e}else if(N===Vf){h.tag=14,h=ry(null,h,w,u,v);break e}}throw h=o(w)||w,Error(a(306,h,""))}}return h;case 0:return Fm(u,h,h.type,h.pendingProps,v);case 1:return w=h.type,N=hs(w,h.pendingProps),Vm(u,h,w,N,v);case 3:e:{if(Se(h,h.stateNode.containerInfo),u===null)throw Error(a(387));var z=h.pendingProps;N=h.memoizedState,w=N.element,Dt(u,h),Yt(h,z,null,v);var Z=h.memoizedState;if(z=Z.cache,el(h,Jn,z),z!==N.cache&&Wm(h,[Jn],v,!0),pt(),z=Z.element,Ga&&N.isDehydrated)if(N={element:z,isDehydrated:!1,cache:Z.cache},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){h=cy(u,h,z,v);break e}else if(z!==w){w=ee(Error(a(424)),h),Bt(w),h=cy(u,h,z,v);break e}else for(Ga&&(Ea=Py(h.stateNode.containerInfo),Pa=h,kn=!0,Nr=null,Zr=!0),v=W0(h,null,z,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if($t(),z===w){h=mo(u,h,v);break e}ya(u,h,z,v)}h=h.child}return h;case 26:if(Tr)return Cf(u,h),u===null?(v=qh(h.type,null,h.pendingProps,null))?h.memoizedState=v:kn||(h.stateNode=C1(h.type,h.pendingProps,vs.current,h)):h.memoizedState=qh(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:if(Sa)return ve(h),u===null&&Sa&&kn&&(w=h.stateNode=j0(h.type,h.pendingProps,vs.current,ha.current,!1),Pa=h,Zr=!0,Ea=Hh(w)),w=h.pendingProps.children,u!==null||kn?ya(u,h,w,v):h.child=Ml(h,null,w,v),Cf(u,h),h.child;case 5:return u===null&&kn&&(Gy(h.type,h.pendingProps,ha.current),(N=w=Ea)&&(w=By(w,h.type,h.pendingProps,Zr),w!==null?(h.stateNode=w,Pa=h,Ea=Hh(w),Zr=!1,N=!0):N=!1),N||Je(h)),ve(h),N=h.type,z=h.pendingProps,Z=u!==null?u.memoizedProps:null,w=z.children,yl(N,z)?w=null:Z!==null&&yl(N,Z)&&(h.flags|=32),h.memoizedState!==null&&(N=Rt(u,h,Ti,null,null,v),Hs?tn._currentValue=N:tn._currentValue2=N),Cf(u,h),ya(u,h,w,v),h.child;case 6:return u===null&&kn&&(Xy(h.pendingProps,ha.current),(u=v=Ea)&&(v=Iy(v,h.pendingProps,Zr),v!==null?(h.stateNode=v,Pa=h,Ea=null,u=!0):u=!1),u||Je(h)),null;case 13:return uy(u,h,v);case 4:return Se(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=Ml(h,null,w,v):ya(u,h,w,v),h.child;case 11:return ay(u,h,h.type,h.pendingProps,v);case 7:return ya(u,h,h.pendingProps,v),h.child;case 8:return ya(u,h,h.pendingProps.children,v),h.child;case 12:return ya(u,h,h.pendingProps.children,v),h.child;case 10:return w=h.pendingProps,el(h,h.type,w.value),ya(u,h,w.children,v),h.child;case 9:return N=h.type._context,w=h.pendingProps.children,tc(h),N=va(N),w=w(N),h.flags|=1,ya(u,h,w,v),h.child;case 14:return ry(u,h,h.type,h.pendingProps,v);case 15:return hh(u,h,h.type,h.pendingProps,v);case 19:return dy(u,h,v);case 22:return sy(u,h,v);case 24:return tc(h),w=va(Jn),u===null?(N=nl(),N===null&&(N=En,z=mh(),N.pooledCache=z,z.refCount++,z!==null&&(N.pooledCacheLanes|=v),N=z),h.memoizedState={parent:w,cache:N},Ht(h),el(h,Jn,N)):((u.lanes&v)!==0&&(Dt(u,h),Yt(h,null,null,v),pt()),N=u.memoizedState,z=h.memoizedState,N.parent!==w?(N={parent:w,cache:w},h.memoizedState=N,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=N),el(h,Jn,w)):(w=z.cache,el(h,Jn,w),w!==N.cache&&Wm(h,[Jn],v,!0))),ya(u,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(a(156,h.tag))}function el(u,h,v){Hs?(R(sr,h._currentValue),h._currentValue=v):(R(sr,h._currentValue2),h._currentValue2=v)}function go(u){var h=sr.current;Hs?u._currentValue=h:u._currentValue2=h,S(sr)}function qm(u,h,v){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===v)break;u=u.return}}function Wm(u,h,v,w){var N=u.child;for(N!==null&&(N.return=u);N!==null;){var z=N.dependencies;if(z!==null){var Z=N.child;z=z.firstContext;e:for(;z!==null;){var re=z;z=N;for(var xe=0;xe<h.length;xe++)if(re.context===h[xe]){z.lanes|=v,re=z.alternate,re!==null&&(re.lanes|=v),qm(z.return,v,u),w||(Z=null);break e}z=re.next}}else if(N.tag===18){if(Z=N.return,Z===null)throw Error(a(341));Z.lanes|=v,z=Z.alternate,z!==null&&(z.lanes|=v),qm(Z,v,u),Z=null}else Z=N.child;if(Z!==null)Z.return=N;else for(Z=N;Z!==null;){if(Z===u){Z=null;break}if(N=Z.sibling,N!==null){N.return=Z.return,Z=N;break}Z=Z.return}N=Z}}function ec(u,h,v,w){u=null;for(var N=h,z=!1;N!==null;){if(!z){if((N.flags&524288)!==0)z=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Z=N.alternate;if(Z===null)throw Error(a(387));if(Z=Z.memoizedProps,Z!==null){var re=N.type;Ar(N.pendingProps.value,Z.value)||(u!==null?u.push(re):u=[re])}}else if(N===yu.current){if(Z=N.alternate,Z===null)throw Error(a(387));Z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(u!==null?u.push(tn):u=[tn])}N=N.return}u!==null&&Wm(h,u,v,w),h.flags|=262144}function tl(u){for(u=u.firstContext;u!==null;){var h=u.context;if(!Ar(Hs?h._currentValue:h._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function tc(u){wl=u,Li=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function va(u){return Ym(wl,u)}function Nf(u,h){return wl===null&&tc(u),Ym(u,h)}function Ym(u,h){var v=Hs?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:v,next:null},Li===null){if(u===null)throw Error(a(308));Li=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else Li=Li.next=h;return v}function mh(){return{controller:new tv,data:new Map,refCount:0}}function Zc(u){u.refCount--,u.refCount===0&&Do(xc,function(){u.controller.abort()})}function nl(){var u=Oo.current;return u!==null?u:En.pooledCache}function gh(u,h){h===null?R(Oo,Oo.current):R(Oo,h.pool)}function py(){var u=nl();return u===null?null:{parent:Hs?Jn._currentValue:Jn._currentValue2,pool:u}}function _r(u){u.flags|=4}function Km(u,h){if(u!==null&&u.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(u=h.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function xh(u,h,v,w){if(_a)for(v=h.child;v!==null;){if(v.tag===5||v.tag===6)ks(u,v.stateNode);else if(!(v.tag===4||Sa&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(Er)for(var N=h.child;N!==null;){if(N.tag===5){var z=N.stateNode;v&&w&&(z=N0(z,N.type,N.memoizedProps)),ks(u,z)}else if(N.tag===6)z=N.stateNode,v&&w&&(z=D0(z,N.memoizedProps)),ks(u,z);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)z=N.child,z!==null&&(z.return=N),xh(u,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===h)break;for(;N.sibling===null;){if(N.return===null||N.return===h)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Jc(u,h,v,w){if(Er)for(var N=h.child;N!==null;){if(N.tag===5){var z=N.stateNode;v&&w&&(z=N0(z,N.type,N.memoizedProps)),C0(u,z)}else if(N.tag===6)z=N.stateNode,v&&w&&(z=D0(z,N.memoizedProps)),C0(u,z);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)z=N.child,z!==null&&(z.return=N),Jc(u,N,!(N.memoizedProps!==null&&N.memoizedProps.mode==="manual"),!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===h)break;for(;N.sibling===null;){if(N.return===null||N.return===h)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Qc(u,h){if(Er&&Km(u,h)){u=h.stateNode;var v=u.containerInfo,w=Vh();Jc(w,h,!1,!1),u.pendingChildren=w,_r(h),Dy(v,w)}}function Zm(u,h,v,w){if(_a)u.memoizedProps!==w&&_r(h);else if(Er){var N=u.stateNode,z=u.memoizedProps;if((u=Km(u,h))||z!==w){var Z=ha.current;z=A0(N,v,z,w,!u,null),z===N?h.stateNode=N:(wo(z,v,w,Z)&&_r(h),h.stateNode=z,u?xh(z,h,!1,!1):_r(h))}else h.stateNode=N}}function $c(u,h,v){if(Cy(h,v)){if(u.flags|=16777216,!To(h,v))if(zf())u.flags|=8192;else throw gc=Jh,q0}else u.flags&=-16777217}function Jm(u,h){if(qy(h)){if(u.flags|=16777216,!k0(h))if(zf())u.flags|=8192;else throw gc=Jh,q0}else u.flags&=-16777217}function Df(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?I():536870912,u.lanes|=h,Uo|=h)}function nc(u,h){if(!kn)switch(u.tailMode){case"hidden":h=u.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function xi(u){var h=u.alternate!==null&&u.alternate.child===u.child,v=0,w=0;if(h)for(var N=u.child;N!==null;)v|=N.lanes|N.childLanes,w|=N.subtreeFlags&31457280,w|=N.flags&31457280,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)v|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=w,u.childLanes=v,h}function my(u,h,v){var w=h.pendingProps;switch(_e(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(h),null;case 1:return xi(h),null;case 3:return v=h.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),go(Jn),je(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(wt(h)?_r(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Nr!==null&&(yo(Nr),Nr=null))),Qc(u,h),xi(h),null;case 26:if(Tr){v=h.type;var N=h.memoizedState;return u===null?(_r(h),N!==null?(xi(h),Jm(h,N)):(xi(h),$c(h,v,w))):N?N!==u.memoizedState?(_r(h),xi(h),Jm(h,N)):(xi(h),h.flags&=-16777217):(_a?u.memoizedProps!==w&&_r(h):Zm(u,h,v,w),xi(h),$c(h,v,w)),null}case 27:if(Sa){if(pe(h),v=vs.current,N=h.type,u!==null&&h.stateNode!=null)_a?u.memoizedProps!==w&&_r(h):Zm(u,h,N,w);else{if(!w){if(h.stateNode===null)throw Error(a(166));return xi(h),null}u=ha.current,wt(h)?ct(h,u):(u=j0(N,w,v,u,!0),h.stateNode=u,_r(h))}return xi(h),null}case 5:if(pe(h),v=h.type,u!==null&&h.stateNode!=null)Zm(u,h,v,w);else{if(!w){if(h.stateNode===null)throw Error(a(166));return xi(h),null}u=ha.current,wt(h)?ct(h,u):(N=g0(v,w,vs.current,u,h),xh(N,h,!1,!1),h.stateNode=N,wo(N,v,w,u)&&_r(h))}return xi(h),$c(h,h.type,h.pendingProps),null;case 6:if(u&&h.stateNode!=null)v=u.memoizedProps,_a?v!==w&&_r(h):Er&&(v!==w?(h.stateNode=Uh(w,vs.current,ha.current,h),_r(h)):h.stateNode=u.stateNode);else{if(typeof w!="string"&&h.stateNode===null)throw Error(a(166));if(u=vs.current,v=ha.current,wt(h)){if(!Ga)throw Error(a(176));if(u=h.stateNode,v=h.memoizedProps,w=null,N=Pa,N!==null)switch(N.tag){case 27:case 5:w=N.memoizedProps}Vy(u,v,h,w)||Je(h)}else h.stateNode=Uh(w,u,v,h)}return xi(h),null;case 13:if(w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(N=wt(h),w!==null&&w.dehydrated!==null){if(u===null){if(!N)throw Error(a(318));if(!Ga)throw Error(a(344));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));hu(N,h)}else $t(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;xi(h),N=!1}else Nr!==null&&(yo(Nr),Nr=null),N=!0;if(!N)return h.flags&256?(bt(h),h):(bt(h),null)}if(bt(h),(h.flags&128)!==0)return h.lanes=v,h;if(v=w!==null,u=u!==null&&u.memoizedState!==null,v){w=h.child,N=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(N=w.alternate.memoizedState.cachePool.pool);var z=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(z=w.memoizedState.cachePool.pool),z!==N&&(w.flags|=2048)}return v!==u&&v&&(h.child.flags|=8192),Df(h,h.updateQueue),xi(h),null;case 4:return je(),Qc(u,h),u===null&&v0(h.stateNode.containerInfo),xi(h),null;case 10:return go(h.type),xi(h),null;case 19:if(S(qi),N=h.memoizedState,N===null)return xi(h),null;if(w=(h.flags&128)!==0,z=N.rendering,z===null)if(w)nc(N,!1);else{if(Bn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(z=Mt(u),z!==null){for(h.flags|=128,nc(N,!1),u=z.updateQueue,h.updateQueue=u,Df(h,u),h.subtreeFlags=0,u=v,v=h.child;v!==null;)So(v,u),v=v.sibling;return R(qi,qi.current&1|2),h.child}u=u.sibling}N.tail!==null&&Ma()>wi&&(h.flags|=128,w=!0,nc(N,!1),h.lanes=4194304)}else{if(!w)if(u=Mt(z),u!==null){if(h.flags|=128,w=!0,u=u.updateQueue,h.updateQueue=u,Df(h,u),nc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!z.alternate&&!kn)return xi(h),null}else 2*Ma()-N.renderingStartTime>wi&&v!==536870912&&(h.flags|=128,w=!0,nc(N,!1),h.lanes=4194304);N.isBackwards?(z.sibling=h.child,h.child=z):(u=N.last,u!==null?u.sibling=z:h.child=z,N.last=z)}return N.tail!==null?(h=N.tail,N.rendering=h,N.tail=h.sibling,N.renderingStartTime=Ma(),h.sibling=null,u=qi.current,R(qi,w?u&1|2:u&1),h):(xi(h),null);case 22:case 23:return bt(h),Qe(),w=h.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(v&536870912)!==0&&(h.flags&128)===0&&(xi(h),h.subtreeFlags&6&&(h.flags|=8192)):xi(h),v=h.updateQueue,v!==null&&Df(h,v.retryQueue),v=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048),u!==null&&S(Oo),null;case 24:return v=null,u!==null&&(v=u.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),go(Jn),xi(h),null;case 25:return null}throw Error(a(156,h.tag))}function gy(u,h){switch(_e(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return go(Jn),je(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return pe(h),null;case 13:if(bt(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(a(340));$t()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return S(qi),null;case 4:return je(),null;case 10:return go(h.type),null;case 22:case 23:return bt(h),Qe(),u!==null&&S(Oo),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return go(Jn),null;case 25:return null;default:return null}}function Qm(u,h){switch(_e(h),h.tag){case 3:go(Jn),je();break;case 26:case 27:case 5:pe(h);break;case 4:je();break;case 13:bt(h);break;case 19:S(qi);break;case 10:go(h.type);break;case 22:case 23:bt(h),Qe(),u!==null&&S(Oo);break;case 24:go(Jn)}}function Of(u,h){try{var v=h.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var N=w.next;v=N;do{if((v.tag&u)===u){w=void 0;var z=v.create,Z=v.inst;w=z(),Z.destroy=w}v=v.next}while(v!==N)}}catch(re){Dn(h,h.return,re)}}function il(u,h,v){try{var w=h.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var z=N.next;w=z;do{if((w.tag&u)===u){var Z=w.inst,re=Z.destroy;if(re!==void 0){Z.destroy=void 0,N=h;var xe=v;try{re()}catch(Be){Dn(N,xe,Be)}}}w=w.next}while(w!==z)}}catch(Be){Dn(h,h.return,Be)}}function xy(u){var h=u.updateQueue;if(h!==null){var v=u.stateNode;try{ut(h,v)}catch(w){Dn(u,u.return,w)}}}function yy(u,h,v){v.props=hs(u.type,u.memoizedProps),v.state=u.memoizedState;try{v.componentWillUnmount()}catch(w){Dn(u,h,w)}}function ic(u,h){try{var v=u.ref;if(v!==null){var w=u.stateNode;switch(u.tag){case 26:case 27:case 5:var N=du(w);break;default:N=w}typeof v=="function"?u.refCleanup=v(N):v.current=N}}catch(z){Dn(u,h,z)}}function yi(u,h){var v=u.ref,w=u.refCleanup;if(v!==null)if(typeof w=="function")try{w()}catch(N){Dn(u,h,N)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(N){Dn(u,h,N)}else v.current=null}function eu(u){var h=u.type,v=u.memoizedProps,w=u.stateNode;try{w1(w,h,v,u)}catch(N){Dn(u,u.return,N)}}function $m(u,h,v){try{M0(u.stateNode,u.type,v,h,u)}catch(w){Dn(u,u.return,w)}}function e0(u){return u.tag===5||u.tag===3||(Tr?u.tag===26:!1)||(Sa?u.tag===27:!1)||u.tag===4}function yh(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||e0(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Sa||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function vh(u,h,v){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?w0(v,u,h):Ry(v,u);else if(!(w===4||Sa&&w===27)&&(u=u.child,u!==null))for(vh(u,h,v),u=u.sibling;u!==null;)vh(u,h,v),u=u.sibling}function tu(u,h,v){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?E0(v,u,h):S0(v,u);else if(!(w===4||Sa&&w===27)&&(u=u.child,u!==null))for(tu(u,h,v),u=u.sibling;u!==null;)tu(u,h,v),u=u.sibling}function vy(u,h,v){u=u.containerInfo;try{R0(u,v)}catch(w){Dn(h,h.return,w)}}function nu(u,h){for(xl(u.containerInfo),Ui=h;Ui!==null;)if(u=Ui,h=u.child,(u.subtreeFlags&1028)!==0&&h!==null)h.return=u,Ui=h;else for(;Ui!==null;){u=Ui;var v=u.alternate;switch(h=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&v!==null){h=void 0;var w=u,N=v.memoizedProps;v=v.memoizedState;var z=w.stateNode;try{var Z=hs(w.type,N,w.elementType===w.type);h=z.getSnapshotBeforeUpdate(Z,v),z.__reactInternalSnapshotBeforeUpdate=h}catch(re){Dn(w,w.return,re)}}break;case 3:(h&1024)!==0&&_a&&Fh(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(a(163))}if(h=u.sibling,h!==null){h.return=u.return,Ui=h;break}Ui=u.return}return Z=yc,yc=!1,Z}function bh(u,h,v){var w=v.flags;switch(v.tag){case 0:case 11:case 15:Ps(u,v),w&4&&Of(5,v);break;case 1:if(Ps(u,v),w&4)if(u=v.stateNode,h===null)try{u.componentDidMount()}catch(re){Dn(v,v.return,re)}else{var N=hs(v.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(N,h,u.__reactInternalSnapshotBeforeUpdate)}catch(re){Dn(v,v.return,re)}}w&64&&xy(v),w&512&&ic(v,v.return);break;case 3:if(Ps(u,v),w&64&&(w=v.updateQueue,w!==null)){if(u=null,v.child!==null)switch(v.child.tag){case 27:case 5:u=du(v.child.stateNode);break;case 1:u=v.child.stateNode}try{ut(w,u)}catch(re){Dn(v,v.return,re)}}break;case 26:if(Tr){Ps(u,v),w&512&&ic(v,v.return);break}case 27:case 5:Ps(u,v),h===null&&w&4&&eu(v),w&512&&ic(v,v.return);break;case 12:Ps(u,v);break;case 13:Ps(u,v),w&4&&al(u,v);break;case 22:if(N=v.memoizedState!==null||aa,!N){h=h!==null&&h.memoizedState!==null||Ei;var z=aa,Z=Ei;aa=N,(Ei=h)&&!Z?sl(u,v,(v.subtreeFlags&8772)!==0):Ps(u,v),aa=z,Ei=Z}w&512&&(v.memoizedProps.mode==="manual"?ic(v,v.return):yi(v,v.return));break;default:Ps(u,v)}}function iu(u){var h=u.alternate;h!==null&&(u.alternate=null,iu(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&b0(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Sr(u,h,v){for(v=v.child;v!==null;)_h(u,h,v),v=v.sibling}function _h(u,h,v){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(xu,v)}catch{}switch(v.tag){case 26:if(Tr){Ei||yi(v,h),Sr(u,h,v),v.memoizedState?z0(v.memoizedState):v.stateNode&&F0(v.stateNode);break}case 27:if(Sa){Ei||yi(v,h);var w=Fi,N=or;Fi=v.stateNode,Sr(u,h,v),Wy(v.stateNode),Fi=w,or=N;break}case 5:Ei||yi(v,h);case 6:if(_a){if(w=Fi,N=or,Fi=null,Sr(u,h,v),Fi=w,or=N,Fi!==null)if(or)try{zi(Fi,v.stateNode)}catch(z){Dn(v,h,z)}else try{Xa(Fi,v.stateNode)}catch(z){Dn(v,h,z)}}else Sr(u,h,v);break;case 18:_a&&Fi!==null&&(or?L0(Fi,v.stateNode):Hy(Fi,v.stateNode));break;case 4:_a?(w=Fi,N=or,Fi=v.stateNode.containerInfo,or=!0,Sr(u,h,v),Fi=w,or=N):(Er&&vy(v.stateNode,v,Vh()),Sr(u,h,v));break;case 0:case 11:case 14:case 15:Ei||il(2,v,h),Ei||il(4,v,h),Sr(u,h,v);break;case 1:Ei||(yi(v,h),w=v.stateNode,typeof w.componentWillUnmount=="function"&&yy(v,h,w)),Sr(u,h,v);break;case 21:Sr(u,h,v);break;case 22:Ei||yi(v,h),Ei=(w=Ei)||v.memoizedState!==null,Sr(u,h,v),Ei=w;break;default:Sr(u,h,v)}}function al(u,h){if(Ga&&h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Gh(u)}catch(v){Dn(h,h.return,v)}}function au(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new Mu),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new Mu),h;default:throw Error(a(435,u.tag))}}function Lf(u,h){var v=au(u);h.forEach(function(w){var N=r0.bind(null,u,w);v.has(w)||(v.add(w),w.then(N,N))})}function ka(u,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var N=v[w],z=u,Z=h;if(_a){var re=Z;e:for(;re!==null;){switch(re.tag){case 27:case 5:Fi=re.stateNode,or=!1;break e;case 3:Fi=re.stateNode.containerInfo,or=!0;break e;case 4:Fi=re.stateNode.containerInfo,or=!0;break e}re=re.return}if(Fi===null)throw Error(a(160));_h(z,Z,N),Fi=null,or=!1}else _h(z,Z,N);z=N.alternate,z!==null&&(z.return=null),N.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)rl(h,u),h=h.sibling}function rl(u,h){var v=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ka(h,u),$a(u),w&4&&(il(3,u,u.return),Of(3,u),il(5,u,u.return));break;case 1:ka(h,u),$a(u),w&512&&(Ei||v===null||yi(v,v.return)),w&64&&aa&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(v=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=v===null?w:v.concat(w))));break;case 26:if(Tr){var N=qa;ka(h,u),$a(u),w&512&&(Ei||v===null||yi(v,v.return)),w&4&&(w=v!==null?v.memoizedState:null,h=u.memoizedState,v===null?h===null?u.stateNode===null?u.stateNode=B0(N,u.type,u.memoizedProps,u):I0(N,u.type,u.stateNode):u.stateNode=P0(N,h,u.memoizedProps):w!==h?(w===null?v.stateNode!==null&&F0(v.stateNode):z0(w),h===null?I0(N,u.type,u.stateNode):P0(N,h,u.memoizedProps)):h===null&&u.stateNode!==null&&$m(u,u.memoizedProps,v.memoizedProps));break}case 27:if(Sa&&w&4&&u.alternate===null){N=u.stateNode;var z=u.memoizedProps;try{R1(N),N1(u.type,z,N,u)}catch(rt){Dn(u,u.return,rt)}}case 5:if(ka(h,u),$a(u),w&512&&(Ei||v===null||yi(v,v.return)),_a){if(u.flags&32){h=u.stateNode;try{qf(h)}catch(rt){Dn(u,u.return,rt)}}w&4&&u.stateNode!=null&&(h=u.memoizedProps,$m(u,h,v!==null?v.memoizedProps:h)),w&1024&&(Tl=!0)}break;case 6:if(ka(h,u),$a(u),w&4&&_a){if(u.stateNode===null)throw Error(a(162));w=u.memoizedProps,v=v!==null?v.memoizedProps:w,h=u.stateNode;try{Ny(h,v,w)}catch(rt){Dn(u,u.return,rt)}}break;case 3:if(Tr?(V0(),N=qa,qa=Xh(h.containerInfo),ka(h,u),qa=N):ka(h,u),$a(u),w&4){if(_a&&Ga&&v!==null&&v.memoizedState.isDehydrated)try{jh(h.containerInfo)}catch(rt){Dn(u,u.return,rt)}if(Er){w=h.containerInfo,v=h.pendingChildren;try{R0(w,v)}catch(rt){Dn(u,u.return,rt)}}}Tl&&(Tl=!1,t0(u));break;case 4:Tr?(v=qa,qa=Xh(u.stateNode.containerInfo),ka(h,u),$a(u),qa=v):(ka(h,u),$a(u)),w&4&&Er&&vy(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:ka(h,u),$a(u);break;case 13:ka(h,u),$a(u),u.child.flags&8192&&u.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Ks=Ma()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,Lf(u,w)));break;case 22:w&512&&(Ei||v===null||yi(v,v.return)),N=u.memoizedState!==null;var Z=v!==null&&v.memoizedState!==null,re=aa,xe=Ei;if(aa=re||N,Ei=xe||Z,ka(h,u),Ei=xe,aa=re,$a(u),h=u.stateNode,h._current=u,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,w&8192&&(h._visibility=N?h._visibility&-2:h._visibility|1,N&&(h=aa||Ei,v===null||Z||h||ru(u)),_a&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(v=null,_a)for(h=u;;){if(h.tag===5||Tr&&h.tag===26||Sa&&h.tag===27){if(v===null){Z=v=h;try{z=Z.stateNode,N?Wf(z):T0(Z.stateNode,Z.memoizedProps)}catch(rt){Dn(Z,Z.return,rt)}}}else if(h.tag===6){if(v===null){Z=h;try{var Be=Z.stateNode;N?Ih(Be):Ao(Be,Z.memoizedProps)}catch(rt){Dn(Z,Z.return,rt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}}w&4&&(w=u.updateQueue,w!==null&&(v=w.retryQueue,v!==null&&(w.retryQueue=null,Lf(u,v))));break;case 19:ka(h,u),$a(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,Lf(u,w)));break;case 21:break;default:ka(h,u),$a(u)}}function $a(u){var h=u.flags;if(h&2){try{if(_a&&(!Sa||u.tag!==27)){e:{for(var v=u.return;v!==null;){if(e0(v)){var w=v;break e}v=v.return}throw Error(a(160))}switch(w.tag){case 27:if(Sa){var N=w.stateNode,z=yh(u);tu(u,z,N);break}case 5:var Z=w.stateNode;w.flags&32&&(qf(Z),w.flags&=-33);var re=yh(u);tu(u,re,Z);break;case 3:case 4:var xe=w.stateNode.containerInfo,Be=yh(u);vh(u,Be,xe);break;default:throw Error(a(161))}}}catch(rt){Dn(u,u.return,rt)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function t0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;t0(h),h.tag===5&&h.flags&1024&&si(h.stateNode),u=u.sibling}}function Ps(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)bh(u,h.alternate,h),h=h.sibling}function ru(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return),ru(h);break;case 1:yi(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&yy(h,h.return,v),ru(h);break;case 26:case 27:case 5:yi(h,h.return),ru(h);break;case 22:yi(h,h.return),h.memoizedState===null&&ru(h);break;default:ru(h)}u=u.sibling}}function sl(u,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,N=u,z=h,Z=z.flags;switch(z.tag){case 0:case 11:case 15:sl(N,z,v),Of(4,z);break;case 1:if(sl(N,z,v),w=z,N=w.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Be){Dn(w,w.return,Be)}if(w=z,N=w.updateQueue,N!==null){var re=w.stateNode;try{var xe=N.shared.hiddenCallbacks;if(xe!==null)for(N.shared.hiddenCallbacks=null,N=0;N<xe.length;N++)ce(xe[N],re)}catch(Be){Dn(w,w.return,Be)}}v&&Z&64&&xy(z),ic(z,z.return);break;case 26:case 27:case 5:sl(N,z,v),v&&w===null&&Z&4&&eu(z),ic(z,z.return);break;case 12:sl(N,z,v);break;case 13:sl(N,z,v),v&&Z&4&&al(N,z);break;case 22:z.memoizedState===null&&sl(N,z,v),ic(z,z.return);break;default:sl(N,z,v)}h=h.sibling}}function n0(u,h){var v=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==v&&(u!=null&&u.refCount++,v!=null&&Zc(v))}function Sh(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Zc(u))}function xo(u,h,v,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Mh(u,h,v,w),h=h.sibling}function Mh(u,h,v,w){var N=h.flags;switch(h.tag){case 0:case 11:case 15:xo(u,h,v,w),N&2048&&Of(9,h);break;case 3:xo(u,h,v,w),N&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Zc(u)));break;case 12:if(N&2048){xo(u,h,v,w),u=h.stateNode;try{var z=h.memoizedProps,Z=z.id,re=z.onPostCommit;typeof re=="function"&&re(Z,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(xe){Dn(h,h.return,xe)}}else xo(u,h,v,w);break;case 23:break;case 22:z=h.stateNode,h.memoizedState!==null?z._visibility&4?xo(u,h,v,w):ol(u,h):z._visibility&4?xo(u,h,v,w):(z._visibility|=4,Da(u,h,v,w,(h.subtreeFlags&10256)!==0)),N&2048&&n0(h.alternate,h);break;case 24:xo(u,h,v,w),N&2048&&Sh(h.alternate,h);break;default:xo(u,h,v,w)}}function Da(u,h,v,w,N){for(N=N&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var z=u,Z=h,re=v,xe=w,Be=Z.flags;switch(Z.tag){case 0:case 11:case 15:Da(z,Z,re,xe,N),Of(8,Z);break;case 23:break;case 22:var rt=Z.stateNode;Z.memoizedState!==null?rt._visibility&4?Da(z,Z,re,xe,N):ol(z,Z):(rt._visibility|=4,Da(z,Z,re,xe,N)),N&&Be&2048&&n0(Z.alternate,Z);break;case 24:Da(z,Z,re,xe,N),N&&Be&2048&&Sh(Z.alternate,Z);break;default:Da(z,Z,re,xe,N)}h=h.sibling}}function ol(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=u,w=h,N=w.flags;switch(w.tag){case 22:ol(v,w),N&2048&&n0(w.alternate,w);break;case 24:ol(v,w),N&2048&&Sh(w.alternate,w);break;default:ol(v,w)}h=h.sibling}}function ca(u){if(u.subtreeFlags&vc)for(u=u.child;u!==null;)ac(u),u=u.sibling}function ac(u){switch(u.tag){case 26:ca(u),u.flags&vc&&(u.memoizedState!==null?H0(qa,u.memoizedState,u.memoizedProps):Ri(u.type,u.memoizedProps));break;case 5:ca(u),u.flags&vc&&Ri(u.type,u.memoizedProps);break;case 3:case 4:if(Tr){var h=qa;qa=Xh(u.stateNode.containerInfo),ca(u),qa=h}else ca(u);break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=vc,vc=16777216,ca(u),vc=h):ca(u));break;default:ca(u)}}function Eh(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function ll(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Ui=w,cl(w,u)}Eh(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Uf(u),u=u.sibling}function Uf(u){switch(u.tag){case 0:case 11:case 15:ll(u),u.flags&2048&&il(9,u,u.return);break;case 3:ll(u);break;case 12:ll(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&4&&(u.return===null||u.return.tag!==13)?(h._visibility&=-5,su(u)):ll(u);break;default:ll(u)}}function su(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Ui=w,cl(w,u)}Eh(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:il(8,h,h.return),su(h);break;case 22:v=h.stateNode,v._visibility&4&&(v._visibility&=-5,su(h));break;default:su(h)}u=u.sibling}}function cl(u,h){for(;Ui!==null;){var v=Ui;switch(v.tag){case 0:case 11:case 15:il(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var w=v.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Zc(v.memoizedState.cache)}if(w=v.child,w!==null)w.return=v,Ui=w;else e:for(v=u;Ui!==null;){w=Ui;var N=w.sibling,z=w.return;if(iu(w),w===v){Ui=null;break e}if(N!==null){N.return=z,Ui=N;break e}Ui=z}}}function wh(u){var h=y0(u);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(u=hc(u),u===null)throw Error(a(362));return u.stateNode.current}function ou(u,h){var v=u.tag;switch(h.$$typeof){case ld:if(u.type===h.value)return!0;break;case np:e:{for(h=h.value,u=[u,0],v=0;v<u.length;){var w=u[v++],N=w.tag,z=u[v++],Z=h[z];if(N!==5&&N!==26&&N!==27||!Gs(w)){for(;Z!=null&&ou(w,Z);)z++,Z=h[z];if(z===h.length){h=!0;break e}else for(w=w.child;w!==null;)u.push(w,z),w=w.sibling}}h=!1}return h;case ip:if((v===5||v===26||v===27)&&E1(u.stateNode,h.value))return!0;break;case Qn:if((v===5||v===6||v===26||v===27)&&(u=Xf(u),u!==null&&0<=u.indexOf(h.value)))return!0;break;case zn:if((v===5||v===26||v===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ul(u){switch(u.$$typeof){case ld:return"<"+(o(u.value)||"Unknown")+">";case np:return":has("+(ul(u)||"")+")";case ip:return'[role="'+u.value+'"]';case Qn:return'"'+u.value+'"';case zn:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function by(u,h){var v=[];u=[u,0];for(var w=0;w<u.length;){var N=u[w++],z=N.tag,Z=u[w++],re=h[Z];if(z!==5&&z!==26&&z!==27||!Gs(N)){for(;re!=null&&ou(N,re);)Z++,re=h[Z];if(Z===h.length)v.push(N);else for(N=N.child;N!==null;)u.push(N,Z),N=N.sibling}}return v}function Ha(u,h){if(!js)throw Error(a(363));u=wh(u),u=by(u,h),h=[],u=Array.from(u);for(var v=0;v<u.length;){var w=u[v++],N=w.tag;if(N===5||N===26||N===27)Gs(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)u.push(w),w=w.sibling}return h}function ja(){if((Wt&2)!==0&&vn!==0)return vn&-vn;if(Qt.T!==null){var u=rr;return u!==0?u:Ie()}return Yr()}function zs(){lr===0&&(lr=(vn&536870912)===0||kn?B():536870912);var u=Lr.current;return u!==null&&(u.flags|=32),lr}function Oa(u,h,v){(u===En&&oi===2||u.cancelPendingCommit!==null)&&(ms(u,0),ps(u,vn,lr,!1)),W(u,v),((Wt&2)===0||u!==En)&&(u===En&&((Wt&2)===0&&(Ss|=v),Bn===4&&ps(u,vn,lr,!1)),dt(u))}function Pf(u,h,v){if((Wt&6)!==0)throw Error(a(327));var w=!v&&(h&60)===0&&(h&u.expiredLanes)===0||P(u,h),N=w?Fs(u,h):Bs(u,h,!0),z=w;do{if(N===0){Ur&&!w&&ps(u,h,0,!1);break}else if(N===6)ps(u,h,0,!$n);else{if(v=u.current.alternate,z&&!_y(v)){N=Bs(u,h,!1),z=!1;continue}if(N===2){if(z=h,u.errorRecoveryDisabledLanes&z)var Z=0;else Z=u.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){h=Z;e:{var re=u;N=Eu;var xe=Ga&&re.current.memoizedState.isDehydrated;if(xe&&(ms(re,Z).flags|=256),Z=Bs(re,Z,!1),Z!==2){if(Lo&&!xe){re.errorRecoveryDisabledLanes|=z,Ss|=z,N=4;break e}z=zr,zr=N,z!==null&&yo(z)}N=Z}if(z=!1,N!==2)continue}}if(N===1){ms(u,0),ps(u,h,0,!0);break}e:{switch(w=u,N){case 0:case 1:throw Error(a(345));case 4:if((h&4194176)===h){ps(w,h,lr,!$n);break e}break;case 2:zr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(w.finishedWork=v,w.finishedLanes=h,(h&62914560)===h&&(z=Ks+300-Ma(),10<z)){if(ps(w,h,lr,!$n),F(w,0)!==0)break e;w.timeoutHandle=x0(Th.bind(null,w,v,zr,Ms,wu,h,lr,Ss,Uo,$n,2,-0,0),z);break e}Th(w,v,zr,Ms,wu,h,lr,Ss,Uo,$n,0,-0,0)}}break}while(!0);dt(u)}function yo(u){zr===null?zr=u:zr.push.apply(zr,u)}function Th(u,h,v,w,N,z,Z,re,xe,Be,rt,xt,Et){var on=h.subtreeFlags;if((on&8192||(on&16785408)===16785408)&&(wr(),ac(h),h=Ph(),h!==null)){u.cancelPendingCommit=h(di.bind(null,u,v,w,N,Z,re,xe,1,xt,Et)),ps(u,z,Z,!Be);return}di(u,v,w,N,Z,re,xe,rt,xt,Et)}function _y(u){for(var h=u;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var w=0;w<v.length;w++){var N=v[w],z=N.getSnapshot;N=N.value;try{if(!Ar(z(),N))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ps(u,h,v,w){h&=~Ia,h&=~Ss,u.suspendedLanes|=h,u.pingedLanes&=~h,w&&(u.warmLanes|=h),w=u.expirationTimes;for(var N=h;0<N;){var z=31-ir(N),Z=1<<z;w[z]=-1,N&=~Z}v!==0&&ne(u,v,h)}function i0(){return(Wt&6)===0?(st(0),!1):!0}function er(){if(cn!==null){if(oi===0)var u=cn.return;else u=cn,Li=wl=null,Vn(u),qs=null,Jr=0,u=cn;for(;u!==null;)Qm(u.alternate,u),u=u.return;cn=null}}function ms(u,h){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;v!==dc&&(u.timeoutHandle=dc,Gf(v)),v=u.cancelPendingCommit,v!==null&&(u.cancelPendingCommit=null,v()),er(),En=u,cn=v=La(u.current,null),vn=h,oi=0,Vi=null,$n=!1,Ur=P(u,h),Lo=!1,Uo=lr=Ia=Ss=Pr=Bn=0,zr=Eu=null,wu=!1,(h&8)!==0&&(h|=h&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=h;0<w;){var N=31-ir(w),z=1<<N;h|=u[N],w&=~z}return _s=h,ke(),v}function rc(u,h){dn=null,Qt.H=Hn,h===ai?(h=St(),oi=3):h===q0?(h=St(),oi=4):oi=h===ev?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Vi=h,cn===null&&(Bn=1,fh(u,ee(h,u.current)))}function zf(){var u=Lr.current;return u===null?!0:(vn&4194176)===vn?Qr===null:(vn&62914560)===vn||(vn&536870912)!==0?u===Qr:!1}function lu(){var u=Qt.H;return Qt.H=Hn,u===null?Hn:u}function Mr(){var u=Qt.A;return Qt.A=tp,u}function tr(){Bn=4,$n||(vn&4194176)!==vn&&Lr.current!==null||(Ur=!0),(Pr&134217727)===0&&(Ss&134217727)===0||En===null||ps(En,vn,lr,!1)}function Bs(u,h,v){var w=Wt;Wt|=2;var N=lu(),z=Mr();(En!==u||vn!==h)&&(Ms=null,ms(u,h)),h=!1;var Z=Bn;e:do try{if(oi!==0&&cn!==null){var re=cn,xe=Vi;switch(oi){case 8:er(),Z=6;break e;case 3:case 2:case 6:Lr.current===null&&(h=!0);var Be=oi;if(oi=0,Vi=null,fl(u,re,xe,Be),v&&Ur){Z=0;break e}break;default:Be=oi,oi=0,Vi=null,fl(u,re,xe,Be)}}Is(),Z=Bn;break}catch(rt){rc(u,rt)}while(!0);return h&&u.shellSuspendCounter++,Li=wl=null,Wt=w,Qt.H=N,Qt.A=z,cn===null&&(En=null,vn=0,ke()),Z}function Is(){for(;cn!==null;)a0(cn)}function Fs(u,h){var v=Wt;Wt|=2;var w=lu(),N=Mr();En!==u||vn!==h?(Ms=null,wi=Ma()+500,ms(u,h)):Ur=P(u,h);e:do try{if(oi!==0&&cn!==null){h=cn;var z=Vi;t:switch(oi){case 1:oi=0,Vi=null,fl(u,h,z,1);break;case 2:if(ot(z)){oi=0,Vi=null,Ah(h);break}h=function(){oi===2&&En===u&&(oi=7),dt(u)},z.then(h,h);break e;case 3:oi=7;break e;case 4:oi=5;break e;case 7:ot(z)?(oi=0,Vi=null,Ah(h)):(oi=0,Vi=null,fl(u,h,z,7));break;case 5:var Z=null;switch(cn.tag){case 26:Z=cn.memoizedState;case 5:case 27:var re=cn,xe=re.type,Be=re.pendingProps;if(Z?k0(Z):To(xe,Be)){oi=0,Vi=null;var rt=re.sibling;if(rt!==null)cn=rt;else{var xt=re.return;xt!==null?(cn=xt,Bf(xt)):cn=null}break t}}oi=0,Vi=null,fl(u,h,z,5);break;case 6:oi=0,Vi=null,fl(u,h,z,6);break;case 8:er(),Bn=6;break e;default:throw Error(a(462))}}vo();break}catch(Et){rc(u,Et)}while(!0);return Li=wl=null,Qt.H=w,Qt.A=N,Wt=v,cn!==null?0:(En=null,vn=0,ke(),Bn)}function vo(){for(;cn!==null&&!Ky();)a0(cn)}function a0(u){var h=hy(u.alternate,u,_s);u.memoizedProps=u.pendingProps,h===null?Bf(u):cn=h}function Ah(u){var h=u,v=h.alternate;switch(h.tag){case 15:case 0:h=ly(v,h,h.pendingProps,h.type,void 0,vn);break;case 11:h=ly(v,h,h.pendingProps,h.type.render,h.ref,vn);break;case 5:Vn(h);default:Qm(v,h),h=cn=So(h,_s),h=hy(v,h,_s)}u.memoizedProps=u.pendingProps,h===null?Bf(u):cn=h}function fl(u,h,v,w){Li=wl=null,Vn(h),qs=null,Jr=0;var N=h.return;try{if(iy(u,N,h,v,vn)){Bn=1,fh(u,ee(v,u.current)),cn=null;return}}catch(z){if(N!==null)throw cn=N,z;Bn=1,fh(u,ee(v,u.current)),cn=null;return}h.flags&32768?(kn||w===1?u=!0:Ur||(vn&536870912)!==0?u=!1:($n=u=!0,(w===2||w===3||w===6)&&(w=Lr.current,w!==null&&w.tag===13&&(w.flags|=16384))),ua(h,u)):Bf(h)}function Bf(u){var h=u;do{if((h.flags&32768)!==0){ua(h,$n);return}u=h.return;var v=my(h.alternate,h,_s);if(v!==null){cn=v;return}if(h=h.sibling,h!==null){cn=h;return}cn=h=u}while(h!==null);Bn===0&&(Bn=5)}function ua(u,h){do{var v=gy(u.alternate,u);if(v!==null){v.flags&=32767,cn=v;return}if(v=u.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(u=u.sibling,u!==null)){cn=u;return}cn=u=v}while(u!==null);Bn=6,cn=null}function di(u,h,v,w,N,z,Z,re,xe,Be){var rt=Qt.T,xt=ia();try{Ua(2),Qt.T=null,Un(u,h,v,w,xt,N,z,Z,re,xe,Be)}finally{Qt.T=rt,Ua(xt)}}function Un(u,h,v,w,N,z,Z,re){do fa();while(Po!==null);if((Wt&6)!==0)throw Error(a(327));var xe=u.finishedWork;if(w=u.finishedLanes,xe===null)return null;if(u.finishedWork=null,u.finishedLanes=0,xe===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Be=xe.lanes|xe.childLanes;if(Be|=vu,te(u,w,Be,z,Z,re),u===En&&(cn=En=null,vn=0),(xe.subtreeFlags&10256)===0&&(xe.flags&10256)===0||es||(es=!0,ap=Be,_c=v,If(Wh,function(){return fa(),null})),v=(xe.flags&15990)!==0,(xe.subtreeFlags&15990)!==0||v?(v=Qt.T,Qt.T=null,z=ia(),Ua(2),Z=Wt,Wt|=4,nu(u,xe),rl(xe,u),m0(u.containerInfo),u.current=xe,bh(u,xe.alternate,xe),Zy(),Wt=Z,Ua(z),Qt.T=v):u.current=xe,es?(es=!1,Po=u,bc=w):bo(u,Be),Be=u.pendingLanes,Be===0&&(Br=null),H(xe.stateNode),dt(u),h!==null)for(N=u.onRecoverableError,xe=0;xe<h.length;xe++)Be=h[xe],N(Be.value,{componentStack:Be.stack});return(bc&3)!==0&&fa(),Be=u.pendingLanes,(w&4194218)!==0&&(Be&42)!==0?u===Wa?Sc++:(Sc=0,Wa=u):Sc=0,st(0),null}function bo(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Zc(h)))}function fa(){if(Po!==null){var u=Po,h=ap;ap=0;var v=oe(bc),w=32>v?32:v;v=Qt.T;var N=ia();try{if(Ua(w),Qt.T=null,Po===null)var z=!1;else{w=_c,_c=null;var Z=Po,re=bc;if(Po=null,bc=0,(Wt&6)!==0)throw Error(a(331));var xe=Wt;if(Wt|=4,Uf(Z.current),Mh(Z,Z.current,re,w),Wt=xe,st(0,!1),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(xu,Z)}catch{}z=!0}return z}finally{Ua(N),Qt.T=v,bo(u,h)}}return!1}function Ch(u,h,v){h=ee(v,h),h=Tf(u.stateNode,h,2),u=qe(u,h,2),u!==null&&(W(u,2),dt(u))}function Dn(u,h,v){if(u.tag===3)Ch(u,u,v);else for(;h!==null;){if(h.tag===3){Ch(h,u,v);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Br===null||!Br.has(w))){u=ee(v,u),v=Kc(2),w=qe(h,v,2),w!==null&&(Af(v,w,h,u),W(w,2),dt(w));break}}h=h.return}}function Rh(u,h,v){var w=u.pingCache;if(w===null){w=u.pingCache=new On;var N=new Set;w.set(h,N)}else N=w.get(h),N===void 0&&(N=new Set,w.set(h,N));N.has(v)||(Lo=!0,N.add(v),u=Sy.bind(null,u,h,v),h.then(u,u))}function Sy(u,h,v){var w=u.pingCache;w!==null&&w.delete(h),u.pingedLanes|=u.suspendedLanes&v,u.warmLanes&=~v,En===u&&(vn&v)===v&&(Bn===4||Bn===3&&(vn&62914560)===vn&&300>Ma()-Ks?(Wt&2)===0&&ms(u,0):Ia|=v,Uo===vn&&(Uo=0)),dt(u)}function sc(u,h){h===0&&(h=I()),u=Ze(u,h),u!==null&&(W(u,h),dt(u))}function oc(u){var h=u.memoizedState,v=0;h!==null&&(v=h.retryLane),sc(u,v)}function r0(u,h){var v=0;switch(u.tag){case 13:var w=u.stateNode,N=u.memoizedState;N!==null&&(v=N.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(a(314))}w!==null&&w.delete(h),sc(u,v)}function If(u,h){return gu(u,h)}function s0(u,h,v,w){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(u){return u=u.prototype,!(!u||!u.isReactComponent)}function La(u,h){var v=u.alternate;return v===null?(v=t(u.tag,h,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=h,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&31457280,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,h=u.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v.refCleanup=u.refCleanup,v}function So(u,h){u.flags&=31457282;var v=u.alternate;return v===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=v.childLanes,u.lanes=v.lanes,u.child=v.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=v.memoizedProps,u.memoizedState=v.memoizedState,u.updateQueue=v.updateQueue,u.type=v.type,h=v.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Wr(u,h,v,w,N,z){var Z=0;if(w=u,typeof u=="function")_o(u)&&(Z=1);else if(typeof u=="string")Z=Tr&&Sa?U0(u,v,ha.current)?26:pu(u)?27:5:Tr?U0(u,v,ha.current)?26:5:Sa&&pu(u)?27:5;else e:switch(u){case uu:return Mo(v.children,N,z,h);case f0:Z=8,N|=24;break;case d0:return u=t(12,v,h,N|2),u.elementType=d0,u.lanes=z,u;case Dh:return u=t(13,v,h,N),u.elementType=Dh,u.lanes=z,u;case pl:return u=t(19,v,h,N),u.elementType=pl,u.lanes=z,u;case kf:return Nh(v,N,z,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case wy:case Vs:Z=10;break e;case hl:Z=9;break e;case fu:Z=11;break e;case Vf:Z=14;break e;case xs:Z=16,w=null;break e}Z=29,v=Error(a(130,u===null?"null":typeof u,"")),w=null}return h=t(Z,v,h,N),h.elementType=u,h.type=w,h.lanes=z,h}function Mo(u,h,v,w){return u=t(7,u,w,h),u.lanes=v,u}function Nh(u,h,v,w){u=t(22,u,w,h),u.elementType=kf,u.lanes=v;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=N._current;if(z===null)throw Error(a(456));if((N._pendingVisibility&2)===0){var Z=Ze(z,2);Z!==null&&(N._pendingVisibility|=2,Oa(Z,z,2))}},attach:function(){var z=N._current;if(z===null)throw Error(a(456));if((N._pendingVisibility&2)!==0){var Z=Ze(z,2);Z!==null&&(N._pendingVisibility&=-3,Oa(Z,z,2))}}};return u.stateNode=N,u}function dl(u,h,v){return u=t(6,u,null,h),u.lanes=v,u}function cu(u,h,v){return h=t(4,u.children!==null?u.children:[],u.key,h),h.lanes=v,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function lc(u,h,v,w,N,z,Z,re){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=dc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=V(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V(0),this.hiddenUpdates=V(null),this.identifierPrefix=w,this.onUncaughtError=N,this.onCaughtError=z,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function da(u,h,v,w,N,z,Z,re,xe,Be,rt,xt){return u=new lc(u,h,v,Z,re,xe,Be,xt),h=1,z===!0&&(h|=24),z=t(3,null,null,h),u.current=z,z.stateNode=u,h=mh(),h.refCount++,u.pooledCache=h,h.refCount++,z.memoizedState={element:w,isDehydrated:v,cache:h},Ht(z),u}function Ff(u){return u?(u=pc,u):pc}function o0(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=b(h),u=u!==null?_(u):null,u===null?null:du(u.stateNode)}function My(u,h,v,w,N,z){N=Ff(N),w.context===null?w.context=N:w.pendingContext=N,w=ze(h),w.payload={element:v},z=z===void 0?null:z,z!==null&&(w.callback=z),v=qe(u,w,h),v!==null&&(Oa(v,u,h),Ut(v,u,h))}function Ey(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<h?v:h}}function l0(u,h){Ey(u,h),(u=u.alternate)&&Ey(u,h)}var qt={},c0=ym(),ba=tie(),cc=Object.assign,u0=Symbol.for("react.element"),Eo=Symbol.for("react.transitional.element"),gs=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),wy=Symbol.for("react.provider"),hl=Symbol.for("react.consumer"),Vs=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),pl=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),kf=Symbol.for("react.offscreen"),Ty=Symbol.for("react.memo_cache_sentinel"),h0=Symbol.iterator,uc=Symbol.for("react.client.reference"),Qt=c0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oh,p0,ml=!1,gl=Array.isArray,Lh=e.rendererVersion,Hf=e.rendererPackageName,jf=e.extraDevToolsConfig,du=e.getPublicInstance,fc=e.getRootHostContext,Ay=e.getChildHostContext,xl=e.prepareForCommit,m0=e.resetAfterCommit,g0=e.createInstance,ks=e.appendInitialChild,wo=e.finalizeInitialChildren,yl=e.shouldSetTextContent,Uh=e.createTextInstance,x0=e.scheduleTimeout,Gf=e.cancelTimeout,dc=e.noTimeout,Hs=e.isPrimaryRenderer;e.warnsIfNotActing;var _a=e.supportsMutation,Er=e.supportsPersistence,Ga=e.supportsHydration,y0=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var v0=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ua=e.setCurrentUpdatePriority,ia=e.getCurrentUpdatePriority,Yr=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var vl=e.shouldAttemptEagerTransition,b0=e.detachDeletedInstance;e.requestPostPaintCallback;var Cy=e.maySuspendCommit,To=e.preloadInstance,wr=e.startSuspendingCommit,Ri=e.suspendInstance,Ph=e.waitForCommitToBeReady,nr=e.NotPendingTransition,tn=e.HostTransitionContext,si=e.resetFormInstance;e.bindToConsole;var Xi=e.supportsMicrotasks,zh=e.scheduleMicrotask,js=e.supportsTestSelectors,hc=e.findFiberRoot,Bh=e.getBoundingRect,Xf=e.getTextContent,Gs=e.isHiddenSubtree,E1=e.matchAccessibilityRole,Ni=e.setFocusIfFocusable,_0=e.setupIntersectionObserver,S0=e.appendChild,Ry=e.appendChildToContainer,Ny=e.commitTextUpdate,w1=e.commitMount,M0=e.commitUpdate,E0=e.insertBefore,w0=e.insertInContainerBefore,Xa=e.removeChild,zi=e.removeChildFromContainer,qf=e.resetTextContent,Wf=e.hideInstance,Ih=e.hideTextInstance,T0=e.unhideInstance,Ao=e.unhideTextInstance,Fh=e.clearContainer,A0=e.cloneInstance,Vh=e.createContainerChildSet,C0=e.appendChildToContainerChildSet,Dy=e.finalizeContainerChildren,R0=e.replaceContainerChildren,N0=e.cloneHiddenInstance,D0=e.cloneHiddenTextInstance,kh=e.isSuspenseInstancePending,Yf=e.isSuspenseInstanceFallback,Oy=e.getSuspenseInstanceFallbackErrorDetails,T1=e.registerSuspenseInstanceRetry,Ly=e.canHydrateFormStateMarker,Uy=e.isFormStateMarkerMatching,O0=e.getNextHydratableSibling,Hh=e.getFirstHydratableChild,Py=e.getFirstHydratableChildWithinContainer,zy=e.getFirstHydratableChildWithinSuspenseInstance,By=e.canHydrateInstance,Iy=e.canHydrateTextInstance,Fy=e.canHydrateSuspenseInstance,A1=e.hydrateInstance,Vy=e.hydrateTextInstance,hu=e.hydrateSuspenseInstance,ky=e.getNextHydratableInstanceAfterSuspenseInstance,jh=e.commitHydratedContainer,Gh=e.commitHydratedSuspenseInstance,Hy=e.clearSuspenseBoundary,L0=e.clearSuspenseBoundaryFromContainer,jy=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Gy=e.validateHydratableInstance,Xy=e.validateHydratableTextInstance,Tr=e.supportsResources,U0=e.isHostHoistableType,Xh=e.getHoistableRoot,qh=e.getResource,P0=e.acquireResource,z0=e.releaseResource,B0=e.hydrateHoistable,I0=e.mountHoistable,F0=e.unmountHoistable,C1=e.createHoistableInstance,V0=e.prepareToCommitHoistables,qy=e.mayResourceSuspendCommit,k0=e.preloadResource,H0=e.suspendResource,Sa=e.supportsSingletons,j0=e.resolveSingletonInstance,R1=e.clearSingleton,N1=e.acquireSingletonInstance,Wy=e.releaseSingletonInstance,pu=e.isHostSingletonType,Kf=[],Co=-1,pc={},ir=Math.clz32?Math.clz32:D,Zf=Math.log,Yy=Math.LN2,mu=128,Jf=4194304,gu=ba.unstable_scheduleCallback,Qf=ba.unstable_cancelCallback,Ky=ba.unstable_shouldYield,Zy=ba.unstable_requestPaint,Ma=ba.unstable_now,G0=ba.unstable_ImmediatePriority,Jy=ba.unstable_UserBlockingPriority,Wh=ba.unstable_NormalPriority,Yh=ba.unstable_IdlePriority,Qy=ba.log,X0=ba.unstable_setDisableYieldValue,xu=null,ar=null,Ar=typeof Object.is=="function"?Object.is:G,Kh=new WeakMap,vi=[],Di=0,$f=null,ed=0,Cr=[],Rr=0,ys=null,Xs=1,Kr="",ha=E(null),td=E(null),vs=E(null),yu=E(null),Pa=null,Ea=null,kn=!1,Nr=null,Zr=!1,nd=Error(a(519)),Dr=[],bl=0,vu=0,bu=null,mc=null,id=!1,ad=!1,bs=!1,_l=0,rd=null,Zh=0,rr=0,Sl=null,Ro=!1,_u=!1,sd=Object.prototype.hasOwnProperty,ai=Error(a(460)),q0=Error(a(474)),Jh={then:function(){}},gc=null,qs=null,Jr=0,Ml=ae(!0),W0=ae(!1),Ws=E(null),Or=E(0),Lr=E(null),Qr=null,qi=E(0),Ys=0,dn=null,qn=null,Bi=null,$r=!1,bi=!1,No=!1,od=0,Oi=0,Su=null,$y=0,Qh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Hn={readContext:va,use:Ee,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at};Hn.useCacheRefresh=at,Hn.useMemoCache=at,Hn.useHostTransitionStatus=at,Hn.useFormState=at,Hn.useActionState=at,Hn.useOptimistic=at;var Wi={readContext:va,use:Ee,useCallback:function(u,h){return ii().memoizedState=[u,h===void 0?null:h],u},useContext:va,useEffect:Pm,useImperativeHandle:function(u,h,v){v=v!=null?v.concat([u]):null,qr(4194308,4,_f.bind(null,h,u),v)},useLayoutEffect:function(u,h){return qr(4194308,4,u,h)},useInsertionEffect:function(u,h){qr(4,2,u,h)},useMemo:function(u,h){var v=ii();h=h===void 0?null:h;var w=u();if(No){q(!0);try{u()}finally{q(!1)}}return v.memoizedState=[w,h],w},useReducer:function(u,h,v){var w=ii();if(v!==void 0){var N=v(h);if(No){q(!0);try{v(h)}finally{q(!1)}}}else N=h;return w.memoizedState=w.baseState=N,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:N},w.queue=u,u=u.dispatch=Jo.bind(null,dn,u),[w.memoizedState,u]},useRef:function(u){var h=ii();return u={current:u},h.memoizedState=u},useState:function(u){u=An(u);var h=u.queue,v=ch.bind(null,dn,h);return h.dispatch=v,[u.memoizedState,v]},useDebugValue:Sf,useDeferredValue:function(u,h){var v=ii();return Zo(v,u,h)},useTransition:function(){var u=An(!1);return u=oh.bind(null,dn,u.queue,!0,!1),ii().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,v){var w=dn,N=ii();if(kn){if(v===void 0)throw Error(a(407));v=v()}else{if(v=h(),En===null)throw Error(a(349));(vn&60)!==0||Tt(w,h,v)}N.memoizedState=v;var z={value:v,getSnapshot:h};return N.queue=z,Pm(Pt.bind(null,w,z,u),[u]),w.flags|=2048,Ci(9,Gt.bind(null,w,z,v,h),{destroy:void 0},null),v},useId:function(){var u=ii(),h=En.identifierPrefix;if(kn){var v=Kr,w=Xs;v=(w&~(1<<32-ir(w)-1)).toString(32)+v,h=":"+h+"R"+v,v=od++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=$y++,h=":"+h+"r"+v.toString(32)+":";return u.memoizedState=h},useCacheRefresh:function(){return ii().memoizedState=Mf.bind(null,dn)}};Wi.useMemoCache=Me,Wi.useHostTransitionStatus=Ql,Wi.useFormState=Os,Wi.useActionState=Os,Wi.useOptimistic=function(u){var h=ii();h.memoizedState=h.baseState=u;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=uh.bind(null,dn,!0,v),v.dispatch=h,[u,h]};var za={readContext:va,use:Ee,useCallback:sh,useContext:va,useEffect:bf,useImperativeHandle:Ls,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:Jl,useReducer:$e,useRef:ds,useState:function(){return $e(he)},useDebugValue:Sf,useDeferredValue:function(u,h){var v=X();return zm(v,qn.memoizedState,u,h)},useTransition:function(){var u=$e(he)[0],h=X().memoizedState;return[typeof u=="boolean"?u:de(u),h]},useSyncExternalStore:Ke,useId:Us};za.useCacheRefresh=lh,za.useMemoCache=Me,za.useHostTransitionStatus=Ql,za.useFormState=ci,za.useActionState=ci,za.useOptimistic=function(u,h){var v=X();return Mn(v,qn,u,h)};var El={readContext:va,use:Ee,useCallback:sh,useContext:va,useEffect:bf,useImperativeHandle:Ls,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:Jl,useReducer:mt,useRef:ds,useState:function(){return mt(he)},useDebugValue:Sf,useDeferredValue:function(u,h){var v=X();return qn===null?Zo(v,u,h):zm(v,qn.memoizedState,u,h)},useTransition:function(){var u=mt(he)[0],h=X().memoizedState;return[typeof u=="boolean"?u:de(u),h]},useSyncExternalStore:Ke,useId:Us};El.useCacheRefresh=lh,El.useMemoCache=Me,El.useHostTransitionStatus=Ql,El.useFormState=na,El.useActionState=na,El.useOptimistic=function(u,h){var v=X();return qn!==null?Mn(v,qn,u,h):(v.baseState=u,[u,v.queue.dispatch])};var $h={isMounted:function(u){return(u=u._reactInternals)?g(u)===u:!1},enqueueSetState:function(u,h,v){u=u._reactInternals;var w=ja(),N=ze(w);N.payload=h,v!=null&&(N.callback=v),h=qe(u,N,w),h!==null&&(Oa(h,u,w),Ut(h,u,w))},enqueueReplaceState:function(u,h,v){u=u._reactInternals;var w=ja(),N=ze(w);N.tag=1,N.payload=h,v!=null&&(N.callback=v),h=qe(u,N,w),h!==null&&(Oa(h,u,w),Ut(h,u,w))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var v=ja(),w=ze(v);w.tag=2,h!=null&&(w.callback=h),h=qe(u,w,v),h!==null&&(Oa(h,u,v),Ut(h,u,v))}},Y0=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},ev=Error(a(461)),Ii=!1,Ba={dehydrated:null,treeContext:null,retryLane:0},sr=E(null),wl=null,Li=null,tv=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(v,w){u.push(w)}};this.abort=function(){h.aborted=!0,u.forEach(function(v){return v()})}},Do=ba.unstable_scheduleCallback,xc=ba.unstable_NormalPriority,Jn={$$typeof:Vs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ep=Qt.S;Qt.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&Ne(u,h),ep!==null&&ep(u,h)};var Oo=E(null),aa=!1,Ei=!1,Tl=!1,Mu=typeof WeakSet=="function"?WeakSet:Set,Ui=null,yc=!1,Fi=null,or=!1,qa=null,vc=8192,tp={getCacheForType:function(u){var h=va(Jn),v=h.data.get(u);return v===void 0&&(v=u(),h.data.set(u,v)),v}},ld=0,np=1,ip=2,zn=3,Qn=4;if(typeof Symbol=="function"&&Symbol.for){var hn=Symbol.for;ld=hn("selector.component"),np=hn("selector.has_pseudo_class"),ip=hn("selector.role"),zn=hn("selector.test_id"),Qn=hn("selector.text")}var On=typeof WeakMap=="function"?WeakMap:Map,Wt=0,En=null,cn=null,vn=0,oi=0,Vi=null,$n=!1,Ur=!1,Lo=!1,_s=0,Bn=0,Pr=0,Ss=0,Ia=0,lr=0,Uo=0,Eu=null,zr=null,wu=!1,Ks=0,wi=1/0,Ms=null,Br=null,es=!1,Po=null,bc=0,ap=0,_c=null,Sc=0,Wa=null;return qt.attemptContinuousHydration=function(u){if(u.tag===13){var h=Ze(u,67108864);h!==null&&Oa(h,u,67108864),l0(u,67108864)}},qt.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var h=ja(),v=Ze(u,h);v!==null&&Oa(v,u,h),l0(u,h)}},qt.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=U(u.pendingLanes);if(h!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;h;){var v=1<<31-ir(h);u.entanglements[1]|=v,h&=~v}dt(u),(Wt&6)===0&&(wi=Ma()+500,st(0))}}break;case 13:h=Ze(u,2),h!==null&&Oa(h,u,2),i0(),l0(u,2)}},qt.batchedUpdates=function(u,h){return u(h)},qt.createComponentSelector=function(u){return{$$typeof:ld,value:u}},qt.createContainer=function(u,h,v,w,N,z,Z,re,xe,Be){return da(u,h,!1,null,v,w,z,Z,re,xe,Be,null)},qt.createHasPseudoClassSelector=function(u){return{$$typeof:np,value:u}},qt.createHydrationContainer=function(u,h,v,w,N,z,Z,re,xe,Be,rt,xt,Et){return u=da(v,w,!0,u,N,z,re,xe,Be,rt,xt,Et),u.context=Ff(null),v=u.current,w=ja(),N=ze(w),N.callback=h??null,qe(v,N,w),u.current.lanes=w,W(u,w),dt(u),u},qt.createPortal=function(u,h,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:w==null?null:""+w,children:u,containerInfo:h,implementation:v}},qt.createRoleSelector=function(u){return{$$typeof:ip,value:u}},qt.createTestNameSelector=function(u){return{$$typeof:zn,value:u}},qt.createTextSelector=function(u){return{$$typeof:Qn,value:u}},qt.defaultOnCaughtError=function(u){console.error(u)},qt.defaultOnRecoverableError=function(u){Y0(u)},qt.defaultOnUncaughtError=function(u){Y0(u)},qt.deferredUpdates=function(u){var h=Qt.T,v=ia();try{return Ua(32),Qt.T=null,u()}finally{Ua(v),Qt.T=h}},qt.discreteUpdates=function(u,h,v,w,N){var z=Qt.T,Z=ia();try{return Ua(2),Qt.T=null,u(h,v,w,N)}finally{Ua(Z),Qt.T=z,Wt===0&&(wi=Ma()+500)}},qt.findAllNodes=Ha,qt.findBoundingRects=function(u,h){if(!js)throw Error(a(363));h=Ha(u,h),u=[];for(var v=0;v<h.length;v++)u.push(Bh(h[v]));for(h=u.length-1;0<h;h--){v=u[h];for(var w=v.x,N=w+v.width,z=v.y,Z=z+v.height,re=h-1;0<=re;re--)if(h!==re){var xe=u[re],Be=xe.x,rt=Be+xe.width,xt=xe.y,Et=xt+xe.height;if(w>=Be&&z>=xt&&N<=rt&&Z<=Et){u.splice(h,1);break}else if(w!==Be||v.width!==xe.width||Et<z||xt>Z){if(!(z!==xt||v.height!==xe.height||rt<w||Be>N)){Be>w&&(xe.width+=Be-w,xe.x=w),rt<N&&(xe.width=N-Be),u.splice(h,1);break}}else{xt>z&&(xe.height+=xt-z,xe.y=z),Et<Z&&(xe.height=Z-xt),u.splice(h,1);break}}}return u},qt.findHostInstance=o0,qt.findHostInstanceWithNoPortals=function(u){return u=b(u),u=u!==null?T(u):null,u===null?null:du(u.stateNode)},qt.findHostInstanceWithWarning=function(u){return o0(u)},qt.flushPassiveEffects=fa,qt.flushSyncFromReconciler=function(u){var h=Wt;Wt|=1;var v=Qt.T,w=ia();try{if(Ua(2),Qt.T=null,u)return u()}finally{Ua(w),Qt.T=v,Wt=h,(Wt&6)===0&&st(0)}},qt.flushSyncWork=i0,qt.focusWithin=function(u,h){if(!js)throw Error(a(363));for(u=wh(u),h=by(u,h),h=Array.from(h),u=0;u<h.length;){var v=h[u++],w=v.tag;if(!Gs(v)){if((w===5||w===26||w===27)&&Ni(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},qt.getFindAllNodesFailureDescription=function(u,h){if(!js)throw Error(a(363));var v=0,w=[];u=[wh(u),0];for(var N=0;N<u.length;){var z=u[N++],Z=z.tag,re=u[N++],xe=h[re];if((Z!==5&&Z!==26&&Z!==27||!Gs(z))&&(ou(z,xe)&&(w.push(ul(xe)),re++,re>v&&(v=re)),re<h.length))for(z=z.child;z!==null;)u.push(z,re),z=z.sibling}if(v<h.length){for(u=[];v<h.length;v++)u.push(ul(h[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},qt.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return du(u.child.stateNode);default:return u.child.stateNode}},qt.injectIntoDevTools=function(){var u={bundleType:0,version:Lh,rendererPackageName:Hf,currentDispatcherRef:Qt,findFiberByHostInstance:y0,reconcilerVersion:"19.0.0"};if(jf!==null&&(u.rendererConfig=jf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)u=!0;else{try{xu=h.inject(u),ar=h}catch{}u=!!h.checkDCE}}return u},qt.isAlreadyRendering=function(){return!1},qt.observeVisibleRects=function(u,h,v,w){if(!js)throw Error(a(363));u=Ha(u,h);var N=_0(u,v,w).disconnect;return{disconnect:function(){N()}}},qt.shouldError=function(){return null},qt.shouldSuspend=function(){return!1},qt.startHostTransition=function(u,h,v,w){if(u.tag!==5)throw Error(a(476));var N=Bm(u).queue;oh(u,N,h,nr,v===null?i:function(){var z=Bm(u).next.queue;return Qo(u,z,{},ja()),v(w)})},qt.updateContainer=function(u,h,v,w){var N=h.current,z=ja();return My(N,z,u,h,v,w),z},qt.updateContainerSync=function(u,h,v,w){return h.tag===0&&fa(),My(h.current,2,u,h,v,w),2},qt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(FE)),FE.exports}var zD;function iie(){return zD||(zD=1,IE.exports=nie()),IE.exports}var aie=iie();const rie=gS(aie);var HE={exports:{}},jE={};var BD;function sie(){return BD||(BD=1,(function(n){function e(H,q){var G=H.length;H.push(q);e:for(;0<G;){var ee=G-1>>>1,ue=H[ee];if(0<a(ue,q))H[ee]=q,H[G]=ue,G=ee;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],G=H.pop();if(G!==q){H[0]=G;e:for(var ee=0,ue=H.length,K=ue>>>1;ee<K;){var le=2*(ee+1)-1,_e=H[le],Se=le+1,je=H[Se];if(0>a(_e,G))Se<ue&&0>a(je,_e)?(H[ee]=je,H[Se]=G,ee=Se):(H[ee]=_e,H[le]=G,ee=le);else if(Se<ue&&0>a(je,G))H[ee]=je,H[Se]=G,ee=Se;else break e}}return q}function a(H,q){var G=H.sortIndex-q.sortIndex;return G!==0?G:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function U(H){if(T=!1,D(H),!_)if(t(f)!==null)_=!0,ie();else{var q=t(d);q!==null&&oe(U,q.startTime-H)}}var F=!1,P=-1,L=5,B=-1;function I(){return!(n.unstable_now()-B<L)}function V(){if(F){var H=n.unstable_now();B=H;var q=!0;try{e:{_=!1,T&&(T=!1,S(P),P=-1),b=!0;var G=y;try{t:{for(D(H),g=t(f);g!==null&&!(g.expirationTime>H&&I());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var ue=ee(g.expirationTime<=H);if(H=n.unstable_now(),typeof ue=="function"){g.callback=ue,D(H),q=!0;break t}g===t(f)&&i(f),D(H)}else i(f);g=t(f)}if(g!==null)q=!0;else{var K=t(d);K!==null&&oe(U,K.startTime-H),q=!1}}break e}finally{g=null,y=G,b=!1}q=void 0}}finally{q?W():F=!1}}}var W;if(typeof R=="function")W=function(){R(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=V,W=function(){ne.postMessage(null)}}else W=function(){E(V,0)};function ie(){F||(F=!0,W())}function oe(H,q){P=E(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,ie())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var G=y;y=q;try{return H()}finally{y=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=y;y=H;try{return q()}finally{y=G}},n.unstable_scheduleCallback=function(H,q,G){var ee=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,H){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=G+ue,H={id:m++,callback:q,priorityLevel:H,startTime:G,expirationTime:ue,sortIndex:-1},G>ee?(H.sortIndex=G,e(d,H),t(f)===null&&H===t(d)&&(T?(S(P),P=-1):T=!0,oe(U,G-ee))):(H.sortIndex=ue,e(f,H),_||b||(_=!0,ie())),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var q=y;return function(){var G=y;y=q;try{return H.apply(this,arguments)}finally{y=G}}}})(jE)),jE}var ID;function oie(){return ID||(ID=1,HE.exports=sie()),HE.exports}var FD=oie();function hA(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=hA(i,e,t);if(a)return a;i=e?null:i.sibling}}function b5(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const pA=b5(O.createContext(null));let _5=class extends O.Component{render(){return O.createElement(pA.Provider,{value:this._reactInternals},this.props.children)}};function S5(){const n=O.useContext(pA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=O.useId();return O.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=hA(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const lie=Symbol.for("react.context"),cie=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===lie;function uie(){const n=S5(),[e]=O.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;cie(i)&&i!==pA&&!e.has(i)&&e.set(i,O.use(b5(i))),t=t.return}return e}function fie(){const n=uie();return O.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>O.createElement(e,null,O.createElement(t.Provider,{...i,value:n.get(t)})),e=>O.createElement(_5,{...e})),[n])}function M5(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const E5=n=>n&&n.isOrthographicCamera,die=n=>n&&n.hasOwnProperty("current"),hie=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Kx=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?O.useLayoutEffect:O.useEffect;function w5(n){const e=O.useRef(n);return Kx(()=>void(e.current=n),[n]),e}function pie(){const n=S5(),e=fie();return O.useMemo(()=>({children:t})=>{const a=!!hA(n,!0,r=>r.type===O.StrictMode)?O.StrictMode:O.Fragment;return A.jsx(a,{children:A.jsx(e,{children:t})})},[n,e])}function mie({set:n}){return Kx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const gie=(n=>(n=class extends O.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function T5(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function zp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const ki={obj:n=>n===Object(n)&&!ki.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ki.str(n)||ki.num(n)||ki.boo(n))return n===e;const r=ki.obj(n);if(r&&i==="reference")return n===e;const o=ki.arr(n);if(o&&t==="reference")return n===e;if((o||r)&&n===e)return!0;let c;for(c in n)if(!(c in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(c in a?e:n)if(!ki.equ(n[c],e[c],{strict:a,objects:"reference"}))return!1}else for(c in a?e:n)if(n[c]!==e[c])return!1;if(ki.und(c)){if(o&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function xie(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const A5=["children","key","ref"];function yie(n){const e={};for(const t in n)A5.includes(t)||(e[t]=n[t]);return e}function tS(n,e,t,i){const a=n;let r=a?.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:yie(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function wx(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const r=i.slice(i.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const VD=/-\d+$/;function nS(n,e){if(ki.str(e.props.attach)){if(VD.test(e.props.attach)){const a=e.props.attach.replace(VD,""),{root:r,key:o}=wx(n.object,a);Array.isArray(r[o])||(r[o]=[])}const{root:t,key:i}=wx(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else ki.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function iS(n,e){if(ki.str(e.props.attach)){const{root:t,key:i}=wx(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const eT=[...A5,"args","dispose","attach","object","onUpdate","dispose"],kD=new Map;function vie(n){let e=kD.get(n.constructor);try{e||(e=new n.constructor,kD.set(n.constructor,e))}catch{}return e}function bie(n,e){const t={};for(const i in e)if(!eT.includes(i)&&!ki.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(eT.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:r}=wx(n.object,i);if(a.constructor&&a.constructor.length===0){const o=vie(a);ki.und(o)||(t[r]=o[r])}else t[r]=0}return t}const _ie=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Sie=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Wu(n,e){var t;const i=n.__r3f,a=i&&M5(i).getState(),r=i?.eventCount;for(const c in e){let f=e[c];if(eT.includes(c))continue;if(i&&Sie.test(c)){typeof f=="function"?i.handlers[c]=f:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(f===void 0)continue;let{root:d,key:m,target:g}=wx(n,c);if(g===void 0&&(typeof d!="object"||d===null))throw Error(`R3F: Cannot set "${c}". Ensure it is an object before setting "${m}".`);if(g instanceof dm&&f instanceof dm)g.mask=f.mask;else if(g instanceof Nt&&hie(f))g.set(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&f!=null&&f.constructor&&g.constructor===f.constructor)g.copy(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(f))typeof g.fromArray=="function"?g.fromArray(f):g.set(...f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof f=="number")typeof g.setScalar=="function"?g.setScalar(f):g.set(f);else{var o;d[m]=f,a&&!a.linear&&_ie.includes(m)&&(o=d[m])!=null&&o.isTexture&&d[m].format===yr&&d[m].type===co&&(d[m].colorSpace=mr)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const c=i.object,f=a.internal.interaction.indexOf(c);f>-1&&a.internal.interaction.splice(f,1),i.eventCount&&c.raycast!==null&&a.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Om(i),n}function Om(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Mie(n,e){n.manual||(E5(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const is=n=>n?.isObject3D;function wb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function C5(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function Eie(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{C5(t.capturedMap,e,i,a)})}function wie(n){function e(f){const{internal:d}=n.getState(),m=f.offsetX-d.initialClick[0],g=f.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(f){return f.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(f,d){const m=n.getState(),g=new Set,y=[],b=d?d(m.internal.interaction):m.internal.interaction;for(let S=0;S<b.length;S++){const R=zp(b[S]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function _(S){const R=zp(S);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(f,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(S,!0):[]}let T=b.flatMap(_).sort((S,R)=>{const D=zp(S.object),U=zp(R.object);return!D||!U?S.distance-R.distance:U.events.priority-D.events.priority||S.distance-R.distance}).filter(S=>{const R=wb(S);return g.has(R)?!1:(g.add(R),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const S of T){let R=S.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&y.push({...S,eventObject:R}),R=R.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let S of m.internal.capturedMap.get(f.pointerId).values())g.has(wb(S.intersection))||y.push(S.intersection);return y}function a(f,d,m,g){if(f.length){const y={stopped:!1};for(const b of f){let _=zp(b.object);if(_||b.object.traverseAncestors(T=>{const E=zp(T);if(E)return _=E,!1}),_){const{raycaster:T,pointer:E,camera:S,internal:R}=_,D=new $(E.x,E.y,0).unproject(S),U=I=>{var V,W;return(V=(W=R.capturedMap.get(I))==null?void 0:W.has(b.eventObject))!=null?V:!1},F=I=>{const V={intersection:b,target:d.target};R.capturedMap.has(I)?R.capturedMap.get(I).set(b.eventObject,V):R.capturedMap.set(I,new Map([[b.eventObject,V]])),d.target.setPointerCapture(I)},P=I=>{const V=R.capturedMap.get(I);V&&C5(R.capturedMap,b.eventObject,V,I)};let L={};for(let I in d){let V=d[I];typeof V!="function"&&(L[I]=V)}let B={...b,...L,pointer:E,intersections:f,stopped:y.stopped,delta:m,unprojectedPoint:D,ray:T.ray,camera:S,stopPropagation(){const I="pointerId"in d&&R.capturedMap.get(d.pointerId);if((!I||I.has(b.eventObject))&&(B.stopped=y.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(V=>V.eventObject===b.eventObject))){const V=f.slice(0,f.indexOf(b));r([...V,b])}},target:{hasPointerCapture:U,setPointerCapture:F,releasePointerCapture:P},currentTarget:{hasPointerCapture:U,setPointerCapture:F,releasePointerCapture:P},nativeEvent:d};if(g(B),y.stopped===!0)break}}}return f}function r(f){const{internal:d}=n.getState();for(const m of d.hovered.values())if(!f.length||!f.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(d.hovered.delete(wb(m)),y!=null&&y.eventCount){const b=y.handlers,_={...m,intersections:f};b.onPointerOut==null||b.onPointerOut(_),b.onPointerLeave==null||b.onPointerLeave(_)}}}function o(f,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function c(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return d=>{const{internal:m}=n.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const b=f==="onPointerMove",_=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",E=i(m,b?t:void 0),S=_?e(m):0;f==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=E.map(D=>D.eventObject)),_&&!E.length&&S<=2&&(o(m,y.interaction),g&&g(m)),b&&r(E);function R(D){const U=D.eventObject,F=U.__r3f;if(!(F!=null&&F.eventCount))return;const P=F.handlers;if(b){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=wb(D),B=y.hovered.get(L);B?B.stopped&&D.stopPropagation():(y.hovered.set(L,D),P.onPointerOver==null||P.onPointerOver(D),P.onPointerEnter==null||P.onPointerEnter(D))}P.onPointerMove==null||P.onPointerMove(D)}else{const L=P[f];L?(!_||y.initialHits.includes(U))&&(o(m,y.interaction.filter(B=>!y.initialHits.includes(B))),L(D)):_&&y.initialHits.includes(U)&&o(m,y.interaction.filter(B=>!y.initialHits.includes(B)))}}a(E,m,S,R)}}return{handlePointer:c}}const HD=n=>!!(n!=null&&n.render),R5=O.createContext(null),Tie=(n,e)=>{const t=$ne((c,f)=>{const d=new $,m=new $,g=new $;function y(S=f().camera,R=m,D=f().size){const{width:U,height:F,top:P,left:L}=D,B=U/F;R.isVector3?g.copy(R):g.set(...R);const I=S.getWorldPosition(d).distanceTo(g);if(E5(S))return{width:U/S.zoom,height:F/S.zoom,top:P,left:L,factor:1,distance:I,aspect:B};{const V=S.fov*Math.PI/180,W=2*Math.tan(V/2)*I,te=W*(U/F);return{width:te,height:W,top:P,left:L,factor:U/te,distance:I,aspect:B}}}let b;const _=S=>c(R=>({performance:{...R.performance,current:S}})),T=new Xe;return{set:c,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(f(),S),advance:(S,R)=>e(S,R,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new lA,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=f();b&&clearTimeout(b),S.performance.current!==S.performance.min&&_(S.performance.min),b=setTimeout(()=>_(f().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>c(R=>({...R,events:{...R.events,...S}})),setSize:(S,R,D=0,U=0)=>{const F=f().camera,P={width:S,height:R,top:D,left:U};c(L=>({size:P,viewport:{...L.viewport,...y(F,m,P)}}))},setDpr:S=>c(R=>{const D=T5(S);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(S="always")=>{const R=f().clock;R.stop(),R.elapsedTime=0,S!=="never"&&(R.start(),R.elapsedTime=0),c(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:O.createRef(),active:!1,frames:0,priority:0,subscribe:(S,R,D)=>{const U=f().internal;return U.priority=U.priority+(R>0?1:0),U.subscribers.push({ref:S,priority:R,store:D}),U.subscribers=U.subscribers.sort((F,P)=>F.priority-P.priority),()=>{const F=f().internal;F!=null&&F.subscribers&&(F.priority=F.priority-(R>0?1:0),F.subscribers=F.subscribers.filter(P=>P.ref!==S))}}}}}),i=t.getState();let a=i.size,r=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:c,size:f,viewport:d,gl:m,set:g}=t.getState();if(f.width!==a.width||f.height!==a.height||d.dpr!==r){a=f,r=d.dpr,Mie(c,f),d.dpr>0&&m.setPixelRatio(d.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,y)}c!==o&&(o=c,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>n(c)),t};function Aie(){const n=O.useContext(R5);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function mA(n,e=0){const t=Aie(),i=t.getState().internal.subscribe,a=w5(n);return Kx(()=>i(a,e,t),[e,i,t]),null}function Cie(n){const e=rie(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:O.version}),e}const N5=0,gm={},Rie=/^three(?=[A-Z])/,p1=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Nie=0;const Die=n=>typeof n=="function";function Oie(n){if(Die(n)){const e=`${Nie++}`;return gm[e]=n,e}else Object.assign(gm,n)}function D5(n,e){const t=p1(n),i=gm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Lie(n,e,t){var i;return n=p1(n)in gm?n:n.replace(Rie,""),D5(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,tS(e.object,t,n,e)}function Uie(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?iS(n.parent,n):is(n.object)&&(n.object.visible=!1),n.isHidden=!0,Om(n)}}function O5(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?nS(n.parent,n):is(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Om(n)}}function gA(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,r;const o=gm[p1(e.type)];e.object=(a=e.props.object)!=null?a:new o(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Wu(e.object,e.props),e.props.attach)nS(n,e);else if(is(e.object)&&is(n.object)){const o=n.object.children.indexOf(t?.object);if(t&&o!==-1){const c=n.object.children.indexOf(e.object);if(c!==-1){n.object.children.splice(c,1);const f=c<o?o-1:o;n.object.children.splice(f,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)gA(e,o);Om(e)}}function GE(n,e){e&&(e.parent=n,n.children.push(e),gA(n,e))}function jD(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),gA(n,e,t)}function L5(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():FD.unstable_scheduleCallback(FD.unstable_IdlePriority,e)}}function tT(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?iS(n,e):is(e.object)&&is(n.object)&&(n.object.remove(e.object),Eie(M5(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const o=e.children[r];tT(e,o,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&L5(e.object),t===void 0&&Om(e)}function Pie(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const qb=[];function zie(){for(const[t]of qb){const i=t.parent;if(i){t.props.attach?iS(i,t):is(t.object)&&is(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?iS(t,a):is(a.object)&&is(t.object)&&t.object.remove(a.object)}t.isHidden&&O5(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&L5(t.object)}for(const[t,i,a]of qb){t.props=i;const r=t.parent;if(r){var n,e;const o=gm[p1(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Pie(a,t.object),Wu(t.object,t.props),t.props.attach?nS(r,t):is(t.object)&&is(r.object)&&r.object.add(t.object);for(const c of t.children)c.props.attach?nS(t,c):is(c.object)&&is(t.object)&&t.object.add(c.object);Om(t)}}qb.length=0}const XE=()=>{},GD={};let Tb=N5;const Bie=0,Iie=4,nT=Cie({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Lie,removeChild:tT,appendChild:GE,appendInitialChild:GE,insertBefore:jD,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||GE(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||tT(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||jD(i,e,t)},getRootHostContext:()=>GD,getChildHostContext:()=>GD,commitUpdate(n,e,t,i,a){var r,o,c;D5(e,i);let f=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((o=t.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(f=!0),f)qb.push([n,{...i},a]);else{const m=bie(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Wu(n.object,m))}(a.sibling===null||(a.flags&Iie)===Bie)&&zie()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>tS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Uie,unhideInstance:O5,createTextInstance:XE,hideTextInstance:XE,unhideTextInstance:XE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:O.createContext(null),setCurrentUpdatePriority(n){Tb=n},getCurrentUpdatePriority(){return Tb},resolveUpdatePriority(){var n;if(Tb!==N5)return Tb;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Hb.ContinuousEventPriority;default:return Hb.DefaultEventPriority}},resetFormInstance(){}}),Kd=new Map,Bp={objects:"shallow",strict:!1};function Fie(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Vie(n){const e=Kd.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=i||Tie(rT,qD),o=t||nT.createContainer(r,Hb.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||Kd.set(n,{fiber:o,store:r});let c,f,d=!1,m=null;return{async configure(g={}){let y;m=new Promise(K=>y=K);let{gl:b,size:_,scene:T,events:E,onCreated:S,shadows:R=!1,linear:D=!1,flat:U=!1,legacy:F=!1,orthographic:P=!1,frameloop:L="always",dpr:B=[1,2],performance:I,raycaster:V,camera:W,onPointerMissed:te}=g,ne=r.getState(),ie=ne.gl;if(!ne.gl){const K={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof b=="function"?await b(K):b;HD(le)?ie=le:ie=new v5({...K,...b}),ne.set({gl:ie})}let oe=ne.raycaster;oe||ne.set({raycaster:oe=new f5});const{params:H,...q}=V||{};if(ki.equ(q,oe,Bp)||Wu(oe,{...q}),ki.equ(H,oe.params,Bp)||Wu(oe,{params:{...oe.params,...H}}),!ne.camera||ne.camera===f&&!ki.equ(f,W,Bp)){f=W;const K=W?.isCamera,le=K?W:P?new Yx(0,0,0,0,.1,1e3):new Va(75,0,.1,1e3);K||(le.position.z=5,W&&(Wu(le,W),le.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(le.manual=!0,le.updateProjectionMatrix())),!ne.camera&&!(W!=null&&W.rotation)&&le.lookAt(0,0,0)),ne.set({camera:le}),oe.camera=le}if(!ne.scene){let K;T!=null&&T.isScene?(K=T,tS(K,r,"",{})):(K=new H2,tS(K,r,"",{}),T&&Wu(K,T)),ne.set({scene:K})}E&&!ne.events.handlers&&ne.set({events:E(r)});const G=Fie(n,_);if(ki.equ(G,ne.size,Bp)||ne.setSize(G.width,G.height,G.top,G.left),B&&ne.viewport.dpr!==T5(B)&&ne.setDpr(B),ne.frameloop!==L&&ne.setFrameloop(L),ne.onPointerMissed||ne.set({onPointerMissed:te}),I&&!ki.equ(I,ne.performance,Bp)&&ne.set(K=>({performance:{...K.performance,...I}})),!ne.xr){var ee;const K=(Se,je)=>{const ve=r.getState();ve.frameloop!=="never"&&qD(Se,!0,ve,je)},le=()=>{const Se=r.getState();Se.gl.xr.enabled=Se.gl.xr.isPresenting,Se.gl.xr.setAnimationLoop(Se.gl.xr.isPresenting?K:null),Se.gl.xr.isPresenting||rT(Se)},_e={connect(){const Se=r.getState().gl;Se.xr.addEventListener("sessionstart",le),Se.xr.addEventListener("sessionend",le)},disconnect(){const Se=r.getState().gl;Se.xr.removeEventListener("sessionstart",le),Se.xr.removeEventListener("sessionend",le)}};typeof((ee=ie.xr)==null?void 0:ee.addEventListener)=="function"&&_e.connect(),ne.set({xr:_e})}if(ie.shadowMap){const K=ie.shadowMap.enabled,le=ie.shadowMap.type;if(ie.shadowMap.enabled=!!R,ki.boo(R))ie.shadowMap.type=Fg;else if(ki.str(R)){var ue;const _e={basic:_4,percentage:OS,soft:Fg,variance:ko};ie.shadowMap.type=(ue=_e[R])!=null?ue:Fg}else ki.obj(R)&&Object.assign(ie.shadowMap,R);(K!==ie.shadowMap.enabled||le!==ie.shadowMap.type)&&(ie.shadowMap.needsUpdate=!0)}return Xn.enabled=!F,d||(ie.outputColorSpace=D?rf:mr,ie.toneMapping=U?Hl:C2),ne.legacy!==F&&ne.set(()=>({legacy:F})),ne.linear!==D&&ne.set(()=>({linear:D})),ne.flat!==U&&ne.set(()=>({flat:U})),b&&!ki.fun(b)&&!HD(b)&&!ki.equ(b,ie,Bp)&&Wu(ie,b),c=S,d=!0,y(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{nT.updateContainer(A.jsx(kie,{store:r,children:g,onCreated:c,rootElement:n}),o,null,()=>{})}),r},unmount(){U5(n)}}}function kie({store:n,children:e,onCreated:t,rootElement:i}){return Kx(()=>{const a=n.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),A.jsx(R5.Provider,{value:n,children:e})}function U5(n,e){const t=Kd.get(n),i=t?.fiber;if(i){const a=t?.store.getState();a&&(a.internal.active=!1),nT.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var r,o,c,f;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(c=a.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(f=a.gl)!=null&&f.xr&&a.xr.disconnect(),xie(a.scene),Kd.delete(n)}catch{}},500)})}}const Hie=new Set,jie=new Set,Gie=new Set;function qE(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Yg(n,e){switch(n){case"before":return qE(Hie,e);case"after":return qE(jie,e);case"tail":return qE(Gie,e)}}let WE,YE;function iT(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),WE=e.internal.subscribers;for(let a=0;a<WE.length;a++)YE=WE[a],YE.ref.current(YE.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let aS=!1,aT=!1,KE,XD,Ip;function P5(n){XD=requestAnimationFrame(P5),aS=!0,KE=0,Yg("before",n),aT=!0;for(const t of Kd.values()){var e;Ip=t.store.getState(),Ip.internal.active&&(Ip.frameloop==="always"||Ip.internal.frames>0)&&!((e=Ip.gl.xr)!=null&&e.isPresenting)&&(KE+=iT(n,Ip))}if(aT=!1,Yg("after",n),KE===0)return Yg("tail",n),aS=!1,cancelAnimationFrame(XD)}function rT(n,e=1){var t;if(!n)return Kd.forEach(i=>rT(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):aT?n.internal.frames=2:n.internal.frames=1,aS||(aS=!0,requestAnimationFrame(P5)))}function qD(n,e=!0,t,i){if(e&&Yg("before",n),t)iT(n,t,i);else for(const a of Kd.values())iT(n,a.store.getState());e&&Yg("after",n)}const ZE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xie(n){const{handlePointer:e}=wie(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(ZE).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const o=a.handlers[r],[c,f]=ZE[r];t.addEventListener(c,o,{passive:f})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const r=i.handlers[a],[o]=ZE[a];i.connected.removeEventListener(o,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function WD(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function qie({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=O.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=O.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),f=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,m=O.useRef(!1);O.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=O.useMemo(()=>{const S=()=>{if(!c.current.element)return;const{left:R,top:D,width:U,height:F,bottom:P,right:L,x:B,y:I}=c.current.element.getBoundingClientRect(),V={left:R,top:D,width:U,height:F,bottom:P,right:L,x:B,y:I};c.current.element instanceof HTMLElement&&i&&(V.height=c.current.element.offsetHeight,V.width=c.current.element.offsetWidth),Object.freeze(V),m.current&&!Zie(c.current.lastBounds,V)&&o(c.current.lastBounds=V)};return[S,d?WD(S,d):S,f?WD(S,f):S]},[o,i,f,d]);function _(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",b,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new a(b),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(S=>S.addEventListener("scroll",b,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=S=>{!S||S===c.current.element||(_(),c.current.element=S,c.current.scrollContainers=z5(S),T())};return Yie(b,!!e),Wie(y),O.useEffect(()=>{_(),T()},[e,b,y]),O.useEffect(()=>_,[]),[E,r,g]}function Wie(n){O.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Yie(n,e){O.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function z5(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...z5(n.parentElement)]}const Kie=["x","y","top","bottom","left","right","width","height"],Zie=(n,e)=>Kie.every(t=>n[t]===e[t]);function Jie({ref:n,children:e,fallback:t,resize:i,style:a,gl:r,events:o=Xie,eventSource:c,eventPrefix:f,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:T,performance:E,raycaster:S,camera:R,scene:D,onPointerMissed:U,onCreated:F,...P}){O.useMemo(()=>Oie(Hne),[]);const L=pie(),[B,I]=qie({scroll:!0,debounce:{scroll:50,resize:0},...i}),V=O.useRef(null),W=O.useRef(null);O.useImperativeHandle(n,()=>V.current);const te=w5(U),[ne,ie]=O.useState(!1),[oe,H]=O.useState(!1);if(ne)throw ne;if(oe)throw oe;const q=O.useRef(null);Kx(()=>{const ee=V.current;if(I.width>0&&I.height>0&&ee){q.current||(q.current=Vie(ee));async function ue(){await q.current.configure({gl:r,scene:D,events:o,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:T,performance:E,raycaster:S,camera:R,size:I,onPointerMissed:(...K)=>te.current==null?void 0:te.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(c?die(c)?c.current:c:W.current),f&&K.setEvents({compute:(le,_e)=>{const Se=le[f+"X"],je=le[f+"Y"];_e.pointer.set(Se/_e.size.width*2-1,-(je/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),F?.(K)}}),q.current.render(A.jsx(L,{children:A.jsx(gie,{set:H,children:A.jsx(O.Suspense,{fallback:A.jsx(mie,{set:ie}),children:e??null})})}))}ue()}}),O.useEffect(()=>{const ee=V.current;if(ee)return()=>U5(ee)},[]);const G=c?"none":"auto";return A.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...a},...P,children:A.jsx("div",{ref:B,style:{width:"100%",height:"100%"},children:A.jsx("canvas",{ref:V,style:{display:"block"},children:t})})})}function Qie(n){return A.jsx(_5,{children:A.jsx(Jie,{...n})})}function Zd(){return Zd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zd.apply(null,arguments)}const $ie=()=>parseInt(Ix.replace(/\D+/g,"")),B5=$ie(),JE=B5>=154?"opaque_fragment":"output_fragment";class eae extends ZS{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:a}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${JE}>`,`
        ${a?`#include <${JE}>`:`#extension GL_OES_standard_derivatives : enable
#include <${JE}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${B5>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const tae=O.forwardRef((n,e)=>{const[t]=O.useState(()=>new eae(null));return O.createElement("primitive",Zd({},n,{object:t,ref:e,attach:"material"}))});let Td,wg;const nae=O.createContext(null),YD=new rn,KD=new $,iae=O.forwardRef(({children:n,range:e,limit:t=1e3,...i},a)=>{const r=O.useRef(null);O.useImperativeHandle(a,()=>r.current,[]);const[o,c]=O.useState([]),[[f,d,m]]=O.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);O.useEffect(()=>{r.current.geometry.attributes.position.needsUpdate=!0}),mA(()=>{for(r.current.updateMatrix(),r.current.updateMatrixWorld(),YD.copy(r.current.matrixWorld).invert(),r.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Td=0;Td<o.length;Td++)wg=o[Td].current,wg.getWorldPosition(KD).applyMatrix4(YD),KD.toArray(f,Td*3),r.current.geometry.attributes.position.needsUpdate=!0,wg.matrixWorldNeedsUpdate=!0,wg.color.toArray(d,Td*3),r.current.geometry.attributes.color.needsUpdate=!0,m.set([wg.size],Td),r.current.geometry.attributes.size.needsUpdate=!0});const g=O.useMemo(()=>({getParent:()=>r,subscribe:y=>(c(b=>[...b,y]),()=>c(b=>b.filter(_=>_.current!==y.current)))}),[]);return O.createElement("points",Zd({userData:{instances:o},matrixAutoUpdate:!1,ref:r,raycast:()=>null},i),O.createElement("bufferGeometry",null,O.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3],usage:Vd}),O.createElement("bufferAttribute",{attach:"attributes-color",args:[d,3],usage:Vd}),O.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1],usage:Vd})),O.createElement(nae.Provider,{value:g},n))}),aae=O.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:a=3,...r},o)=>{const c=O.useRef(null);return O.useImperativeHandle(o,()=>c.current,[]),mA(()=>{const f=c.current.geometry.attributes;f.position.needsUpdate=!0,t&&(f.color.needsUpdate=!0),i&&(f.size.needsUpdate=!0)}),O.createElement("points",Zd({ref:c},r),O.createElement("bufferGeometry",null,O.createElement("bufferAttribute",{attach:"attributes-position",args:[e,a],usage:Vd}),t&&O.createElement("bufferAttribute",{attach:"attributes-color",args:[t,a],count:t.length/a,usage:Vd}),i&&O.createElement("bufferAttribute",{attach:"attributes-size",args:[i,1],count:i.length/a,usage:Vd})),n)}),rae=O.forwardRef((n,e)=>n.positions instanceof Float32Array?O.createElement(aae,Zd({},n,{ref:e})):O.createElement(iae,Zd({},n,{ref:e})));function sae(n,e=[]){let t=[];function i(r,o){const c=O.createContext(o);c.displayName=r+"Context";const f=t.length;t=[...t,o];const d=g=>{const{scope:y,children:b,..._}=g,T=y?.[n]?.[f]||c,E=O.useMemo(()=>_,Object.values(_));return A.jsx(T.Provider,{value:E,children:b})};d.displayName=r+"Provider";function m(g,y){const b=y?.[n]?.[f]||c,_=O.useContext(b);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${r}\``)}return[d,m]}const a=()=>{const r=t.map(o=>O.createContext(o));return function(c){const f=c?.[n]||r;return O.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return a.scopeName=n,[i,oae(a,...e)]}function oae(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const o=i.reduce((c,{useScope:f,scopeName:d})=>{const g=f(r)[`__scope${d}`];return{...c,...g}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var lae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I5=lae.reduce((n,e)=>{const t=s2(`Primitive.${e}`),i=O.forwardRef((a,r)=>{const{asChild:o,...c}=a,f=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(f,{...c,ref:r})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),xA="Progress",yA=100,[cae]=sae(xA),[uae,fae]=cae(xA),F5=O.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:r=dae,...o}=n;(a||a===0)&&!ZD(a)&&console.error(hae(`${a}`,"Progress"));const c=ZD(a)?a:yA;i!==null&&!JD(i,c)&&console.error(pae(`${i}`,"Progress"));const f=JD(i,c)?i:null,d=rS(f)?r(f,c):void 0;return A.jsx(uae,{scope:t,value:f,max:c,children:A.jsx(I5.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":rS(f)?f:void 0,"aria-valuetext":d,role:"progressbar","data-state":H5(f,c),"data-value":f??void 0,"data-max":c,...o,ref:e})})});F5.displayName=xA;var V5="ProgressIndicator",k5=O.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=fae(V5,t);return A.jsx(I5.div,{"data-state":H5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});k5.displayName=V5;function dae(n,e){return`${Math.round(n/e*100)}%`}function H5(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function rS(n){return typeof n=="number"}function ZD(n){return rS(n)&&!isNaN(n)&&n>0}function JD(n,e){return rS(n)&&!isNaN(n)&&n<=e&&n>=0}function hae(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yA}\`.`}function pae(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mae=F5,gae=k5;function j5({className:n,value:e,...t}){return A.jsx(mae,{"data-slot":"progress",className:fo("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:A.jsx(gae,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const vA=["Allergic Rhinitis","Rheumatoid Arthritis","Lupus","Multiple Sclerosis","Type 1 Diabetes","Celiac Disease","Psoriasis","Graves' Disease","Hashimoto's Thyroiditis","Myasthenia Gravis","Hypertension","Myocardial Infarction","Arrhythmia","Atrial Fibrillation","Heart Failure","Angina Pectoris","Cardiomyopathy","Endocarditis","Pericarditis","Congenital Heart Disease","Alzheimer's Disease","Parkinson's Disease","Epilepsy","Stroke","Migraines","Multiple Sclerosis","Amyotrophic Lateral Sclerosis","Bell's Palsy","Guillain-Barre Syndrome","Peripheral Neuropathy","Breast Cancer","Lung Cancer","Prostate Cancer","Leukemia","Lymphoma","Colon Cancer","Pancreatic Cancer","Melanoma","Ovarian Cancer","Kidney Cancer","Chickenpox","Measles","Cystic Fibrosis","Congenital Heart Disease","Asthma","Whooping Cough","Rotavirus Infection","Bronchiolitis","Scarlet Fever","Juvenile Arthritis","Depression","Bipolar Disorder","Anxiety Disorder","Schizophrenia","OCD","PTSD","ADHD","Autism Spectrum Disorder","Eating Disorders","Substance Use Disorder","Psoriasis","Eczema","Acne","Melanoma","Rosacea","Vitiligo","Alopecia Areata","Basal Cell Carcinoma","Squamous Cell Carcinoma","Dermatitis","Type 2 Diabetes","Hypothyroidism","Hyperthyroidism","Cushing's Syndrome","Addison's Disease","Hyperparathyroidism","Hypoparathyroidism","Polycystic Ovary Syndrome","Acromegaly","Gigantism","IBS","Crohn's Disease","Ulcerative Colitis","Gastroesophageal Reflux Disease","Hepatitis A","Hepatitis B","Hepatitis C","Cirrhosis","Peptic Ulcer Disease","Gallstones","Osteoarthritis","Osteoporosis","Fractures","Scoliosis","Rheumatoid Arthritis","Torn Ligament","Dislocation","Carpal Tunnel Syndrome","Bursitis","Tendinitis","Asthma","COPD","Pneumonia","Tuberculosis","Bronchitis","Emphysema","Pulmonary Embolism","Sleep Apnea","Cystic Fibrosis","Pleural Effusion","HIV/AIDS","Malaria","Influenza","Hepatitis B","Hepatitis C","Dengue","Cholera","Tuberculosis","COVID-19","Zika Virus Infection"];let xae={data:""},yae=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||xae},vae=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bae=/\/\*[^]*?\*\/|  +/g,QD=/\n+/g,Yu=(n,e)=>{let t="",i="",a="";for(let r in n){let o=n[r];r[0]=="@"?r[1]=="i"?t=r+" "+o+";":i+=r[1]=="f"?Yu(o,r):r+"{"+Yu(o,r[1]=="k"?"":e)+"}":typeof o=="object"?i+=Yu(o,e?e.replace(/([^,])+/g,c=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Yu.p?Yu.p(r,o):r+":"+o+";")}return t+(e&&a?e+"{"+a+"}":a)+i},Uc={},G5=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+G5(n[t]);return e}return n},_ae=(n,e,t,i,a)=>{let r=G5(n),o=Uc[r]||(Uc[r]=(f=>{let d=0,m=11;for(;d<f.length;)m=101*m+f.charCodeAt(d++)>>>0;return"go"+m})(r));if(!Uc[o]){let f=r!==n?n:(d=>{let m,g,y=[{}];for(;m=vae.exec(d.replace(bae,""));)m[4]?y.shift():m[3]?(g=m[3].replace(QD," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][m[1]]=m[2].replace(QD," ").trim();return y[0]})(n);Uc[o]=Yu(a?{["@keyframes "+o]:f}:f,t?"":"."+o)}let c=t&&Uc.g?Uc.g:null;return t&&(Uc.g=Uc[o]),((f,d,m,g)=>{g?d.data=d.data.replace(g,f):d.data.indexOf(f)===-1&&(d.data=m?f+d.data:d.data+f)})(Uc[o],e,i,c),o},Sae=(n,e,t)=>n.reduce((i,a,r)=>{let o=e[r];if(o&&o.call){let c=o(t),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=f?"."+f:c&&typeof c=="object"?c.props?"":Yu(c,""):c===!1?"":c}return i+a+(o??"")},"");function m1(n){let e=this||{},t=n.call?n(e.p):n;return _ae(t.unshift?t.raw?Sae(t,[].slice.call(arguments,1),e.p):t.reduce((i,a)=>Object.assign(i,a&&a.call?a(e.p):a),{}):t,yae(e.target),e.g,e.o,e.k)}let X5,sT,oT;m1.bind({g:1});let Yc=m1.bind({k:1});function Mae(n,e,t,i){Yu.p=e,X5=n,sT=t,oT=i}function yf(n,e){let t=this||{};return function(){let i=arguments;function a(r,o){let c=Object.assign({},r),f=c.className||a.className;t.p=Object.assign({theme:sT&&sT()},c),t.o=/ *go\d+/.test(f),c.className=m1.apply(t,i)+(f?" "+f:"");let d=n;return n[0]&&(d=c.as||n,delete c.as),oT&&d[0]&&oT(c),X5(d,c)}return a}}var Eae=n=>typeof n=="function",sS=(n,e)=>Eae(n)?n(e):n,wae=(()=>{let n=0;return()=>(++n).toString()})(),q5=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),Tae=20,bA="default",W5=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:i}=e;return W5(n,{type:n.toasts.find(o=>o.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=e;return{...n,toasts:n.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let r=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},Wb=[],Y5={toasts:[],pausedAt:void 0,settings:{toastLimit:Tae}},zl={},K5=(n,e=bA)=>{zl[e]=W5(zl[e]||Y5,n),Wb.forEach(([t,i])=>{t===e&&i(zl[e])})},Z5=n=>Object.keys(zl).forEach(e=>K5(n,e)),Aae=n=>Object.keys(zl).find(e=>zl[e].toasts.some(t=>t.id===n)),g1=(n=bA)=>e=>{K5(e,n)},Cae={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rae=(n={},e=bA)=>{let[t,i]=O.useState(zl[e]||Y5),a=O.useRef(zl[e]);O.useEffect(()=>(a.current!==zl[e]&&i(zl[e]),Wb.push([e,i]),()=>{let o=Wb.findIndex(([c])=>c===e);o>-1&&Wb.splice(o,1)}),[e]);let r=t.toasts.map(o=>{var c,f,d;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((c=n[o.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:o.duration||((f=n[o.type])==null?void 0:f.duration)||n?.duration||Cae[o.type],style:{...n.style,...(d=n[o.type])==null?void 0:d.style,...o.style}}});return{...t,toasts:r}},Nae=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||wae()}),Zx=n=>(e,t)=>{let i=Nae(e,n,t);return g1(i.toasterId||Aae(i.id))({type:2,toast:i}),i.id},Ta=(n,e)=>Zx("blank")(n,e);Ta.error=Zx("error");Ta.success=Zx("success");Ta.loading=Zx("loading");Ta.custom=Zx("custom");Ta.dismiss=(n,e)=>{let t={type:3,toastId:n};e?g1(e)(t):Z5(t)};Ta.dismissAll=n=>Ta.dismiss(void 0,n);Ta.remove=(n,e)=>{let t={type:4,toastId:n};e?g1(e)(t):Z5(t)};Ta.removeAll=n=>Ta.remove(void 0,n);Ta.promise=(n,e,t)=>{let i=Ta.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let r=e.success?sS(e.success,a):void 0;return r?Ta.success(r,{id:i,...t,...t?.success}):Ta.dismiss(i),a}).catch(a=>{let r=e.error?sS(e.error,a):void 0;r?Ta.error(r,{id:i,...t,...t?.error}):Ta.dismiss(i)}),n};var Dae=1e3,Oae=(n,e="default")=>{let{toasts:t,pausedAt:i}=Rae(n,e),a=O.useRef(new Map).current,r=O.useCallback((g,y=Dae)=>{if(a.has(g))return;let b=setTimeout(()=>{a.delete(g),o({type:4,toastId:g})},y);a.set(g,b)},[]);O.useEffect(()=>{if(i)return;let g=Date.now(),y=t.map(b=>{if(b.duration===1/0)return;let _=(b.duration||0)+b.pauseDuration-(g-b.createdAt);if(_<0){b.visible&&Ta.dismiss(b.id);return}return setTimeout(()=>Ta.dismiss(b.id,e),_)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[t,i,e]);let o=O.useCallback(g1(e),[e]),c=O.useCallback(()=>{o({type:5,time:Date.now()})},[o]),f=O.useCallback((g,y)=>{o({type:1,toast:{id:g,height:y}})},[o]),d=O.useCallback(()=>{i&&o({type:6,time:Date.now()})},[i,o]),m=O.useCallback((g,y)=>{let{reverseOrder:b=!1,gutter:_=8,defaultPosition:T}=y||{},E=t.filter(D=>(D.position||T)===(g.position||T)&&D.height),S=E.findIndex(D=>D.id===g.id),R=E.filter((D,U)=>U<S&&D.visible).length;return E.filter(D=>D.visible).slice(...b?[R+1]:[0,R]).reduce((D,U)=>D+(U.height||0)+_,0)},[t]);return O.useEffect(()=>{t.forEach(g=>{if(g.dismissed)r(g.id,g.removeDelay);else{let y=a.get(g.id);y&&(clearTimeout(y),a.delete(g.id))}})},[t,r]),{toasts:t,handlers:{updateHeight:f,startPause:c,endPause:d,calculateOffset:m}}},Lae=Yc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Uae=Yc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pae=Yc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zae=yf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Uae} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Pae} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Bae=Yc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Iae=yf("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Bae} 1s linear infinite;
`,Fae=Yc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Vae=Yc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kae=yf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Vae} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hae=yf("div")`
  position: absolute;
`,jae=yf("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gae=Yc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xae=yf("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qae=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?O.createElement(Xae,null,e):e:t==="blank"?null:O.createElement(jae,null,O.createElement(Iae,{...i}),t!=="loading"&&O.createElement(Hae,null,t==="error"?O.createElement(zae,{...i}):O.createElement(kae,{...i})))},Wae=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yae=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Kae="0%{opacity:0;} 100%{opacity:1;}",Zae="0%{opacity:1;} 100%{opacity:0;}",Jae=yf("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Qae=yf("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$ae=(n,e)=>{let t=n.includes("top")?1:-1,[i,a]=q5()?[Kae,Zae]:[Wae(t),Yae(t)];return{animation:e?`${Yc(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yc(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ere=O.memo(({toast:n,position:e,style:t,children:i})=>{let a=n.height?$ae(n.position||e||"top-center",n.visible):{opacity:0},r=O.createElement(qae,{toast:n}),o=O.createElement(Qae,{...n.ariaProps},sS(n.message,n));return O.createElement(Jae,{className:n.className,style:{...a,...t,...n.style}},typeof i=="function"?i({icon:r,message:o}):O.createElement(O.Fragment,null,r,o))});Mae(O.createElement);var tre=({id:n,className:e,style:t,onHeightUpdate:i,children:a})=>{let r=O.useCallback(o=>{if(o){let c=()=>{let f=o.getBoundingClientRect().height;i(n,f)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return O.createElement("div",{ref:r,className:e,style:t},a)},nre=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:q5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...a}},ire=m1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ab=16,are=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:a,toasterId:r,containerStyle:o,containerClassName:c})=>{let{toasts:f,handlers:d}=Oae(t,r);return O.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:Ab,left:Ab,right:Ab,bottom:Ab,pointerEvents:"none",...o},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(m=>{let g=m.position||e,y=d.calculateOffset(m,{reverseOrder:n,gutter:i,defaultPosition:e}),b=nre(g,y);return O.createElement(tre,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?ire:"",style:b},m.type==="custom"?sS(m.message,m):a?a(m):O.createElement(ere,{toast:m,position:g}))}))},QE=Ta;const ro=(n,e)=>{switch(n){case"success":QE.success(e);break;case"error":QE.error(e);break;default:QE(e)}},rre=[{value:"Immunology",label:"Immune"},{value:"Cardiology",label:"Heart"},{value:"Neurology",label:"Brain"},{value:"Oncology",label:"Cancer"},{value:"Pediatrics",label:"Kids"},{value:"Psychiatry",label:"Mental Health"},{value:"Dermatology",label:"Skin"},{value:"Endocrinology",label:"Hormones"},{value:"Gastroenterology",label:"Digestive Health"},{value:"Orthopedics",label:"Bones & Joints"},{value:"Ophthalmology",label:"Eyes"},{value:"Pulmonology",label:"Lungs"}];function sre({isOpen:n,onClose:e}){const[t,i]=O.useState(1),a=uf(),[r,o]=O.useState({fullName:"",email:"",password:"",confirmPassword:"",specialties:[],customConditions:[],location:""}),[c,f]=O.useState({}),[d,m]=O.useState(""),[g,y]=O.useState([]);if(!n)return null;const b=async()=>{try{return(await(await fetch("/user/check-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email})})).json()).exists}catch(L){return console.log("Email check error:",L),!1}},_=async()=>{const L={};return r.fullName||(L.fullName="Name is required"),r.email||(L.email="Email is required"),r.password?r.password.length<8&&(L.password="Password must be 8+ characters"):L.password="Password is required",r.password!==r.confirmPassword&&(L.confirmPassword="Passwords must match"),r.email&&await b()&&(L.email="Email already exists"),f(L),Object.keys(L).length===0},T=async()=>{t===1&&!await _()||i(L=>Math.min(L+1,3))},E=()=>i(L=>Math.max(L-1,1)),S=L=>{o(B=>{const V=B.specialties.includes(L)?B.specialties.filter(W=>W!==L):[...B.specialties,L];return{...B,specialties:V}})},R=()=>{d.trim()&&!r.customConditions.includes(d.trim())&&(o(L=>({...L,customConditions:[...L.customConditions,d.trim()]})),m(""),y([]))},D=L=>{o(B=>({...B,customConditions:B.customConditions.filter(I=>I!==L)}))},U=()=>{if(!navigator.geolocation)return ro("error","GPS not available");navigator.geolocation.getCurrentPosition(async L=>{const{latitude:B,longitude:I}=L.coords,W=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${B}&lon=${I}&format=json`)).json(),te=W?.address?.city||W?.address?.town||W?.address?.village||W?.address?.state||"Unknown";o(ne=>({...ne,location:te}))},()=>ro("error","GPS Not working"))},F=async()=>{try{const L=await fetch("/user/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),B=await L.json();if(!L.ok)return ro("error",B.message);a("/dashboard")}catch(L){console.log(L),ro("error","Server not responding homie.")}},P=t/3*100;return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:A.jsxs(Zi.div,{className:"bg-white dark:bg-gray-800 rounded-3xl w-96 max-h-[80vh] overflow-y-auto p-10 relative shadow-2xl",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:[A.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-600 dark:text-gray-300 dark:hover:text-red-100 transition-all",onClick:e,children:A.jsx(Gd,{})}),A.jsx(j5,{value:P,className:"mb-8 rounded-full h-2"}),t===1&&A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 1: Basic Info"}),["fullName","email","password","confirmPassword"].map(L=>{const B=L.includes("password"),I=L==="fullName"?"Full Name":L==="email"?"Email":L==="password"?"Password":"Confirm Password";return A.jsxs("div",{children:[A.jsx(Mi,{className:"text-gray-700 dark:text-gray-300",children:I}),A.jsx(_i,{type:B?"password":L==="email"?"email":"text",value:r[L],onChange:V=>o({...r,[L]:V.target.value}),className:`mt-1 rounded-xl border-2 ${c[L]?"border-red-500":"border-gray-300 dark:border-gray-700"} focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all`}),c[L]&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:c[L]})]},L)})]}),t===2&&A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 2: Health Interests & Conditions"}),A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-3",children:rre.map(L=>A.jsx(Sn,{variant:r.specialties.includes(L.value)?"default":"outline",className:`flex justify-center items-center whitespace-nowrap rounded-xl px-4 py-2 text-[71%] text-indigo-600 dark:text-indigo-400 transition-all ${r.specialties.includes(L.value)?"bg-indigo-50 dark:bg-indigo-800 shadow-md hover:shadow-lg":"hover:shadow-md"}`,onClick:()=>S(L.value),children:L.label},L.value))}),A.jsxs("div",{className:"flex flex-col gap-2 relative",children:[A.jsx(Mi,{children:"Choose condition of interest"}),A.jsxs("div",{className:"relative flex gap-2",children:[A.jsx(_i,{placeholder:"Add custom condition",value:d,onChange:L=>{const B=L.target.value;if(m(B),!B.trim())return y([]);const I=vA.filter(V=>V.toLowerCase().startsWith(B.toLowerCase()));y(I)},className:"flex-1 rounded-xl border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all"}),A.jsx(Sn,{onClick:R,className:"px-6 shadow-md hover:shadow-lg",children:"Add"}),g.length>0&&A.jsx("ul",{className:"absolute z-50 mt-1 max-h-48 w-full overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md",children:g.map(L=>A.jsx("li",{className:"px-4 py-2 cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-700",onClick:()=>{m(L),y([])},children:L},L))})]}),A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.customConditions.map(L=>A.jsxs("div",{className:"flex items-center gap-1 bg-indigo-50 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-100 px-3 py-1 rounded-full shadow-md hover:shadow-lg transition-all",children:[L,A.jsx(Gd,{className:"w-4 h-4 cursor-pointer",onClick:()=>D(L)})]},L))})]}),A.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[A.jsx(Mi,{children:"Location"}),A.jsx(_i,{placeholder:"Your city",value:r.location,onChange:L=>o({...r,location:L.target.value}),className:"rounded-xl border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all"}),A.jsx("div",{className:"flex justify-center mt-2",children:A.jsxs(Sn,{onClick:U,className:"px-6 shadow-md hover:shadow-lg flex items-center gap-2",children:[A.jsx(Lx,{className:"w-4 h-4"})," Choose location automatically"]})})]})]}),t===3&&A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 3: Review"}),A.jsxs("div",{className:"space-y-2 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-md",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Name:"})," ",r.fullName]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Email:"})," ",r.email]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Specialties:"})," ",r.specialties.join(", ")]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Conditions:"})," ",r.customConditions.join(", ")]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Location:"})," ",r.location]})]}),A.jsx(Sn,{onClick:F,className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl shadow-md hover:shadow-lg transition-all",children:"Confirm & Submit"})]}),A.jsxs("div",{className:"flex justify-between mt-8",children:[t>1&&A.jsx(Sn,{variant:"outline",className:"rounded-xl px-6 py-3",onClick:E,children:"Back"}),t<3&&A.jsx(Sn,{className:"ml-auto bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl shadow-md hover:shadow-lg transition-all",onClick:T,children:"Next"})]})]})})}const ore=[{value:"Immunology",label:"Immune"},{value:"Cardiology",label:"Heart"},{value:"Neurology",label:"Brain"},{value:"Oncology",label:"Cancer"},{value:"Pediatrics",label:"Kids"},{value:"Psychiatry",label:"Mental Health"},{value:"Dermatology",label:"Skin"},{value:"Endocrinology",label:"Hormones"},{value:"Gastroenterology",label:"Digestive Health"},{value:"Orthopedics",label:"Bones & Joints"},{value:"Ophthalmology",label:"Eyes"},{value:"Pulmonology",label:"Lungs"}];function lre({isOpen:n,onClose:e}){const[t,i]=O.useState(1),a=uf(),[r,o]=O.useState({fullName:"",email:"",password:"",confirmPassword:"",university:"",graduation:"",researchGate:"",orcid:"",specialties:[],customConditions:[],location:""}),[c,f]=O.useState({}),[d,m]=O.useState(""),[g,y]=O.useState([]);if(!n)return null;const b=async()=>{try{return(await(await fetch("/user/check-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email})})).json()).exists}catch(B){return console.log("Email check error:",B),!1}},_=async()=>{const B={};return r.fullName||(B.fullName="Name is required"),r.email||(B.email="Email is required"),r.password?r.password.length<8&&(B.password="Password must be 8+ characters"):B.password="Password is required",r.password!==r.confirmPassword&&(B.confirmPassword="Passwords must match"),r.email&&await b()&&(B.email="Email already exists"),f(B),Object.keys(B).length===0},T=()=>{const B={};return r.university.trim()||(B.university="University is required"),r.graduation.trim()||(B.graduation="Graduation is required"),r.researchGate.trim()||(B.researchGate="ResearchGate URL is required"),r.orcid.trim()||(B.orcid="ORCID number is required"),f(B),Object.keys(B).length===0},E=async()=>{t===1&&!await _()||t===2&&!T()||i(B=>Math.min(B+1,4))},S=()=>i(B=>Math.max(B-1,1)),R=B=>{o(I=>{const W=I.specialties.includes(B)?I.specialties.filter(te=>te!==B):[...I.specialties,B];return{...I,specialties:W}})},D=()=>{d.trim()&&!r.customConditions.includes(d.trim())&&(o(B=>({...B,customConditions:[...B.customConditions,d.trim()]})),m(""),y([]))},U=B=>{o(I=>({...I,customConditions:I.customConditions.filter(V=>V!==B)}))},F=()=>{if(!navigator.geolocation)return ro("error","GPS not available");navigator.geolocation.getCurrentPosition(async B=>{const{latitude:I,longitude:V}=B.coords,te=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${I}&lon=${V}&format=json`)).json(),ne=te?.address?.city||te?.address?.town||te?.address?.village||te?.address?.state||"Unknown";o(ie=>({...ie,location:ne}))},()=>ro("error","GPS Not working"))},P=async()=>{try{const B=await fetch("/user/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),I=await B.json();if(!B.ok)return ro("error",I.message);a("/dashboard")}catch(B){console.log(B),ro("error","Server not responding homie.")}},L=t/4*100;return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:A.jsxs(Zi.div,{className:"bg-white dark:bg-gray-800 rounded-3xl w-96 max-h-[80vh] overflow-y-auto p-10 relative shadow-2xl",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:[A.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-600 dark:text-gray-300 dark:hover:text-red-100 transition-all",onClick:e,children:A.jsx(Gd,{})}),A.jsx(j5,{value:L,className:"mb-8 rounded-full h-2"}),t===1&&A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 1: Basic Info"}),["fullName","email","password","confirmPassword"].map(B=>{const I=B.includes("password"),V=B==="fullName"?"Full Name":B==="email"?"Email":B==="password"?"Password":"Confirm Password";return A.jsxs("div",{children:[A.jsx(Mi,{className:"text-gray-700 dark:text-gray-300",children:V}),A.jsx(_i,{type:I?"password":B==="email"?"email":"text",value:r[B],onChange:W=>o({...r,[B]:W.target.value}),className:`mt-1 rounded-xl border-2 ${c[B]?"border-red-500":"border-gray-300 dark:border-gray-700"} focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all`}),c[B]&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:c[B]})]},B)})]}),t===2&&A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 2: Education & Research"}),A.jsxs("div",{children:[A.jsx(Mi,{children:"University"}),A.jsx(_i,{placeholder:"Enter your university",value:r.university,onChange:B=>o({...r,university:B.target.value}),className:`mt-1 rounded-xl border-2 ${c.university?"border-red-500":"border-gray-300 dark:border-gray-700"} focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all`}),c.university&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.university})]}),A.jsxs("div",{children:[A.jsx(Mi,{children:"Graduation"}),A.jsx(_i,{placeholder:"Enter your graduation (e.g., MD, PhD)",value:r.graduation,onChange:B=>o({...r,graduation:B.target.value}),className:`mt-1 rounded-xl border-2 ${c.graduation?"border-red-500":"border-gray-300 dark:border-gray-700"} focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all`}),c.graduation&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.graduation})]}),A.jsxs("div",{children:[A.jsx(Mi,{children:"ResearchGate URL"}),A.jsx(_i,{placeholder:"Enter your ResearchGate URL",value:r.researchGate,onChange:B=>o({...r,researchGate:B.target.value}),className:`mt-1 rounded-xl border-2 ${c.researchGate?"border-red-500":"border-gray-300 dark:border-gray-700"} focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all`}),c.researchGate&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.researchGate})]}),A.jsxs("div",{children:[A.jsx(Mi,{children:"ORCID Number"}),A.jsx(_i,{placeholder:"Enter your ORCID number",value:r.orcid,onChange:B=>o({...r,orcid:B.target.value}),className:`mt-1 rounded-xl border-2 ${c.orcid?"border-red-500":"border-gray-300 dark:border-gray-700"} focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all`}),c.orcid&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.orcid})]})]}),t===3&&A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 3: Health Interests & Conditions"}),A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-3",children:ore.map(B=>A.jsx(Sn,{variant:r.specialties.includes(B.value)?"default":"outline",className:`flex justify-center items-center whitespace-nowrap rounded-xl px-4 py-2 text-[71%] text-indigo-600 dark:text-indigo-400 transition-all ${r.specialties.includes(B.value)?"bg-indigo-50 dark:bg-indigo-800 shadow-md hover:shadow-lg":"hover:shadow-md"}`,onClick:()=>R(B.value),children:B.label},B.value))}),A.jsxs("div",{className:"flex flex-col gap-2 relative",children:[A.jsx(Mi,{children:"Choose condition of interest"}),A.jsxs("div",{className:"relative flex gap-2",children:[A.jsx(_i,{placeholder:"Add custom condition",value:d,onChange:B=>{const I=B.target.value;if(m(I),!I.trim())return y([]);const V=vA.filter(W=>W.toLowerCase().startsWith(I.toLowerCase()));y(V)},className:"flex-1 rounded-xl border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all"}),A.jsx(Sn,{onClick:D,className:"px-6 shadow-md hover:shadow-lg",children:"Add"}),g.length>0&&A.jsx("ul",{className:"absolute z-50 mt-1 max-h-48 w-full overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md",children:g.map(B=>A.jsx("li",{className:"px-4 py-2 cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-700",onClick:()=>{m(B),y([])},children:B},B))})]}),A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.customConditions.map(B=>A.jsxs("div",{className:"flex items-center gap-1 bg-indigo-50 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-100 px-3 py-1 rounded-full shadow-md hover:shadow-lg transition-all",children:[B,A.jsx(Gd,{className:"w-4 h-4 cursor-pointer",onClick:()=>U(B)})]},B))})]}),A.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[A.jsx(Mi,{children:"Location"}),A.jsx(_i,{placeholder:"Your city",value:r.location,onChange:B=>o({...r,location:B.target.value}),className:"rounded-xl border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all"}),A.jsx("div",{className:"flex justify-center mt-2",children:A.jsxs(Sn,{onClick:F,className:"px-6 shadow-md hover:shadow-lg flex items-center gap-2",children:[A.jsx(Lx,{className:"w-4 h-4"})," Choose location automatically"]})})]})]}),t===4&&A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Step 4: Review"}),A.jsxs("div",{className:"space-y-2 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-md",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Name:"})," ",r.fullName]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Email:"})," ",r.email]}),A.jsxs("p",{children:[A.jsx("strong",{children:"University:"})," ",r.university]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Graduation:"})," ",r.graduation]}),A.jsxs("p",{children:[A.jsx("strong",{children:"ResearchGate:"})," ",r.researchGate]}),A.jsxs("p",{children:[A.jsx("strong",{children:"ORCID:"})," ",r.orcid]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Specialties:"})," ",r.specialties.join(", ")]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Conditions:"})," ",r.customConditions.join(", ")]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Location:"})," ",r.location]})]}),A.jsx(Sn,{onClick:P,className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl shadow-md hover:shadow-lg transition-all",children:"Confirm & Submit"})]}),A.jsxs("div",{className:"flex justify-between mt-8",children:[t>1&&A.jsx(Sn,{variant:"outline",className:"rounded-xl px-6 py-3",onClick:S,children:"Back"}),t<4&&A.jsx(Sn,{className:"ml-auto bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl shadow-md hover:shadow-lg transition-all",onClick:E,children:"Next"})]})]})})}function cre(){const n=O.useRef(),e=O.useMemo(()=>{const t=[];for(let i=0;i<3e3;i++)t.push((Math.random()-.5)*15),t.push((Math.random()-.5)*15),t.push((Math.random()-.5)*15);return new Float32Array(t)},[]);return mA((t,i)=>{n.current.rotation.y+=i*.05}),A.jsx("group",{rotation:[0,0,Math.PI/4],children:A.jsx(rae,{ref:n,positions:e,children:A.jsx(tae,{size:.02,color:"#4f46e5",transparent:!0})})})}function ure(){const[n,e]=O.useState(!1),[t,i]=O.useState(!1);return uf(),A.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-gradient-to-b from-indigo-50 via-white to-indigo-100 dark:from-black dark:via-neutral-950 dark:to-indigo-950 text-foreground",children:[A.jsx("div",{className:"absolute inset-0 z-0",children:A.jsxs(Qie,{camera:{position:[0,0,6],fov:75},children:[A.jsx("ambientLight",{intensity:.4}),A.jsx(cre,{})]})}),A.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen text-center px-6 sm:px-12 space-y-10",children:[A.jsxs("div",{className:"max-w-4xl mt-10 sm:mt-20",children:[" ",A.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight text-gray-900 dark:text-gray-100",children:["Connecting"," ",A.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Experts"}),","," ","Patients, Researchers, Trials &"," ",A.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"AI"})]}),A.jsxs("p",{className:"mt-6 text-lg sm:text-xl text-gray-700 dark:text-gray-300 leading-relaxed",children:[A.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Curalink"})," "," connects users with patients, experts, clinical trials, and AI-powered insights  empowering collaboration, accelerating research, and improving healthcare outcomes with trust and transparency."]})]}),A.jsxs("div",{className:"mt-12 grid grid-cols-1 sm:grid-cols-2 gap-8 max-w-5xl w-full px-6",children:[A.jsxs(Zi.div,{whileHover:{scale:1.05,y:-6},whileTap:{scale:.97},transition:{type:"spring",stiffness:220,damping:14},className:"relative bg-white/60 dark:bg-white/5 backdrop-blur-xl border border-indigo-200 dark:border-indigo-800 rounded-3xl shadow-lg p-8 flex flex-col items-center text-center hover:shadow-[0_0_30px_rgba(79,70,229,0.2)] transition-all duration-300",children:[A.jsx(Ib,{className:"w-10 h-10 text-indigo-600 dark:text-indigo-400 mb-4"}),A.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"For Patients"}),A.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Connect directly with trusted experts and participate in clinical trials designed to make a difference."}),A.jsx(Sn,{onClick:()=>e(!0),className:"mt-6 bg-gradient-to-b from-indigo-500 via-indigo-600 to-indigo-700 hover:from-indigo-600 hover:to-indigo-800 text-white px-8 py-4 rounded-xl text-lg shadow-[0_4px_15px_rgba(79,70,229,0.4)]",children:"Enter as Patient"})]}),A.jsxs(Zi.div,{whileHover:{scale:1.05,y:-6},whileTap:{scale:.97},transition:{type:"spring",stiffness:220,damping:14},className:"relative bg-white/60 dark:bg-white/5 backdrop-blur-xl border border-indigo-200 dark:border-indigo-800 rounded-3xl shadow-lg p-8 flex flex-col items-center text-center hover:shadow-[0_0_30px_rgba(79,70,229,0.2)] transition-all duration-300",children:[A.jsx(m7,{className:"w-10 h-10 text-indigo-600 dark:text-indigo-400 mb-4"}),A.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"For Researchers"}),A.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Collaborate with global experts, access AI-powered analytics, and accelerate breakthrough discoveries in healthcare."}),A.jsx(Sn,{onClick:()=>i(!0),className:"mt-6 bg-transparent border border-indigo-500 text-indigo-600 dark:text-indigo-300 dark:border-indigo-300 hover:bg-indigo-600/10 backdrop-blur-lg px-8 py-4 rounded-xl text-lg shadow-[0_0_15px_rgba(79,70,229,0.2)]",children:"Enter as Researcher"})]})]}),A.jsx("footer",{className:"mt-20 text-gray-600 dark:text-gray-400 text-sm pb-8",children:A.jsxs("p",{children:[" 2025 ",A.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Curalink"}),"  Empowering Research. Connecting Care."]})}),A.jsx(sre,{isOpen:n,onClose:()=>e(!1)}),A.jsx(lre,{isOpen:t,onClose:()=>i(!1)})]})]})}function eo(){const n=VO();return A.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center text-center",children:[A.jsx("h1",{className:"text-4xl font-bold mb-4 text-red-500",children:"Oops! Something went wrong "}),A.jsx("p",{className:"text-gray-600 mb-2",children:n?.statusText||n?.message||"Page not found."}),A.jsx("a",{href:"/dashboard",className:"text-blue-500 hover:underline",children:"Go back to dashboard"})]})}const fre=DU("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function J5({className:n,variant:e,asChild:t=!1,...i}){const a=t?CU:"span";return A.jsx(a,{"data-slot":"badge",className:fo(fre({variant:e}),n),...i})}function dre(n){const e=hre(n),t=O.forwardRef((i,a)=>{const{children:r,...o}=i,c=O.Children.toArray(r),f=c.find(mre);if(f){const d=f.props.children,m=c.map(g=>g===f?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:g);return A.jsx(e,{...o,ref:a,children:O.isValidElement(d)?O.cloneElement(d,void 0,m):null})}return A.jsx(e,{...o,ref:a,children:r})});return t.displayName=`${n}.Slot`,t}function hre(n){const e=O.forwardRef((t,i)=>{const{children:a,...r}=t;if(O.isValidElement(a)){const o=xre(a),c=gre(r,a.props);return a.type!==O.Fragment&&(c.ref=i?df(i,o):o),O.cloneElement(a,c)}return O.Children.count(a)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var pre=Symbol("radix.slottable");function mre(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===pre}function gre(n,e){const t={...e};for(const i in e){const a=n[i],r=e[i];/^on[A-Z]/.test(i)?a&&r?t[i]=(...c)=>{const f=r(...c);return a(...c),f}:a&&(t[i]=a):i==="style"?t[i]={...a,...r}:i==="className"&&(t[i]=[a,r].filter(Boolean).join(" "))}return{...n,...t}}function xre(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var x1="Dialog",[Q5]=Em(x1),[yre,Yo]=Q5(x1),$5=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:a,onOpenChange:r,modal:o=!0}=n,c=O.useRef(null),f=O.useRef(null),[d,m]=l2({prop:i,defaultProp:a??!1,onChange:r,caller:x1});return A.jsx(yre,{scope:e,triggerRef:c,contentRef:f,contentId:Qp(),titleId:Qp(),descriptionId:Qp(),open:d,onOpenChange:m,onOpenToggle:O.useCallback(()=>m(g=>!g),[m]),modal:o,children:t})};$5.displayName=x1;var eB="DialogTrigger",tB=O.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Yo(eB,t),r=Qa(e,a.triggerRef);return A.jsx(xa.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MA(a.open),...i,ref:r,onClick:Rn(n.onClick,a.onOpenToggle)})});tB.displayName=eB;var _A="DialogPortal",[vre,nB]=Q5(_A,{forceMount:void 0}),iB=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:a}=n,r=Yo(_A,e);return A.jsx(vre,{scope:e,forceMount:t,children:O.Children.map(i,o=>A.jsx(hf,{present:t||r.open,children:A.jsx(v2,{asChild:!0,container:a,children:o})}))})};iB.displayName=_A;var oS="DialogOverlay",aB=O.forwardRef((n,e)=>{const t=nB(oS,n.__scopeDialog),{forceMount:i=t.forceMount,...a}=n,r=Yo(oS,n.__scopeDialog);return r.modal?A.jsx(hf,{present:i||r.open,children:A.jsx(_re,{...a,ref:e})}):null});aB.displayName=oS;var bre=dre("DialogOverlay.RemoveScroll"),_re=O.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Yo(oS,t);return A.jsx(b2,{as:bre,allowPinchZoom:!0,shards:[a.contentRef],children:A.jsx(xa.div,{"data-state":MA(a.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Jd="DialogContent",rB=O.forwardRef((n,e)=>{const t=nB(Jd,n.__scopeDialog),{forceMount:i=t.forceMount,...a}=n,r=Yo(Jd,n.__scopeDialog);return A.jsx(hf,{present:i||r.open,children:r.modal?A.jsx(Sre,{...a,ref:e}):A.jsx(Mre,{...a,ref:e})})});rB.displayName=Jd;var Sre=O.forwardRef((n,e)=>{const t=Yo(Jd,n.__scopeDialog),i=O.useRef(null),a=Qa(e,t.contentRef,i);return O.useEffect(()=>{const r=i.current;if(r)return OP(r)},[]),A.jsx(sB,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rn(n.onCloseAutoFocus,r=>{r.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Rn(n.onPointerDownOutside,r=>{const o=r.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&r.preventDefault()}),onFocusOutside:Rn(n.onFocusOutside,r=>r.preventDefault())})}),Mre=O.forwardRef((n,e)=>{const t=Yo(Jd,n.__scopeDialog),i=O.useRef(!1),a=O.useRef(!1);return A.jsx(sB,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{n.onCloseAutoFocus?.(r),r.defaultPrevented||(i.current||t.triggerRef.current?.focus(),r.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:r=>{n.onInteractOutside?.(r),r.defaultPrevented||(i.current=!0,r.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=r.target;t.triggerRef.current?.contains(o)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&a.current&&r.preventDefault()}})}),sB=O.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:r,...o}=n,c=Yo(Jd,t),f=O.useRef(null),d=Qa(e,f);return tP(),A.jsxs(A.Fragment,{children:[A.jsx(u2,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:r,children:A.jsx(c2,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":MA(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(wre,{titleId:c.titleId}),A.jsx(Are,{contentRef:f,descriptionId:c.descriptionId})]})]})}),SA="DialogTitle",oB=O.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Yo(SA,t);return A.jsx(xa.h2,{id:a.titleId,...i,ref:e})});oB.displayName=SA;var lB="DialogDescription",Ere=O.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Yo(lB,t);return A.jsx(xa.p,{id:a.descriptionId,...i,ref:e})});Ere.displayName=lB;var cB="DialogClose",uB=O.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,a=Yo(cB,t);return A.jsx(xa.button,{type:"button",...i,ref:e,onClick:Rn(n.onClick,()=>a.onOpenChange(!1))})});uB.displayName=cB;function MA(n){return n?"open":"closed"}var fB="DialogTitleWarning",[Koe,dB]=R7(fB,{contentName:Jd,titleName:SA,docsSlug:"dialog"}),wre=({titleId:n})=>{const e=dB(fB),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Tre="DialogDescriptionWarning",Are=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dB(Tre).contentName}}.`;return O.useEffect(()=>{const a=n.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},Cre=$5,Rre=tB,Nre=iB,Dre=aB,Ore=rB,Lre=oB,Ure=uB;function lS({...n}){return A.jsx(Cre,{"data-slot":"dialog",...n})}function cS({...n}){return A.jsx(Rre,{"data-slot":"dialog-trigger",...n})}function Pre({...n}){return A.jsx(Nre,{"data-slot":"dialog-portal",...n})}function zre({className:n,...e}){return A.jsx(Dre,{"data-slot":"dialog-overlay",className:fo("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function uS({className:n,children:e,showCloseButton:t=!0,...i}){return A.jsxs(Pre,{"data-slot":"dialog-portal",children:[A.jsx(zre,{}),A.jsxs(Ore,{"data-slot":"dialog-content",className:fo("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...i,children:[e,t&&A.jsxs(Ure,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[A.jsx(Gd,{}),A.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fS({className:n,...e}){return A.jsx("div",{"data-slot":"dialog-header",className:fo("flex flex-col gap-2 text-center sm:text-left",n),...e})}function $D({className:n,...e}){return A.jsx("div",{"data-slot":"dialog-footer",className:fo("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function dS({className:n,...e}){return A.jsx(Lre,{"data-slot":"dialog-title",className:fo("text-lg leading-none font-semibold",n),...e})}function hB(n,e){return function(){return n.apply(e,arguments)}}const{toString:Bre}=Object.prototype,{getPrototypeOf:EA}=Object,{iterator:y1,toStringTag:pB}=Symbol,v1=(n=>e=>{const t=Bre.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ko=n=>(n=n.toLowerCase(),e=>v1(e)===n),b1=n=>e=>typeof e===n,{isArray:Lm}=Array,xm=b1("undefined");function Jx(n){return n!==null&&!xm(n)&&n.constructor!==null&&!xm(n.constructor)&&cs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const mB=Ko("ArrayBuffer");function Ire(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&mB(n.buffer),e}const Fre=b1("string"),cs=b1("function"),gB=b1("number"),Qx=n=>n!==null&&typeof n=="object",Vre=n=>n===!0||n===!1,Yb=n=>{if(v1(n)!=="object")return!1;const e=EA(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pB in n)&&!(y1 in n)},kre=n=>{if(!Qx(n)||Jx(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Hre=Ko("Date"),jre=Ko("File"),Gre=Ko("Blob"),Xre=Ko("FileList"),qre=n=>Qx(n)&&cs(n.pipe),Wre=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||cs(n.append)&&((e=v1(n))==="formdata"||e==="object"&&cs(n.toString)&&n.toString()==="[object FormData]"))},Yre=Ko("URLSearchParams"),[Kre,Zre,Jre,Qre]=["ReadableStream","Request","Response","Headers"].map(Ko),$re=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $x(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),Lm(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{if(Jx(n))return;const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let c;for(i=0;i<o;i++)c=r[i],e.call(null,n[c],c,n)}}function xB(n,e){if(Jx(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const zd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yB=n=>!xm(n)&&n!==zd;function lT(){const{caseless:n,skipUndefined:e}=yB(this)&&this||{},t={},i=(a,r)=>{const o=n&&xB(t,r)||r;Yb(t[o])&&Yb(a)?t[o]=lT(t[o],a):Yb(a)?t[o]=lT({},a):Lm(a)?t[o]=a.slice():(!e||!xm(a))&&(t[o]=a)};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&$x(arguments[a],i);return t}const ese=(n,e,t,{allOwnKeys:i}={})=>($x(e,(a,r)=>{t&&cs(a)?n[r]=hB(a,t):n[r]=a},{allOwnKeys:i}),n),tse=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),nse=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},ise=(n,e,t,i)=>{let a,r,o;const c={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),r=a.length;r-- >0;)o=a[r],(!i||i(o,n,e))&&!c[o]&&(e[o]=n[o],c[o]=!0);n=t!==!1&&EA(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},ase=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},rse=n=>{if(!n)return null;if(Lm(n))return n;let e=n.length;if(!gB(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},sse=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&EA(Uint8Array)),ose=(n,e)=>{const i=(n&&n[y1]).call(n);let a;for(;(a=i.next())&&!a.done;){const r=a.value;e.call(n,r[0],r[1])}},lse=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},cse=Ko("HTMLFormElement"),use=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),eO=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),fse=Ko("RegExp"),vB=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};$x(t,(a,r)=>{let o;(o=e(a,r,n))!==!1&&(i[r]=o||a)}),Object.defineProperties(n,i)},dse=n=>{vB(n,(e,t)=>{if(cs(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(cs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},hse=(n,e)=>{const t={},i=a=>{a.forEach(r=>{t[r]=!0})};return Lm(n)?i(n):i(String(n).split(e)),t},pse=()=>{},mse=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function gse(n){return!!(n&&cs(n.append)&&n[pB]==="FormData"&&n[y1])}const xse=n=>{const e=new Array(10),t=(i,a)=>{if(Qx(i)){if(e.indexOf(i)>=0)return;if(Jx(i))return i;if(!("toJSON"in i)){e[a]=i;const r=Lm(i)?[]:{};return $x(i,(o,c)=>{const f=t(o,a+1);!xm(f)&&(r[c]=f)}),e[a]=void 0,r}}return i};return t(n,0)},yse=Ko("AsyncFunction"),vse=n=>n&&(Qx(n)||cs(n))&&cs(n.then)&&cs(n.catch),bB=((n,e)=>n?setImmediate:e?((t,i)=>(zd.addEventListener("message",({source:a,data:r})=>{a===zd&&r===t&&i.length&&i.shift()()},!1),a=>{i.push(a),zd.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",cs(zd.postMessage)),bse=typeof queueMicrotask<"u"?queueMicrotask.bind(zd):typeof process<"u"&&process.nextTick||bB,_se=n=>n!=null&&cs(n[y1]),Oe={isArray:Lm,isArrayBuffer:mB,isBuffer:Jx,isFormData:Wre,isArrayBufferView:Ire,isString:Fre,isNumber:gB,isBoolean:Vre,isObject:Qx,isPlainObject:Yb,isEmptyObject:kre,isReadableStream:Kre,isRequest:Zre,isResponse:Jre,isHeaders:Qre,isUndefined:xm,isDate:Hre,isFile:jre,isBlob:Gre,isRegExp:fse,isFunction:cs,isStream:qre,isURLSearchParams:Yre,isTypedArray:sse,isFileList:Xre,forEach:$x,merge:lT,extend:ese,trim:$re,stripBOM:tse,inherits:nse,toFlatObject:ise,kindOf:v1,kindOfTest:Ko,endsWith:ase,toArray:rse,forEachEntry:ose,matchAll:lse,isHTMLForm:cse,hasOwnProperty:eO,hasOwnProp:eO,reduceDescriptors:vB,freezeMethods:dse,toObjectSet:hse,toCamelCase:use,noop:pse,toFiniteNumber:mse,findKey:xB,global:zd,isContextDefined:yB,isSpecCompliantForm:gse,toJSONObject:xse,isAsyncFn:yse,isThenable:vse,setImmediate:bB,asap:bse,isIterable:_se};function xn(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Oe.inherits(xn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const _B=xn.prototype,SB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{SB[n]={value:n}});Object.defineProperties(xn,SB);Object.defineProperty(_B,"isAxiosError",{value:!0});xn.from=(n,e,t,i,a,r)=>{const o=Object.create(_B);Oe.toFlatObject(n,o,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const c=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return xn.call(o,c,f,t,i,a),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",r&&Object.assign(o,r),o};const Sse=null;function cT(n){return Oe.isPlainObject(n)||Oe.isArray(n)}function MB(n){return Oe.endsWith(n,"[]")?n.slice(0,-2):n}function tO(n,e,t){return n?n.concat(e).map(function(a,r){return a=MB(a),!t&&r?"["+a+"]":a}).join(t?".":""):e}function Mse(n){return Oe.isArray(n)&&!n.some(cT)}const Ese=Oe.toFlatObject(Oe,{},null,function(e){return/^is[A-Z]/.test(e)});function _1(n,e,t){if(!Oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,E){return!Oe.isUndefined(E[T])});const i=t.metaTokens,a=t.visitor||m,r=t.dots,o=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(e);if(!Oe.isFunction(a))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Oe.isDate(_))return _.toISOString();if(Oe.isBoolean(_))return _.toString();if(!f&&Oe.isBlob(_))throw new xn("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(_)||Oe.isTypedArray(_)?f&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,T,E){let S=_;if(_&&!E&&typeof _=="object"){if(Oe.endsWith(T,"{}"))T=i?T:T.slice(0,-2),_=JSON.stringify(_);else if(Oe.isArray(_)&&Mse(_)||(Oe.isFileList(_)||Oe.endsWith(T,"[]"))&&(S=Oe.toArray(_)))return T=MB(T),S.forEach(function(D,U){!(Oe.isUndefined(D)||D===null)&&e.append(o===!0?tO([T],U,r):o===null?T:T+"[]",d(D))}),!1}return cT(_)?!0:(e.append(tO(E,T,r),d(_)),!1)}const g=[],y=Object.assign(Ese,{defaultVisitor:m,convertValue:d,isVisitable:cT});function b(_,T){if(!Oe.isUndefined(_)){if(g.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));g.push(_),Oe.forEach(_,function(S,R){(!(Oe.isUndefined(S)||S===null)&&a.call(e,S,Oe.isString(R)?R.trim():R,T,y))===!0&&b(S,T?T.concat(R):[R])}),g.pop()}}if(!Oe.isObject(n))throw new TypeError("data must be an object");return b(n),e}function nO(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function wA(n,e){this._pairs=[],n&&_1(n,this,e)}const EB=wA.prototype;EB.append=function(e,t){this._pairs.push([e,t])};EB.toString=function(e){const t=e?function(i){return e.call(this,i,nO)}:nO;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function wse(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wB(n,e,t){if(!e)return n;const i=t&&t.encode||wse;Oe.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let r;if(a?r=a(e,t):r=Oe.isURLSearchParams(e)?e.toString():new wA(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class iO{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Oe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const TB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tse=typeof URLSearchParams<"u"?URLSearchParams:wA,Ase=typeof FormData<"u"?FormData:null,Cse=typeof Blob<"u"?Blob:null,Rse={isBrowser:!0,classes:{URLSearchParams:Tse,FormData:Ase,Blob:Cse},protocols:["http","https","file","blob","url","data"]},TA=typeof window<"u"&&typeof document<"u",uT=typeof navigator=="object"&&navigator||void 0,Nse=TA&&(!uT||["ReactNative","NativeScript","NS"].indexOf(uT.product)<0),Dse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ose=TA&&window.location.href||"http://localhost",Lse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TA,hasStandardBrowserEnv:Nse,hasStandardBrowserWebWorkerEnv:Dse,navigator:uT,origin:Ose},Symbol.toStringTag,{value:"Module"})),gr={...Lse,...Rse};function Use(n,e){return _1(n,new gr.classes.URLSearchParams,{visitor:function(t,i,a,r){return gr.isNode&&Oe.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function Pse(n){return Oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zse(n){const e={},t=Object.keys(n);let i;const a=t.length;let r;for(i=0;i<a;i++)r=t[i],e[r]=n[r];return e}function AB(n){function e(t,i,a,r){let o=t[r++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),f=r>=t.length;return o=!o&&Oe.isArray(a)?a.length:o,f?(Oe.hasOwnProp(a,o)?a[o]=[a[o],i]:a[o]=i,!c):((!a[o]||!Oe.isObject(a[o]))&&(a[o]=[]),e(t,i,a[o],r)&&Oe.isArray(a[o])&&(a[o]=zse(a[o])),!c)}if(Oe.isFormData(n)&&Oe.isFunction(n.entries)){const t={};return Oe.forEachEntry(n,(i,a)=>{e(Pse(i),a,t,0)}),t}return null}function Bse(n,e,t){if(Oe.isString(n))try{return(e||JSON.parse)(n),Oe.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const ey={transitional:TB,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,r=Oe.isObject(e);if(r&&Oe.isHTMLForm(e)&&(e=new FormData(e)),Oe.isFormData(e))return a?JSON.stringify(AB(e)):e;if(Oe.isArrayBuffer(e)||Oe.isBuffer(e)||Oe.isStream(e)||Oe.isFile(e)||Oe.isBlob(e)||Oe.isReadableStream(e))return e;if(Oe.isArrayBufferView(e))return e.buffer;if(Oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Use(e,this.formSerializer).toString();if((c=Oe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return _1(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),Bse(e)):e}],transformResponse:[function(e){const t=this.transitional||ey.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Oe.isResponse(e)||Oe.isReadableStream(e))return e;if(e&&Oe.isString(e)&&(i&&!this.responseType||a)){const o=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?xn.from(c,xn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],n=>{ey.headers[n]={}});const Ise=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fse=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(o){a=o.indexOf(":"),t=o.substring(0,a).trim().toLowerCase(),i=o.substring(a+1).trim(),!(!t||e[t]&&Ise[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},aO=Symbol("internals");function Tg(n){return n&&String(n).trim().toLowerCase()}function Kb(n){return n===!1||n==null?n:Oe.isArray(n)?n.map(Kb):String(n)}function Vse(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const kse=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function $E(n,e,t,i,a){if(Oe.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!Oe.isString(e)){if(Oe.isString(i))return e.indexOf(i)!==-1;if(Oe.isRegExp(i))return i.test(e)}}function Hse(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function jse(n,e){const t=Oe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,r,o){return this[i].call(this,e,a,r,o)},configurable:!0})})}let us=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function r(c,f,d){const m=Tg(f);if(!m)throw new Error("header name must be a non-empty string");const g=Oe.findKey(a,m);(!g||a[g]===void 0||d===!0||d===void 0&&a[g]!==!1)&&(a[g||f]=Kb(c))}const o=(c,f)=>Oe.forEach(c,(d,m)=>r(d,m,f));if(Oe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Oe.isString(e)&&(e=e.trim())&&!kse(e))o(Fse(e),t);else if(Oe.isObject(e)&&Oe.isIterable(e)){let c={},f,d;for(const m of e){if(!Oe.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[d=m[0]]=(f=c[d])?Oe.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}o(c,t)}else e!=null&&r(t,e,i);return this}get(e,t){if(e=Tg(e),e){const i=Oe.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return Vse(a);if(Oe.isFunction(t))return t.call(this,a,i);if(Oe.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tg(e),e){const i=Oe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||$E(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function r(o){if(o=Tg(o),o){const c=Oe.findKey(i,o);c&&(!t||$E(i,i[c],c,t))&&(delete i[c],a=!0)}}return Oe.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const r=t[i];(!e||$E(this,this[r],r,e,!0))&&(delete this[r],a=!0)}return a}normalize(e){const t=this,i={};return Oe.forEach(this,(a,r)=>{const o=Oe.findKey(i,r);if(o){t[o]=Kb(a),delete t[r];return}const c=e?Hse(r):String(r).trim();c!==r&&delete t[r],t[c]=Kb(a),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Oe.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&Oe.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[aO]=this[aO]={accessors:{}}).accessors,a=this.prototype;function r(o){const c=Tg(o);i[c]||(jse(a,o),i[c]=!0)}return Oe.isArray(e)?e.forEach(r):r(e),this}};us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(us.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Oe.freezeMethods(us);function ew(n,e){const t=this||ey,i=e||t,a=us.from(i.headers);let r=i.data;return Oe.forEach(n,function(c){r=c.call(t,r,a.normalize(),e?e.status:void 0)}),a.normalize(),r}function CB(n){return!!(n&&n.__CANCEL__)}function Um(n,e,t){xn.call(this,n??"canceled",xn.ERR_CANCELED,e,t),this.name="CanceledError"}Oe.inherits(Um,xn,{__CANCEL__:!0});function RB(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new xn("Request failed with status code "+t.status,[xn.ERR_BAD_REQUEST,xn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Gse(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Xse(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,r=0,o;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),m=i[r];o||(o=d),t[a]=f,i[a]=d;let g=r,y=0;for(;g!==a;)y+=t[g++],g=g%n;if(a=(a+1)%n,a===r&&(r=(r+1)%n),d-o<e)return;const b=m&&d-m;return b?Math.round(y*1e3/b):void 0}}function qse(n,e){let t=0,i=1e3/e,a,r;const o=(d,m=Date.now())=>{t=m,a=null,r&&(clearTimeout(r),r=null),n(...d)};return[(...d)=>{const m=Date.now(),g=m-t;g>=i?o(d,m):(a=d,r||(r=setTimeout(()=>{r=null,o(a)},i-g)))},()=>a&&o(a)]}const hS=(n,e,t=3)=>{let i=0;const a=Xse(50,250);return qse(r=>{const o=r.loaded,c=r.lengthComputable?r.total:void 0,f=o-i,d=a(f),m=o<=c;i=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:f,rate:d||void 0,estimated:d&&c&&m?(c-o)/d:void 0,event:r,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(g)},t)},rO=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},sO=n=>(...e)=>Oe.asap(()=>n(...e)),Wse=gr.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,gr.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(gr.origin),gr.navigator&&/(msie|trident)/i.test(gr.navigator.userAgent)):()=>!0,Yse=gr.hasStandardBrowserEnv?{write(n,e,t,i,a,r,o){if(typeof document>"u")return;const c=[`${n}=${encodeURIComponent(e)}`];Oe.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),Oe.isString(i)&&c.push(`path=${i}`),Oe.isString(a)&&c.push(`domain=${a}`),r===!0&&c.push("secure"),Oe.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Kse(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Zse(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function NB(n,e,t){let i=!Kse(e);return n&&(i||t==!1)?Zse(n,e):e}const oO=n=>n instanceof us?{...n}:n;function Qd(n,e){e=e||{};const t={};function i(d,m,g,y){return Oe.isPlainObject(d)&&Oe.isPlainObject(m)?Oe.merge.call({caseless:y},d,m):Oe.isPlainObject(m)?Oe.merge({},m):Oe.isArray(m)?m.slice():m}function a(d,m,g,y){if(Oe.isUndefined(m)){if(!Oe.isUndefined(d))return i(void 0,d,g,y)}else return i(d,m,g,y)}function r(d,m){if(!Oe.isUndefined(m))return i(void 0,m)}function o(d,m){if(Oe.isUndefined(m)){if(!Oe.isUndefined(d))return i(void 0,d)}else return i(void 0,m)}function c(d,m,g){if(g in e)return i(d,m);if(g in n)return i(void 0,d)}const f={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,m,g)=>a(oO(d),oO(m),g,!0)};return Oe.forEach(Object.keys({...n,...e}),function(m){const g=f[m]||a,y=g(n[m],e[m],m);Oe.isUndefined(y)&&g!==c||(t[m]=y)}),t}const DB=n=>{const e=Qd({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:r,headers:o,auth:c}=e;if(e.headers=o=us.from(o),e.url=wB(NB(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Oe.isFormData(t)){if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(t.getHeaders)){const f=t.getHeaders(),d=["content-type","content-length"];Object.entries(f).forEach(([m,g])=>{d.includes(m.toLowerCase())&&o.set(m,g)})}}if(gr.hasStandardBrowserEnv&&(i&&Oe.isFunction(i)&&(i=i(e)),i||i!==!1&&Wse(e.url))){const f=a&&r&&Yse.read(r);f&&o.set(a,f)}return e},Jse=typeof XMLHttpRequest<"u",Qse=Jse&&function(n){return new Promise(function(t,i){const a=DB(n);let r=a.data;const o=us.from(a.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:d}=a,m,g,y,b,_;function T(){b&&b(),_&&_(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function S(){if(!E)return;const D=us.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),F={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:D,config:n,request:E};RB(function(L){t(L),T()},function(L){i(L),T()},F),E=null}"onloadend"in E?E.onloadend=S:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(S)},E.onabort=function(){E&&(i(new xn("Request aborted",xn.ECONNABORTED,n,E)),E=null)},E.onerror=function(U){const F=U&&U.message?U.message:"Network Error",P=new xn(F,xn.ERR_NETWORK,n,E);P.event=U||null,i(P),E=null},E.ontimeout=function(){let U=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const F=a.transitional||TB;a.timeoutErrorMessage&&(U=a.timeoutErrorMessage),i(new xn(U,F.clarifyTimeoutError?xn.ETIMEDOUT:xn.ECONNABORTED,n,E)),E=null},r===void 0&&o.setContentType(null),"setRequestHeader"in E&&Oe.forEach(o.toJSON(),function(U,F){E.setRequestHeader(F,U)}),Oe.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),c&&c!=="json"&&(E.responseType=a.responseType),d&&([y,_]=hS(d,!0),E.addEventListener("progress",y)),f&&E.upload&&([g,b]=hS(f),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(m=D=>{E&&(i(!D||D.type?new Um(null,n,E):D),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const R=Gse(a.url);if(R&&gr.protocols.indexOf(R)===-1){i(new xn("Unsupported protocol "+R+":",xn.ERR_BAD_REQUEST,n));return}E.send(r||null)})},$se=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const r=function(d){if(!a){a=!0,c();const m=d instanceof Error?d:this.reason;i.abort(m instanceof xn?m:new Um(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,r(new xn(`timeout ${e} of ms exceeded`,xn.ETIMEDOUT))},e);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),n=null)};n.forEach(d=>d.addEventListener("abort",r));const{signal:f}=i;return f.unsubscribe=()=>Oe.asap(c),f}},eoe=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},toe=async function*(n,e){for await(const t of noe(n))yield*eoe(t,e)},noe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},lO=(n,e,t,i)=>{const a=toe(n,e);let r=0,o,c=f=>{o||(o=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:d,value:m}=await a.next();if(d){c(),f.close();return}let g=m.byteLength;if(t){let y=r+=g;t(y)}f.enqueue(new Uint8Array(m))}catch(d){throw c(d),d}},cancel(f){return c(f),a.return()}},{highWaterMark:2})},cO=64*1024,{isFunction:Cb}=Oe,ioe=(({Request:n,Response:e})=>({Request:n,Response:e}))(Oe.global),{ReadableStream:uO,TextEncoder:fO}=Oe.global,dO=(n,...e)=>{try{return!!n(...e)}catch{return!1}},aoe=n=>{n=Oe.merge.call({skipUndefined:!0},ioe,n);const{fetch:e,Request:t,Response:i}=n,a=e?Cb(e):typeof fetch=="function",r=Cb(t),o=Cb(i);if(!a)return!1;const c=a&&Cb(uO),f=a&&(typeof fO=="function"?(_=>T=>_.encode(T))(new fO):async _=>new Uint8Array(await new t(_).arrayBuffer())),d=r&&c&&dO(()=>{let _=!1;const T=new t(gr.origin,{body:new uO,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!T}),m=o&&c&&dO(()=>Oe.isReadableStream(new i("").body)),g={stream:m&&(_=>_.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!g[_]&&(g[_]=(T,E)=>{let S=T&&T[_];if(S)return S.call(T);throw new xn(`Response type '${_}' is not supported`,xn.ERR_NOT_SUPPORT,E)})});const y=async _=>{if(_==null)return 0;if(Oe.isBlob(_))return _.size;if(Oe.isSpecCompliantForm(_))return(await new t(gr.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(_)||Oe.isArrayBuffer(_))return _.byteLength;if(Oe.isURLSearchParams(_)&&(_=_+""),Oe.isString(_))return(await f(_)).byteLength},b=async(_,T)=>{const E=Oe.toFiniteNumber(_.getContentLength());return E??y(T)};return async _=>{let{url:T,method:E,data:S,signal:R,cancelToken:D,timeout:U,onDownloadProgress:F,onUploadProgress:P,responseType:L,headers:B,withCredentials:I="same-origin",fetchOptions:V}=DB(_),W=e||fetch;L=L?(L+"").toLowerCase():"text";let te=$se([R,D&&D.toAbortSignal()],U),ne=null;const ie=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let oe;try{if(P&&d&&E!=="get"&&E!=="head"&&(oe=await b(B,S))!==0){let K=new t(T,{method:"POST",body:S,duplex:"half"}),le;if(Oe.isFormData(S)&&(le=K.headers.get("content-type"))&&B.setContentType(le),K.body){const[_e,Se]=rO(oe,hS(sO(P)));S=lO(K.body,cO,_e,Se)}}Oe.isString(I)||(I=I?"include":"omit");const H=r&&"credentials"in t.prototype,q={...V,signal:te,method:E.toUpperCase(),headers:B.normalize().toJSON(),body:S,duplex:"half",credentials:H?I:void 0};ne=r&&new t(T,q);let G=await(r?W(ne,V):W(T,q));const ee=m&&(L==="stream"||L==="response");if(m&&(F||ee&&ie)){const K={};["status","statusText","headers"].forEach(je=>{K[je]=G[je]});const le=Oe.toFiniteNumber(G.headers.get("content-length")),[_e,Se]=F&&rO(le,hS(sO(F),!0))||[];G=new i(lO(G.body,cO,_e,()=>{Se&&Se(),ie&&ie()}),K)}L=L||"text";let ue=await g[Oe.findKey(g,L)||"text"](G,_);return!ee&&ie&&ie(),await new Promise((K,le)=>{RB(K,le,{data:ue,headers:us.from(G.headers),status:G.status,statusText:G.statusText,config:_,request:ne})})}catch(H){throw ie&&ie(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new xn("Network Error",xn.ERR_NETWORK,_,ne),{cause:H.cause||H}):xn.from(H,H&&H.code,_,ne)}}},roe=new Map,OB=n=>{let e=n&&n.env||{};const{fetch:t,Request:i,Response:a}=e,r=[i,a,t];let o=r.length,c=o,f,d,m=roe;for(;c--;)f=r[c],d=m.get(f),d===void 0&&m.set(f,d=c?new Map:aoe(e)),m=d;return d};OB();const AA={http:Sse,xhr:Qse,fetch:{get:OB}};Oe.forEach(AA,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const hO=n=>`- ${n}`,soe=n=>Oe.isFunction(n)||n===null||n===!1;function ooe(n,e){n=Oe.isArray(n)?n:[n];const{length:t}=n;let i,a;const r={};for(let o=0;o<t;o++){i=n[o];let c;if(a=i,!soe(i)&&(a=AA[(c=String(i)).toLowerCase()],a===void 0))throw new xn(`Unknown adapter '${c}'`);if(a&&(Oe.isFunction(a)||(a=a.get(e))))break;r[c||"#"+o]=a}if(!a){const o=Object.entries(r).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(hO).join(`
`):" "+hO(o[0]):"as no adapter specified";throw new xn("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const LB={getAdapter:ooe,adapters:AA};function tw(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Um(null,n)}function pO(n){return tw(n),n.headers=us.from(n.headers),n.data=ew.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),LB.getAdapter(n.adapter||ey.adapter,n)(n).then(function(i){return tw(n),i.data=ew.call(n,n.transformResponse,i),i.headers=us.from(i.headers),i},function(i){return CB(i)||(tw(n),i&&i.response&&(i.response.data=ew.call(n,n.transformResponse,i.response),i.response.headers=us.from(i.response.headers))),Promise.reject(i)})}const UB="1.13.2",S1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{S1[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const mO={};S1.transitional=function(e,t,i){function a(r,o){return"[Axios v"+UB+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,c)=>{if(e===!1)throw new xn(a(o," has been removed"+(t?" in "+t:"")),xn.ERR_DEPRECATED);return t&&!mO[o]&&(mO[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,c):!0}};S1.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function loe(n,e,t){if(typeof n!="object")throw new xn("options must be an object",xn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const r=i[a],o=e[r];if(o){const c=n[r],f=c===void 0||o(c,r,n);if(f!==!0)throw new xn("option "+r+" must be "+f,xn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xn("Unknown option "+r,xn.ERR_BAD_OPTION)}}const Zb={assertOptions:loe,validators:S1},Nl=Zb.validators;let jd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new iO,response:new iO}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const r=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qd(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:r}=t;i!==void 0&&Zb.assertOptions(i,{silentJSONParsing:Nl.transitional(Nl.boolean),forcedJSONParsing:Nl.transitional(Nl.boolean),clarifyTimeoutError:Nl.transitional(Nl.boolean)},!1),a!=null&&(Oe.isFunction(a)?t.paramsSerializer={serialize:a}:Zb.assertOptions(a,{encode:Nl.function,serialize:Nl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zb.assertOptions(t,{baseUrl:Nl.spelling("baseURL"),withXsrfToken:Nl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&Oe.merge(r.common,r[t.method]);r&&Oe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete r[_]}),t.headers=us.concat(o,r);const c=[];let f=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(f=f&&T.synchronous,c.unshift(T.fulfilled,T.rejected))});const d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected)});let m,g=0,y;if(!f){const _=[pO.bind(this),void 0];for(_.unshift(...c),_.push(...d),y=_.length,m=Promise.resolve(t);g<y;)m=m.then(_[g++],_[g++]);return m}y=c.length;let b=t;for(;g<y;){const _=c[g++],T=c[g++];try{b=_(b)}catch(E){T.call(this,E);break}}try{m=pO.call(this,b)}catch(_){return Promise.reject(_)}for(g=0,y=d.length;g<y;)m=m.then(d[g++],d[g++]);return m}getUri(e){e=Qd(this.defaults,e);const t=NB(e.baseURL,e.url,e.allowAbsoluteUrls);return wB(t,e.params,e.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(e){jd.prototype[e]=function(t,i){return this.request(Qd(i||{},{method:e,url:t,data:(i||{}).data}))}});Oe.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,c){return this.request(Qd(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}jd.prototype[e]=t(),jd.prototype[e+"Form"]=t(!0)});let coe=class PB{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(a=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](a);i._listeners=null}),this.promise.then=a=>{let r;const o=new Promise(c=>{i.subscribe(c),r=c}).then(a);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,c){i.reason||(i.reason=new Um(r,o,c),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new PB(function(a){e=a}),cancel:e}}};function uoe(n){return function(t){return n.apply(null,t)}}function foe(n){return Oe.isObject(n)&&n.isAxiosError===!0}const fT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fT).forEach(([n,e])=>{fT[e]=n});function zB(n){const e=new jd(n),t=hB(jd.prototype.request,e);return Oe.extend(t,jd.prototype,e,{allOwnKeys:!0}),Oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return zB(Qd(n,a))},t}const Qi=zB(ey);Qi.Axios=jd;Qi.CanceledError=Um;Qi.CancelToken=coe;Qi.isCancel=CB;Qi.VERSION=UB;Qi.toFormData=_1;Qi.AxiosError=xn;Qi.Cancel=Qi.CanceledError;Qi.all=function(e){return Promise.all(e)};Qi.spread=uoe;Qi.isAxiosError=foe;Qi.mergeConfig=Qd;Qi.AxiosHeaders=us;Qi.formToJSON=n=>AB(Oe.isHTMLForm(n)?new FormData(n):n);Qi.getAdapter=LB.getAdapter;Qi.HttpStatusCode=fT;Qi.default=Qi;const{Axios:Qoe,AxiosError:$oe,CanceledError:ele,isCancel:tle,CancelToken:nle,VERSION:ile,all:ale,Cancel:rle,isAxiosError:sle,spread:ole,toFormData:lle,AxiosHeaders:cle,HttpStatusCode:ule,formToJSON:fle,getAdapter:dle,mergeConfig:hle}=Qi,doe="/user";async function io(n,e,t){try{return(await Qi.post(`${doe}/${n}/${e}`,t,{withCredentials:!0})).data}catch(i){throw console.error("User modification error:",i),i}}function dT({expert:n}){const e=sessionStorage.getItem("userData")||JSON.stringify({isResearcher:!1}),t=JSON.parse(e).isResearcher||!1,[i,a]=O.useState(!1),[r,o]=O.useState(!1),[c,f]=O.useState(!1),[d,m]=O.useState(!1),[g,y]=O.useState(""),{id:b,name:_,qualification:T,college:E,bio:S,specialties:R,researchInterests:D,homepage:U,score:F=0}=n,[P,L]=O.useState({date:"",time:"",topic:""}),B=t?"Collaboration":"Connection",I=ne=>{const{name:ie,value:oe}=ne.target;L(H=>({...H,[ie]:oe}))},V=async()=>{c?(await io("remove","expert",{uid:b}),f(!1)):(await io("add","expert",{expert:n}),f(!0))},W=async()=>{if(!g.trim()){alert("Please write a short message before sending.");return}d?(await io("remove","connection",{id:b}),m(!1)):(await io("add","connection",{expert:n,message:g,id:b}),m(!0)),y(""),o(!1)},te=async()=>{if(!P.date||!P.time||!P.topic){alert("Fill all meeting details first!");return}await io("add","meeting",{expertName:_,...P,id:b}),a(!1),L({date:"",time:"",topic:""})};return A.jsxs(Zi.div,{whileHover:{scale:1.02},transition:{duration:.25},className:"w-full max-w-3xl bg-indigo-50 dark:bg-neutral-900 border border-indigo-200 dark:border-neutral-700 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 p-6 mb-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("a",{href:U||"#",target:"_blank",rel:"noopener noreferrer",className:"text-2xl font-semibold text-indigo-900 dark:text-indigo-100 flex items-center gap-2 hover:underline",children:[A.jsx(w7,{className:"w-5 h-5 text-indigo-500 dark:text-indigo-400"}),_]}),A.jsx(J5,{className:"bg-indigo-100 text-indigo-700 dark:bg-indigo-700 dark:text-indigo-200 text-xs px-3 py-1 rounded-full",children:T})]}),A.jsxs("div",{className:"flex items-center gap-2 mb-2 text-indigo-700 dark:text-indigo-300",children:[A.jsx(Lx,{className:"w-4 h-4 text-indigo-500 dark:text-indigo-400"}),A.jsx("span",{className:"text-sm font-medium",children:E})]}),A.jsx("p",{className:"text-indigo-800 dark:text-indigo-200 mb-3 leading-relaxed",children:S}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:"flex justify-between mb-1 text-sm font-medium text-indigo-700 dark:text-indigo-200",children:[A.jsx("span",{children:"Match Score"}),A.jsxs("span",{children:[F,"%"]})]}),A.jsx("div",{className:"w-full bg-indigo-200 dark:bg-neutral-700 h-2 rounded-full relative overflow-hidden",children:A.jsx("div",{className:"h-2 rounded-full transition-all duration-500 bg-indigo-600 dark:bg-indigo-400 shadow-[0_0_10px_2px_rgba(129,140,248,0.7)]",style:{width:`${F}%`}})})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("h4",{className:"text-sm font-semibold text-indigo-900 dark:text-indigo-100 mb-2",children:"Specialties:"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((ne,ie)=>A.jsx("span",{className:"bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-50 text-xs px-3 py-1 rounded-full",children:ne},ie))})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("h4",{className:"text-sm font-semibold text-indigo-900 dark:text-indigo-100 mb-2",children:"Research Interests:"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((ne,ie)=>A.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-700 text-indigo-700 dark:text-indigo-50 text-xs px-3 py-1 rounded-md",children:ne},ie))})]}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-4",children:[A.jsxs(lS,{open:r,onOpenChange:o,children:[A.jsx(cS,{asChild:!0,children:A.jsx(Sn,{className:"bg-indigo-600 hover:bg-indigo-700 text-white w-full sm:w-auto",children:d?`Remove ${B}`:`Request ${B}`})}),A.jsxs(uS,{className:"max-w-md bg-white dark:bg-neutral-900 p-6 rounded-2xl",children:[A.jsx(fS,{children:A.jsxs(dS,{children:["Send ",B," Request"]})}),A.jsxs("div",{className:"space-y-4 py-4",children:[A.jsx(Mi,{children:"Message"}),A.jsx(_i,{placeholder:"Write a warm message...",value:g,onChange:ne=>y(ne.target.value)})]}),A.jsx($D,{children:A.jsx(Sn,{onClick:W,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Send Request"})})]})]}),A.jsx(Sn,{variant:"outline",className:"border-indigo-500 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-neutral-800 w-full sm:w-auto",onClick:V,children:c?"Unfollow":"Follow"}),A.jsxs(lS,{open:i,onOpenChange:a,children:[A.jsx(cS,{asChild:!0,children:A.jsx(Sn,{className:"bg-indigo-900 dark:bg-indigo-700 hover:bg-indigo-800 text-white w-full sm:w-auto",children:"Schedule Meeting"})}),A.jsxs(uS,{className:"max-w-md bg-white dark:bg-neutral-900 p-6 rounded-2xl",children:[A.jsx(fS,{children:A.jsxs(dS,{children:["Schedule Meeting with ",_]})}),A.jsxs("div",{className:"space-y-3 py-4",children:[A.jsxs("div",{children:[A.jsx(Mi,{children:"Date"}),A.jsx(_i,{type:"date",name:"date",value:P.date,onChange:I})]}),A.jsxs("div",{children:[A.jsx(Mi,{children:"Time"}),A.jsx(_i,{type:"time",name:"time",value:P.time,onChange:I})]}),A.jsxs("div",{children:[A.jsx(Mi,{children:"Topic"}),A.jsx(_i,{placeholder:"Enter discussion topic",name:"topic",value:P.topic,onChange:I})]})]}),A.jsx($D,{children:A.jsx(Sn,{onClick:te,className:"bg-indigo-600 hover:bg-indigo-700",children:"Confirm Meeting"})})]})]})]})]})}async function hoe(){try{const n=await fetch("/user/info",{method:"GET",credentials:"include"});if(!n.ok)throw new Error("User fetch failed");return await n.json()}catch(n){return console.error("fetchUser error:",n),null}}async function poe(n){try{const e=await fetch(`/trials?pageSize=2&specialties=${n?.specialties?.join(",")}`,{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Trials fetch failed");return await e.json()}catch(e){return console.error("fetchTrials error:",e),{trials:[]}}}async function moe(n){try{const e=await fetch(`/publications?page=1&q=${n?.specialties?.[0]||"general"}`,{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Publications fetch failed");return await e.json()}catch(e){return console.error("fetchPublications error:",e),{results:[]}}}async function goe(n){try{const e=await fetch("/experts",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:2,specialties:n?.specialties})});if(!e.ok)throw new Error("Experts fetch failed");return await e.json()}catch(e){return console.error("fetchExperts error:",e),{results:[]}}}function xoe(){const n=uf(),[e,t]=O.useState(null),[i,a]=O.useState(null),[r,o]=O.useState(null),[c,f]=O.useState(null);return O.useEffect(()=>{async function d(){const m=await hoe();t(m.user);const[g,y,b]=await Promise.all([poe(m),moe(m),goe(m)]);a(g.trials||[]),o(y.results.slice(0,2)||[]),f(b.results.slice(0,2)||[])}d()},[]),A.jsxs("div",{className:"min-h-screen p-4 sm:p-6 text-gray-900 dark:text-gray-100",children:[A.jsxs(Zi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6 text-center",children:[A.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold mb-2 relative inline-block",children:A.jsxs("span",{className:"block",style:{textShadow:"0 6px 24px rgba(99,102,241,0.18)"},children:["Welcome Back, ",e?.fullName||"User","!"]})}),A.jsx("p",{className:"mx-auto text-sm sm:text-base max-w-2xl text-gray-600 dark:text-gray-300",children:"This is your homepage  curated trials, publications, and experts ready for you."})]}),A.jsxs(Zi.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6 p-3 rounded-2xl bg-gradient-to-r from-indigo-100 via-pink-100 to-purple-100 dark:from-indigo-800 dark:via-pink-700 dark:to-purple-900 shadow-md max-w-md mx-auto text-center",children:[A.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Your Info"}),A.jsxs("div",{className:"text-sm space-y-1",children:[e?.specialties?.length>0&&A.jsxs("p",{className:"font-semibold text-indigo-600 dark:text-indigo-300",style:{textShadow:"0 1px 3px rgba(99,102,241,0.6)"},children:["Specialties: ",e.specialties.join(", ")]}),e?.conditions?.length>0&&A.jsxs("p",{className:"font-semibold text-pink-600 dark:text-pink-400",style:{textShadow:"0 1px 3px rgba(236,72,153,0.6)"},children:["Conditions: ",e.conditions.join(", ")]}),e?.location&&A.jsxs("p",{className:"font-semibold text-purple-600 dark:text-purple-400",style:{textShadow:"0 1px 3px rgba(139,92,246,0.6)"},children:["Location: ",e.location]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-8 justify-center justify-items-center",children:[A.jsx(Rb,{icon:A.jsx(KU,{size:20}),label:"Clinical Trials",onClick:()=>n("/trials")}),A.jsx(Rb,{icon:A.jsx(H9,{size:20}),label:"Publications",onClick:()=>n("/publications")}),A.jsx(Rb,{icon:A.jsx(Nw,{size:20}),label:"Experts",onClick:()=>n("/experts")}),A.jsx(Rb,{icon:A.jsx(h7,{size:20}),label:"Forum",onClick:()=>n("/forum")})]}),A.jsx(nw,{title:"Recommended Trials",items:i||[],loading:i===null,navigateTo:"/trials",renderItem:d=>A.jsxs("div",{className:"relative w-full",children:[A.jsx("span",{className:"absolute top-2 left-2 text-xs font-bold text-yellow-400 bg-yellow-100 dark:bg-yellow-600 px-2 py-1 rounded-full shadow-md z-10",children:"Recommended"}),A.jsx("div",{className:"mt-4",children:A.jsxs("div",{className:"p-4 rounded-xl shadow-md bg-white dark:bg-gray-800",children:[A.jsx("h3",{className:"font-semibold text-lg",children:d.title}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:d.description.slice(0,300)})]})})]},d?.uid||d?.id)}),A.jsx(nw,{title:"Recommended Publications",items:r||[],loading:r===null,navigateTo:"/publications",renderItem:d=>A.jsxs("div",{className:"relative w-full",children:[A.jsx("span",{className:"absolute top-2 left-2 text-xs font-bold text-yellow-400 bg-yellow-100 dark:bg-yellow-600 px-2 py-1 rounded-full shadow-md z-10",children:"Recommended"}),A.jsx("div",{className:"mt-4",children:A.jsxs("div",{className:"p-4 rounded-xl shadow-md bg-white dark:bg-gray-800",children:[A.jsx("h3",{className:"font-semibold text-lg",children:d.title}),A.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[d.abstract?.slice(0,100),"..."]})]})})]},d?.id)}),A.jsx(nw,{title:"Recommended Experts",items:c||[],loading:c===null,navigateTo:"/experts",renderItem:d=>A.jsx(dT,{expert:d},d?.id)})]})}function Rb({icon:n,label:e,onClick:t}){return A.jsxs("button",{className:"cursor-pointer w-40 bg-gradient-to-r from-indigo-600 to-pink-500 text-white p-2 rounded-lg shadow-md flex items-center gap-2 justify-center text-sm",onClick:t,type:"button",children:[A.jsx("div",{className:"opacity-90",children:n}),A.jsx("span",{children:e})]})}function yoe(){return A.jsx("div",{className:"animate-pulse h-36 bg-gray-200 dark:bg-gray-700 rounded-xl w-full"})}function nw({title:n,items:e,loading:t,navigateTo:i,renderItem:a}){const r=uf();return A.jsxs("div",{className:"mb-10",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-indigo-600 dark:text-indigo-400",children:n}),A.jsx("button",{onClick:()=>r(i),className:"px-3 py-1.5 rounded-md bg-gradient-to-r from-indigo-600 to-pink-500 text-white text-sm font-medium shadow",children:"View All"})]}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t?[1,2].map(o=>A.jsx(yoe,{},o)):e.map(a)})]})}const voe=[{value:"Immunology",label:"Immune"},{value:"Cardiology",label:"Heart"},{value:"Neurology",label:"Brain"},{value:"Oncology",label:"Cancer"},{value:"Pediatrics",label:"Kids"},{value:"Psychiatry",label:"Mental Health"},{value:"Dermatology",label:"Skin"},{value:"Endocrinology",label:"Hormones"},{value:"Gastroenterology",label:"Digestive Health"},{value:"Orthopedics",label:"Bones & Joints"},{value:"Ophthalmology",label:"Eyes"},{value:"Pulmonology",label:"Lungs"}];function boe(){const[n,e]=O.useState({fullName:"",email:"",password:"",location:"",specialties:[],customConditions:[],university:"",graduation:"",researchGate:"",orcid:""}),[t,i]=O.useState(""),[a,r]=O.useState([]),[o,c]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const T=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();T.user&&e({fullName:T.user.fullName||"",email:T.user.email||"",password:"",location:T.user.location||"",specialties:T.user.specialties||[],customConditions:T.user.customConditions||[],university:T.user.university||"",graduation:T.user.graduation||"",researchGate:T.user.researchGate||"",orcid:T.user.orcid||""})}catch(_){console.error("Error fetching user info:",_)}})()},[]);const f=b=>{e(_=>({..._,specialties:_.specialties.includes(b)?_.specialties.filter(T=>T!==b):[..._.specialties,b]}))},d=()=>{t.trim()&&(n.customConditions.includes(t.trim())||e(b=>({...b,customConditions:[...b.customConditions,t.trim()]})),i(""),r([]))},m=b=>{e(_=>({..._,customConditions:_.customConditions.filter(T=>T!==b)}))},g=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(b=>{e(_=>({..._,location:`${b.coords.latitude},${b.coords.longitude}`}))}):ro("error","Geolocation is not supported by your browser.")},y=async b=>{b.preventDefault(),c(!0);try{const _={fullName:n.fullName,email:n.email,password:n.password,location:n.location,specialties:n.specialties,customConditions:n.customConditions,university:n.university,graduation:n.graduation,researchGate:n.researchGate,orcid:n.orcid},T=await fetch("/user/update",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),E=await T.json();T.ok?(ro("success","Profile updated successfully!"),e(S=>({...S,password:""}))):ro("error",E.message||"Update failed")}catch(_){console.error("Error updating profile:",_),ro("error","Something went wrong. Try again.")}finally{c(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50 dark:bg-neutral-900",children:A.jsxs("div",{className:"max-w-3xl w-full bg-white dark:bg-neutral-800 shadow-2xl rounded-xl p-8 flex flex-col gap-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-center",children:"Edit Your Profile"}),A.jsx("p",{className:"text-center text-gray-500 dark:text-gray-300 mb-4",children:"Update your personal info, specialties, conditions, and health interests"}),A.jsxs("form",{onSubmit:y,className:"flex flex-col gap-6",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"Full Name"}),A.jsx(_i,{name:"fullName",value:n.fullName,onChange:b=>e({...n,fullName:b.target.value}),placeholder:"Full Name",required:!0})]}),A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"Email"}),A.jsx(_i,{type:"email",name:"email",value:n.email,onChange:b=>e({...n,email:b.target.value}),placeholder:"Email",required:!0})]})]}),A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"Password"}),A.jsx(_i,{type:"password",name:"password",value:n.password,onChange:b=>e({...n,password:b.target.value}),placeholder:"New Password"}),A.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave blank to keep current password"})]}),n.orcid.length>0&&A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"University"}),A.jsx(_i,{value:n.university,onChange:b=>e({...n,university:b.target.value}),placeholder:"Enter your university"})]}),A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"Graduation"}),A.jsx(_i,{value:n.graduation,onChange:b=>e({...n,graduation:b.target.value}),placeholder:"Enter your graduation (e.g., MD, PhD)"})]}),A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"ResearchGate URL"}),A.jsx(_i,{value:n.researchGate,onChange:b=>e({...n,researchGate:b.target.value}),placeholder:"Enter your ResearchGate URL"})]}),A.jsxs("div",{children:[A.jsx(Mi,{className:"pb-2",children:"ORCID"}),A.jsx(_i,{value:n.orcid,onChange:b=>e({...n,orcid:b.target.value}),placeholder:"Enter your ORCID number"})]})]}),A.jsxs("div",{className:"flex flex-col gap-6",children:[A.jsx("h2",{className:"text-2xl font-semibold",children:"Health Interests & Conditions"}),A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-3",children:voe.map(b=>A.jsx(Sn,{variant:n.specialties.includes(b.value)?"default":"outline",className:`flex justify-center items-center whitespace-nowrap rounded-xl px-4 py-2 text-[71%] text-indigo-600 dark:text-indigo-400 transition-all ${n.specialties.includes(b.value)?"bg-indigo-50 dark:bg-indigo-800 shadow-md hover:shadow-lg":"hover:shadow-md"}`,onClick:()=>f(b.value),children:b.label},b.value))}),A.jsxs("div",{className:"flex flex-col gap-2 relative",children:[A.jsx(Mi,{children:"Choose condition of interest"}),A.jsxs("div",{className:"relative flex gap-2",children:[A.jsx(_i,{placeholder:"Add custom condition",value:t,onChange:b=>{const _=b.target.value;if(i(_),!_.trim())return r([]);const T=vA.filter(E=>E.toLowerCase().startsWith(_.toLowerCase()));r(T)},className:"flex-1 rounded-xl border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all"}),A.jsx(Sn,{type:"button",onClick:d,className:"px-6 shadow-md hover:shadow-lg text-white bg-indigo-600 hover:bg-indigo-700",children:"Add"}),a.length>0&&A.jsx("ul",{className:"absolute z-50 mt-1 max-h-48 w-full overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md",children:a.map(b=>A.jsx("li",{className:"px-4 py-2 cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-700",onClick:()=>{i(b),r([])},children:b},b))})]}),A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.customConditions.map(b=>A.jsxs("div",{className:"flex items-center gap-1 bg-indigo-50 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-100 px-3 py-1 rounded-full shadow-md hover:shadow-lg transition-all",children:[b,A.jsx(Gd,{className:"w-4 h-4 cursor-pointer",onClick:()=>m(b)})]},b))})]}),A.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[A.jsx(Mi,{children:"Location"}),A.jsx(_i,{placeholder:"Your city or coordinates",value:n.location,onChange:b=>e({...n,location:b.target.value}),className:"rounded-xl border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all"}),A.jsx("div",{className:"flex justify-center mt-2",children:A.jsxs(Sn,{type:"button",onClick:g,className:"px-6 shadow-md hover:shadow-lg flex items-center gap-2 text-white bg-indigo-600 hover:bg-indigo-700",children:[A.jsx(Lx,{className:"w-4 h-4"})," Auto-detect location"]})})]})]}),A.jsx(Sn,{type:"submit",className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white shadow-md hover:shadow-lg transition-all",children:o?"Saving...":"Save Changes"})]})]})})}function _oe({trial:n,initialInterest:e}){const[t,i]=O.useState(e||!1),[a,r]=O.useState(!1),{uid:o,title:c,status:f,condition:d,description:m,eligibility:g,location:y,startDate:b,organizer:_,contactEmail:T}=n,E=async()=>{if(o){r(!0);try{const S=t?"remove":"add",R=o;await io(S,"trial",{uid:o,title:c,organizer:_,status:f,condition:d}),i(!t)}catch(S){console.error("Failed to toggle trial interest:",S)}finally{r(!1)}}};return A.jsxs(Zi.div,{whileHover:{scale:1.02},transition:{duration:.2},className:"w-full lg:w-[70%] bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-neutral-900 dark:to-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-2xl shadow-md hover:shadow-xl p-6 mx-auto mb-6 transition-all duration-200",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx(J5,{className:`${f.toLowerCase()==="recruiting"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200":"bg-gray-200 text-gray-700 dark:bg-gray-800 dark:text-gray-300"} text-sm font-medium px-3 py-1 rounded-full`,children:f}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["UID: ",o]})]}),A.jsx("h2",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-200 mb-3",children:c}),A.jsxs("p",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-300 mb-3",children:[A.jsxs("span",{className:"font-bold text-indigo-500 dark:text-indigo-400",children:["Condition:"," "]}),d]}),A.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",children:m.length>150?`${m.slice(0,350)}...`:m}),A.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[A.jsx(KU,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-1"}),A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[A.jsxs("span",{className:"font-semibold text-indigo-500 dark:text-indigo-400",children:["Eligibility:"," "]}),g.length>300?`${g.slice(0,1500)}...`:g]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-6 text-sm text-gray-600 dark:text-gray-300 mb-4",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Lx,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),A.jsx("span",{children:y})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(YU,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),A.jsxs("span",{children:["Start: ",b]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(u7,{className:"w-4 h-4 text-indigo-500 dark:text-indigo-300"}),T?A.jsx("a",{href:`mailto:${T}`,className:"text-indigo-700 dark:text-indigo-400 hover:underline",children:T}):A.jsx("span",{className:"italic text-gray-400",children:"No contact email listed"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(WU,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),A.jsx("span",{children:_})]})]}),A.jsx(Sn,{onClick:E,disabled:a,className:`w-full py-2 rounded-full font-semibold transition-all duration-200 ${t?"bg-red-600 hover:bg-red-700 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:a?"Processing...":t?"Remove Interest":"Express Interest"})]})}const Ag=()=>A.jsxs("div",{className:"animate-pulse bg-white dark:bg-neutral-800 shadow-md rounded-2xl p-6 w-full h-[220px]",children:[A.jsx("div",{className:"h-6 bg-gray-300 dark:bg-neutral-600 rounded w-3/4 mb-4"}),A.jsx("div",{className:"h-4 bg-gray-300 dark:bg-neutral-600 rounded w-1/2 mb-3"}),A.jsx("div",{className:"h-4 bg-gray-300 dark:bg-neutral-600 rounded w-2/3 mb-3"}),A.jsx("div",{className:"h-4 bg-gray-300 dark:bg-neutral-600 rounded w-1/3"})]});function gO(n,e=500){const[t,i]=O.useState(n);return O.useEffect(()=>{const a=setTimeout(()=>i(n),e);return()=>clearTimeout(a)},[n,e]),t}function Soe(){const[n,e]=O.useState(""),[t,i]=O.useState([]),[a,r]=O.useState(!1),[o,c]=O.useState(!0),[f,d]=O.useState(null),[m,g]=O.useState(""),[y,b]=O.useState(""),[_,T]=O.useState(""),[E,S]=O.useState([]),R=gO(n,400),D=gO(_,300),U=O.useCallback(async(P=!1)=>{try{r(!0);const L=new URLSearchParams;R&&L.append("search",R),m&&L.append("phase",m),y&&L.append("status",y),_&&L.append("location",_),!P&&f&&L.append("pageToken",f),L.append("pageSize",10);const I=await(await fetch(`/trials?${L.toString()}`,{credentials:"include"})).json();i(P?I.trials||[]:V=>[...V,...I.trials||[]]),d(I.pageToken||null),c(I.hasMore)}catch(L){console.error("Error fetching trials:",L)}finally{r(!1)}},[R,m,y,_,f]);O.useEffect(()=>{U(!0)},[R,m,y,_]),O.useEffect(()=>{if(!D){S([]);return}(async()=>{try{const I=(await(await fetch(`https://api.geoapify.com/v1/geocode/autocomplete?text=${D}&apiKey=YOUR_KEY`)).json()).features?.map(V=>V.properties.city||V.properties.name)||[];S(I.slice(0,5))}catch(L){console.error("City suggest error:",L)}})()},[D]);const F=()=>{const{scrollTop:P,scrollHeight:L,clientHeight:B}=document.documentElement;L-P<=B+120&&o&&!a&&U(!1)};return O.useEffect(()=>(window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[o,a,U]),A.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-neutral-900 dark:to-neutral-800 py-16",children:[A.jsxs("div",{className:"text-center mb-12 px-4",children:[A.jsx("h1",{className:"text-5xl font-extrabold text-indigo-900 dark:text-indigo-400 mb-3",children:"Search Clinical Trials"}),A.jsx("p",{className:"text-indigo-700 dark:text-indigo-300 text-lg max-w-2xl mx-auto",children:"Discover ongoing clinical studies across conditions, phases, and locations."})]}),A.jsxs("div",{className:"max-w-5xl mx-auto px-4 mb-10 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between bg-white dark:bg-neutral-800 shadow-md rounded-2xl p-5 transition-colors",children:[A.jsx("input",{type:"text",value:n,onChange:P=>e(P.target.value),placeholder:"Search for a condition...",className:"w-full sm:w-[55%] p-4 rounded-xl border border-gray-300 dark:border-neutral-600 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-neutral-700"}),A.jsxs("div",{className:"flex gap-4 flex-wrap sm:flex-nowrap mt-2 sm:mt-0",children:[A.jsxs("select",{value:m,onChange:P=>g(P.target.value),className:"p-3 rounded-xl border border-gray-300 dark:border-neutral-600 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 dark:bg-neutral-700 text-gray-900 dark:text-gray-100",children:[A.jsx("option",{value:"",children:"All Phases"}),A.jsx("option",{value:"Phase 1",children:"Phase 1"}),A.jsx("option",{value:"Phase 2",children:"Phase 2"}),A.jsx("option",{value:"Phase 3",children:"Phase 3"}),A.jsx("option",{value:"Phase 4",children:"Phase 4"})]}),A.jsxs("select",{value:y,onChange:P=>b(P.target.value),className:"p-3 rounded-xl border border-gray-300 dark:border-neutral-600 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 dark:bg-neutral-700 text-gray-900 dark:text-gray-100",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"Recruiting",children:"Recruiting"}),A.jsx("option",{value:"Completed",children:"Completed"}),A.jsx("option",{value:"NOT_RECRUITING",children:"Not_Recruiting"})]}),A.jsxs("div",{className:"relative w-full sm:w-auto",children:[A.jsx("input",{type:"text",value:_,onChange:P=>T(P.target.value),placeholder:"Location...",className:"p-3 w-full rounded-xl border border-gray-300 dark:border-neutral-600 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 dark:bg-neutral-700 text-gray-900 dark:text-gray-100"}),E.length>0&&A.jsx("div",{className:"absolute top-full left-0 right-0 bg-white dark:bg-neutral-700 shadow-lg rounded-xl mt-1 z-50 p-2 max-h-40 overflow-y-auto",children:E.map((P,L)=>A.jsx("div",{onClick:()=>{T(P),S([])},className:"p-2 cursor-pointer hover:bg-indigo-100 dark:hover:bg-neutral-600 rounded-lg",children:P},L))})]})]})]}),A.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-8 px-4",children:[t.map(P=>A.jsx("div",{className:"transition-transform duration-300 hover:scale-105 hover:shadow-2xl",children:A.jsx(_oe,{trial:P})},P.uid)),a&&t.length>0&&A.jsxs(A.Fragment,{children:[A.jsx(Ag,{}),A.jsx(Ag,{})]}),a&&t.length===0&&A.jsxs(A.Fragment,{children:[A.jsx(Ag,{}),A.jsx(Ag,{}),A.jsx(Ag,{})]}),!o&&!a&&A.jsx("p",{className:"text-center text-gray-400 dark:text-gray-500 text-lg",children:"No more trials to show."})]})]})}function xO({paper:n,initialInterest:e=!1}){const[t,i]=O.useState(e),[a,r]=O.useState(!1),o=Array.isArray(n.authors)?n.authors.map(m=>typeof m=="string"?m:m.name).join(", "):typeof n.authors=="string"?n.authors:"Unknown Author",c=n.pubDate||n.pubdate||"Unknown Date",f=n.abstract||"Abstract not available",d=async()=>{if(!a){r(!0);try{await io(t?"remove":"add","publication",{id:n.id,title:n.title,journal:n.journal||n.source||"Unknown Journal",year:c,url:n.url}),i(!t)}catch(m){console.error("Failed to toggle publication interest:",m)}finally{r(!1)}}};return A.jsx(Zi.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},whileHover:{y:-6,scale:1.01},className:`\r
        w-full md:w-[60%] mx-auto p-[2px] rounded-3xl \r
        bg-gradient-to-br from-indigo-500/40 via-indigo-600/30 to-indigo-700/40\r
        dark:from-indigo-900/40 dark:via-indigo-800/30 dark:to-indigo-700/30\r
        shadow-[0_8px_30px_rgb(0,0,0,0.15)]\r
      `,children:A.jsxs("div",{className:`\r
          relative w-full rounded-3xl p-6 backdrop-blur-xl \r
          bg-white/70 dark:bg-neutral-900/50\r
          border border-white/40 dark:border-white/10\r
          shadow-xl\r
        `,children:[A.jsx("button",{onClick:d,disabled:a,className:`\r
            absolute top-4 right-4 p-1 rounded-full backdrop-blur-md \r
            bg-white/60 dark:bg-black/40 shadow-sm hover:scale-110 \r
            transition-transform\r
          `,children:A.jsx(Rw,{fill:t?"currentColor":"none",strokeWidth:1.6,className:`w-5 h-5 ${t?"text-yellow-400":"text-gray-400"}`})}),A.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-3 leading-snug pr-10",children:n.title||"Untitled Publication"}),A.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-700 dark:text-gray-400 mb-4",children:[A.jsx("span",{className:"font-medium",children:o}),A.jsx("span",{children:""}),A.jsx("span",{children:c}),n.subject&&A.jsxs(A.Fragment,{children:[A.jsx("span",{children:""}),A.jsx("span",{className:"italic",children:n.subject})]})]}),n.summary&&A.jsx(Zi.div,{whileHover:{scale:1.01},transition:{duration:.2},className:`\r
              bg-white/60 dark:bg-neutral-800/60 \r
              backdrop-blur-md border border-white/40 dark:border-white/10 \r
              rounded-xl p-3 mb-4 shadow-sm\r
            `,children:A.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 leading-relaxed",children:n.summary})}),A.jsxs("div",{className:"mb-4",children:[A.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Abstract"}),A.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-300 leading-relaxed",children:f})]}),n.url&&A.jsxs(Zi.a,{href:n.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.03},className:`\r
              inline-flex items-center gap-2 text-indigo-700 dark:text-indigo-300 \r
              font-medium hover:underline\r
            `,children:[A.jsx($9,{className:"w-4 h-4"}),"View Original Publication"]}),A.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:(n.topics?.length?n.topics:["Research","Biology","Study"]).map((m,g)=>A.jsx(Zi.span,{whileHover:{scale:1.06},className:`\r
                  px-3 py-1 text-xs rounded-full \r
                  bg-indigo-200/70 dark:bg-indigo-800/60 \r
                  text-indigo-900 dark:text-indigo-200 \r
                  font-medium backdrop-blur-sm shadow\r
                `,children:m},g))})]})})}function Kp(){return A.jsxs("div",{className:`animate-pulse bg-white/50 dark:bg-neutral-800/40 backdrop-blur-md \r
                    border border-neutral-300/30 dark:border-neutral-700/30 \r
                    shadow-md rounded-2xl p-6 flex flex-col gap-4`,children:[A.jsx("div",{className:"h-6 w-2/3 bg-neutral-300/50 dark:bg-neutral-700/50 rounded"}),A.jsx("div",{className:"h-4 w-full bg-neutral-300/50 dark:bg-neutral-700/50 rounded"}),A.jsx("div",{className:"h-4 w-5/6 bg-neutral-300/50 dark:bg-neutral-700/50 rounded"}),A.jsx("div",{className:"h-4 w-1/3 bg-neutral-300/50 dark:bg-neutral-700/50 rounded mt-4"})]})}const Moe=["Nature","Science","Cell","The Lancet","NEJM","JAMA","BMJ","Cancer Research","AI in Medicine","IEEE Medical Imaging","Nature Medicine","Nature Biotechnology","Nature Genetics","Nature Neuroscience","Science Translational Medicine","Science Robotics","Science Advances","Cell Reports","Cell Stem Cell","Cell Metabolism","The Lancet Oncology","The Lancet Neurology","The Lancet Digital Health","The Lancet Infectious Diseases","PNAS","PLOS Medicine","PLOS Biology","eLife","Journal of Clinical Investigation","Clinical Cancer Research","Cancer Cell","Blood","Circulation","Gut","Diabetes Care","Radiology","NeuroImage","IEEE Transactions on Neural Networks","IEEE Transactions on Biomedical Engineering","Journal of Medical Internet Research"];function Eoe(){const[n,e]=O.useState("cancer"),[t,i]=O.useState(""),[a,r]=O.useState(""),[o,c]=O.useState([]),[f,d]=O.useState(!1),[m,g]=O.useState(1),[y,b]=O.useState(!1),[_,T]=O.useState(!0),[E,S]=O.useState([]),[R,D]=O.useState(!1),U=O.useRef(),F=O.useRef(),P=B=>B==="older"?"2020":B,L=async(B=1)=>{try{b(!0);const I=new URLSearchParams({q:n||"all",page:B});t&&I.append("year",P(t)),a&&I.append("journal",a);const W=await(await fetch(`/publications?${I.toString()}`)).json(),te=Array.isArray(W.results)?W.results:[];S(ne=>B===1?te:[...ne,...te]),D(!!W.hasMore),g(W.page??B),_&&T(!1)}catch(I){console.log("fetch error:",I),D(!1)}b(!1)};return O.useEffect(()=>{g(1),L(1)},[n,t,a]),O.useEffect(()=>{if(y||!R)return;const B=I=>{I[0].isIntersecting&&L(m+1)};return U.current=new IntersectionObserver(B,{threshold:1}),F.current&&U.current.observe(F.current),()=>U.current?.disconnect()},[y,R,m]),O.useEffect(()=>{if(!a){c([]);return}const B=Moe.filter(I=>I.toLowerCase().includes(a.toLowerCase()));c(B)},[a]),A.jsx("div",{className:"min-h-screen w-full p-6 bg-transparent text-black dark:text-white",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsx("h1",{className:"text-5xl font-extrabold text-center mb-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent animate-gradient",children:"Research Publications"}),A.jsx("p",{className:"text-center mb-6 opacity-70 text-lg",children:"Fetching scientific publication data directly from PubMed"}),A.jsxs(Zi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-br from-white/40 to-white/10 dark:from-neutral-900/40 dark:to-neutral-900/10 backdrop-blur-xl border border-neutral-300/40 dark:border-neutral-700/40 rounded-2xl p-6 shadow-xl mb-8",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Search Publications"}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 relative",children:[A.jsx("input",{value:n,onChange:B=>e(B.target.value),className:"w-full px-4 py-3 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl focus:ring focus:ring-indigo-300 outline-none",placeholder:"Search term (e.g., cancer, AI, cardiology)"}),A.jsxs("select",{value:t,onChange:B=>i(B.target.value),className:"px-4 py-3 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl w-full md:w-40",children:[A.jsx("option",{value:"2025",children:"2025"}),A.jsx("option",{value:"2024",children:"2024"}),A.jsx("option",{value:"2023",children:"2023"}),A.jsx("option",{value:"2022",children:"2022"}),A.jsx("option",{value:"2021",children:"2021"}),A.jsx("option",{value:"older",children:"Older"})]}),A.jsxs("div",{className:"relative w-full md:w-60",children:[A.jsx("input",{value:a,onChange:B=>{r(B.target.value),d(!0)},onFocus:()=>d(!0),className:"px-4 py-3 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl w-full",placeholder:"Journal name..."}),f&&o.length>0&&A.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg max-h-48 overflow-y-auto",children:o.map((B,I)=>A.jsx("div",{onClick:()=>{r(B),d(!1)},className:"px-4 py-2  z-50 hover:bg-neutral-200 dark:hover:bg-neutral-700 cursor-pointer",children:B},I))})]})]})]}),_&&A.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[A.jsx(Kp,{}),A.jsx(Kp,{}),A.jsx(Kp,{})]}),A.jsx("div",{className:"flex flex-col gap-8",children:(Array.isArray(E)?E:[]).map((B,I)=>I===E.length-1?A.jsx("div",{ref:F,children:A.jsx(xO,{paper:B})},B.id||I):A.jsx(xO,{paper:B},B.id||I))}),y&&!_&&A.jsx("div",{className:"flex flex-col gap-6 mt-6",children:A.jsx(Kp,{})})]})})}function woe(){const[n,e]=O.useState(""),[t,i]=O.useState(""),[a,r]=O.useState([]),[o,c]=O.useState(1),[f,d]=O.useState(!1),[m,g]=O.useState(!1),[y,b]=O.useState(!0),_=O.useRef(),T=O.useRef(),E=async(S=!1)=>{if(!m){g(!0);try{const R=await fetch("/experts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n||"",location:t||"",page:S?1:o}),credentials:"include"});if(!R.ok)throw new Error("Network response was not ok");const D=await R.json(),U=D.results;r(S?U:[...a,...U]),d(D.hasMore),c(S?2:o+1),y&&b(!1)}catch(R){console.error("Error fetching experts:",R)}finally{g(!1)}}};return O.useEffect(()=>{E(!0)},[n,t]),O.useEffect(()=>{if(m||!f)return;const S=R=>{R[0].isIntersecting&&E()};return _.current=new IntersectionObserver(S,{threshold:1}),T.current&&_.current.observe(T.current),()=>_.current?.disconnect()},[m,f]),A.jsx("div",{className:"min-h-screen w-full p-6 bg-transparent text-black dark:text-white",children:A.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.jsx("h1",{className:"text-5xl font-extrabold text-center mb-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent animate-gradient",children:"Find Experts"}),A.jsx("p",{className:"text-center mb-6 opacity-70 text-lg",children:"Discover experts dynamically by name or location"}),A.jsxs(Zi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col md:flex-row gap-4 mb-8",children:[A.jsx("input",{value:n,onChange:S=>e(S.target.value),placeholder:"Search by name or topic",className:"w-full px-4 py-3 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl focus:ring focus:ring-indigo-300 outline-none"}),A.jsx("input",{value:t,onChange:S=>i(S.target.value),placeholder:"Location",className:"w-full px-4 py-3 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl focus:ring focus:ring-indigo-300 outline-none"})]}),y&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:Array.from({length:4}).map((S,R)=>A.jsx(Kp,{},R))}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((S,R)=>R===a.length-1?A.jsx("div",{ref:T,children:A.jsx(dT,{expert:S})},S.id):A.jsx(dT,{expert:S},S.id))}),m&&!y&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:Array.from({length:2}).map((S,R)=>A.jsx(Kp,{},R))})]})})}function Toe(){const[n,e]=O.useState(null),[t,i]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const f=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();e(f.user||null)}catch(c){console.error("User fetch error:",c)}finally{i(!1)}})()},[]);const a=async o=>{try{await io("remove","trial",{uid:o}),e(c=>({...c,interestedTrials:c.interestedTrials.filter(f=>f.uid!==o)}))}catch(c){console.error("Remove trial error:",c)}};if(t)return A.jsxs("div",{className:"p-8 max-w-5xl mx-auto space-y-6 animate-pulse",children:[A.jsx("div",{className:"h-12 bg-gray-300 dark:bg-gray-700 rounded-xl w-2/3 mx-auto"}),A.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-700 rounded-xl w-1/2 mx-auto"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[...Array(4)].map((o,c)=>A.jsx("div",{className:"h-40 bg-gray-300 dark:bg-gray-700 rounded-2xl"},c))})]});if(!n)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mt-10",children:"No user logged in."});const r=n.interestedTrials||[];return A.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[A.jsxs("div",{className:"mb-10 text-center",children:[A.jsx("h1",{className:"text-4xl font-semibold tracking-tight bg-gradient-to-r from-purple-500 via-pink-500 to-orange-400 text-transparent bg-clip-text",children:"Interested Trials"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-3 text-lg",children:"These are the trials you've marked as important. Manage or remove them anytime."})]}),r.length===0?A.jsxs("div",{className:`\r
          text-center \r
          py-16 \r
          bg-white \r
          dark:bg-gray-800 \r
          border \r
          dark:border-gray-700 \r
          rounded-2xl \r
          shadow-sm\r
        `,children:[A.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-lg",children:"No interested trials yet."}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Start exploring trials and add the ones you want to follow."})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(o=>A.jsxs("div",{className:`\r
                bg-white \r
                dark:bg-gray-900\r
                rounded-2xl \r
                shadow-sm \r
                border \r
                dark:border-gray-700 \r
                hover:shadow-md \r
                transition-all \r
                p-6\r
              `,children:[A.jsx("h2",{className:"text-2xl font-medium text-gray-900 dark:text-gray-100",children:o.title||"Untitled Trial"}),o.condition&&A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-3 leading-relaxed",children:o.condition}),A.jsx("button",{onClick:()=>a(o.uid),className:`\r
                  mt-5 \r
                  bg-gray-900 \r
                  dark:bg-gray-700\r
                  text-white \r
                  px-4 \r
                  py-2 \r
                  rounded-xl \r
                  hover:bg-black \r
                  dark:hover:bg-gray-600\r
                  transition \r
                `,children:"Remove"})]},o.uid))})]})}function Aoe(){const[n,e]=O.useState(null),[t,i]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const f=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();e(f.user||null)}catch(c){console.error("User fetch error:",c)}finally{i(!1)}})()},[]);const a=async o=>{try{await io("remove","publication",{id:o}),e(c=>({...c,favoritePublications:c.favoritePublications.filter(f=>f.id!==o)}))}catch(c){console.error("Remove publication error:",c)}};if(t)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading"});if(!n)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No user logged in."});const r=n.favoritePublications||[];return A.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[A.jsxs("div",{className:"mb-10 text-center",children:[A.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-gray-900 dark:text-gray-100",children:"Saved Publications"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-3 text-lg",children:"All the research papers you care about  neatly stored here. Feel free to manage or remove them anytime."})]}),r.length===0?A.jsxs("div",{className:`\r
            text-center \r
            py-16 \r
            bg-white \r
            dark:bg-gray-800 \r
            border \r
            dark:border-gray-700 \r
            rounded-2xl \r
            shadow-sm\r
          `,children:[A.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-lg",children:"No saved publications yet."}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Start exploring research and save your favourite papers."})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(o=>A.jsxs("div",{className:`\r
                bg-white \r
                dark:bg-gray-900\r
                rounded-2xl \r
                shadow-sm \r
                border \r
                dark:border-gray-700 \r
                hover:shadow-md \r
                transition-all \r
                p-6\r
              `,children:[A.jsx("h2",{className:"text-2xl font-medium text-gray-900 dark:text-gray-100",children:o.title||"Untitled Publication"}),o.abstract&&A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-3 leading-relaxed",children:o.abstract.length>200?o.abstract.slice(0,200)+"...":o.abstract}),A.jsx("button",{onClick:()=>a(o.id),className:`\r
                  mt-5 \r
                  bg-gray-900 \r
                  dark:bg-gray-700\r
                  text-white \r
                  px-4 \r
                  py-2 \r
                  rounded-xl \r
                  hover:bg-black \r
                  dark:hover:bg-gray-600\r
                  transition \r
                `,children:"Remove"})]},o.id))})]})}function Coe(){const[n,e]=O.useState(null),[t,i]=O.useState(!0),[a,r]=O.useState("");O.useEffect(()=>{(async()=>{try{const m=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();e(m.user||null),console.log(m.user)}catch(d){console.error("User fetch error:",d)}finally{i(!1)}})()},[]);const o=async f=>{try{await io("remove","connection",{id:f}),e(d=>({...d,connectionRequests:d.connectionRequests.filter(m=>m.id!==f)}))}catch(d){console.error("Remove connection request error:",d)}};if(t)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading"});if(!n)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No user logged in."});const c=n.connectionRequests||[];return A.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[A.jsx("h1",{className:"text-4xl font-semibold text-center mb-4 text-gray-900 dark:text-gray-100",children:"Connection Requests"}),A.jsx("div",{className:"text-center mb-10",children:A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-3 text-lg",children:"Connect and chat with experts globally at your fingertips"})}),c.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"No connection requests at the moment."}):A.jsx("div",{className:"flex flex-col gap-6",children:c.map(f=>A.jsxs("div",{className:"bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-2xl shadow-sm p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-medium text-gray-900 dark:text-gray-100",children:f.expert.name||"Unknown Expert"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:f.message||"wants to connect with you."})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-3 md:mt-0",children:[A.jsxs(lS,{children:[A.jsx(cS,{asChild:!0,children:A.jsx(Sn,{className:"bg-indigo-600 hover:bg-indigo-700 text-white w-full sm:w-auto",children:"Chat"})}),A.jsxs(uS,{className:"max-w-md bg-white dark:bg-gray-900 p-6 rounded-2xl",children:[A.jsx(fS,{children:A.jsxs(dS,{children:["Chat with ",f.expert.name]})}),A.jsxs("div",{className:"mt-4 flex flex-col gap-3 h-60 overflow-y-auto border dark:border-gray-700 p-2 rounded-xl bg-gray-50 dark:bg-gray-800",children:[A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[A.jsxs("strong",{children:[f.expert.name,":"]})," Hello!"]}),A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[A.jsx("strong",{children:"You:"})," Hi, thanks for connecting."]})]}),A.jsxs("div",{className:"mt-4 flex gap-2",children:[A.jsx(_i,{placeholder:"Type a message...",value:a,onChange:d=>r(d.target.value)}),A.jsx(Sn,{onClick:()=>{r("")},className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Send"})]})]})]}),A.jsx(Sn,{onClick:()=>o(f.id),className:"bg-red-600 hover:bg-red-700 text-white w-full sm:w-auto",children:"Remove"})]})]},f.id))})]})}function Roe(){const[n,e]=O.useState(null),[t,i]=O.useState(!0);O.useEffect(()=>{(async()=>{try{const f=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();e(f.user||null)}catch(c){console.error("User fetch error:",c)}finally{i(!1)}})()},[]);const a=async o=>{try{await io("remove","meeting",{id:o}),e(c=>({...c,meetings:c.meetings.filter(f=>f.id!==o)}))}catch(c){console.error("Remove meeting error:",c)}};if(t)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading"});if(!n)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No user logged in."});const r=n.meetings||[];return A.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[A.jsx("h1",{className:"text-4xl font-semibold text-center mb-4 text-gray-900 dark:text-gray-100",children:"Scheduled Meetings"}),A.jsx("div",{className:"text-center mb-10",children:A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-3 text-lg",children:"View all your scheduled meetings with experts and manage them here."})}),r.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"No meetings scheduled at the moment."}):A.jsx("div",{className:"flex flex-col gap-6",children:r.map(o=>A.jsxs("div",{className:"bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-2xl shadow-sm p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-medium text-gray-900 dark:text-gray-100",children:o.expertName||"Unknown Expert"}),A.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Date: ",o.date," | Time: ",o.time]}),A.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Topic: ",o.topic||"No topic specified"]})]}),A.jsx("div",{className:"mt-3 md:mt-0",children:A.jsx(Sn,{onClick:()=>a(o.id),className:"bg-red-600 hover:bg-red-700 text-white w-full sm:w-auto",children:"Remove"})})]},o.id))})]})}function Noe(){const[n,e]=O.useState(null),[t,i]=O.useState(!0),[a,r]=O.useState("");O.useEffect(()=>{(async()=>{try{const m=await(await fetch("/user/info",{method:"GET",credentials:"include"})).json();e(m.user||null)}catch(d){console.error("User fetch error:",d)}finally{i(!1)}})()},[]);const o=async f=>{try{await io("remove","expert",{id:f}),e(d=>({...d,followedExperts:d.followedExperts.filter(m=>m.expert.id!==f)}))}catch(d){console.error("Unfollow error:",d)}};if(t)return A.jsx("div",{className:"p-8 max-w-5xl mx-auto space-y-6",children:[...Array(3)].map((f,d)=>A.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl p-6 animate-pulse h-28"},d))});if(!n)return A.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mt-10",children:"No user logged in."});const c=n.followedExperts||[];return A.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[A.jsx("h1",{className:"text-4xl font-semibold text-center mb-4 text-gray-900 dark:text-gray-100",children:"Followed Experts"}),A.jsx("div",{className:"text-center mb-10",children:A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-3 text-lg",children:"Keep track of the experts you follow and chat with them anytime."})}),c.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"You are not following any experts yet."}):A.jsx("div",{className:"flex flex-col gap-6",children:c.map(f=>A.jsxs("div",{className:"bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-2xl shadow-sm p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-medium text-gray-900 dark:text-gray-100",children:f.expert.name||"Unknown Expert"}),A.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:[f.expert.college||"No college info","  ",f.expert.degree||"No specialty"]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-3 md:mt-0",children:[A.jsxs(lS,{children:[A.jsx(cS,{asChild:!0,children:A.jsx(Sn,{className:"bg-indigo-600 hover:bg-indigo-700 text-white w-full sm:w-auto",children:"Chat"})}),A.jsxs(uS,{className:"max-w-md bg-white dark:bg-gray-900 p-6 rounded-2xl",children:[A.jsx(fS,{children:A.jsxs(dS,{children:["Chat with ",f.expert.name]})}),A.jsxs("div",{className:"mt-4 flex flex-col gap-3 h-60 overflow-y-auto border dark:border-gray-700 p-2 rounded-xl bg-gray-50 dark:bg-gray-800",children:[A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[A.jsxs("strong",{children:[f.expert.name,":"]})," Hello!"]}),A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[A.jsx("strong",{children:"You:"})," Hi, how are you?"]})]}),A.jsxs("div",{className:"mt-4 flex gap-2",children:[A.jsx(_i,{placeholder:"Type a message...",value:a,onChange:d=>r(d.target.value)}),A.jsx(Sn,{onClick:()=>r(""),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Send"})]})]})]}),A.jsx(Sn,{onClick:()=>o(f.expert.id),className:"bg-red-600 hover:bg-red-700 text-white w-full sm:w-auto",children:"Unfollow"})]})]},f.expert.id))})]})}var BB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yO=pr.createContext&&pr.createContext(BB),Doe=["attr","size","title"];function Ooe(n,e){if(n==null)return{};var t=Loe(n,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Loe(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function pS(){return pS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pS.apply(this,arguments)}function vO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function mS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(t),!0).forEach(function(i){Uoe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Uoe(n,e,t){return e=Poe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Poe(n){var e=zoe(n,"string");return typeof e=="symbol"?e:e+""}function zoe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IB(n){return n&&n.map((e,t)=>pr.createElement(e.tag,mS({key:t},e.attr),IB(e.child)))}function CA(n){return e=>pr.createElement(Boe,pS({attr:mS({},n.attr)},e),IB(n.child))}function Boe(n){var e=t=>{var{attr:i,size:a,title:r}=n,o=Ooe(n,Doe),c=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),pr.createElement("svg",pS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:f,style:mS(mS({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&pr.createElement("title",null,r),n.children)};return yO!==void 0?pr.createElement(yO.Consumer,null,t=>e(t)):e(BB)}function Ioe(n){return CA({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(n)}function Foe(n){return CA({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function Voe(n){return CA({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function koe(){const[n,e]=O.useState([]),[t,i]=O.useState("new"),[a,r]=O.useState(""),[o,c]=O.useState(!1),[f,d]=O.useState({title:"",question:"",topic:"Other"}),[m,g]=O.useState({}),[y,b]=O.useState({}),_=["Patient Experience","Clinical Question","Treatment Discussion","Medical Research","Case Study","Other"],T="YourUserName",E=Qi.create({baseURL:"/forum",withCredentials:!0}),S=async()=>{try{const P=await E.get("/posts",{params:{sort:t,topic:a}});e(P.data)}catch(P){console.error(P)}};O.useEffect(()=>{S()},[t,a]);const R=async P=>{P.preventDefault();try{await E.post("/post",f),c(!1),d({title:"",question:"",topic:"Other"}),S()}catch(L){console.error(L)}},D=async P=>{try{const L=P.likes.includes(T)?`/posts/${P._id}/unlike`:`/posts/${P._id}/like`;await E.post(L),e(B=>B.map(I=>I._id===P._id?{...I,likes:P.likes.includes(T)?I.likes.filter(V=>V!==T):[...I.likes,T],likeCount:P.likes.includes(T)?I.likeCount-1:(I.likeCount||0)+1}:I))}catch(L){console.error(L)}},U=async P=>{const L=m[P];if(L)try{await E.post(`/posts/${P}/comment`,{text:L}),g({...m,[P]:""}),e(B=>B.map(I=>I._id===P?{...I,comments:[...I.comments,{name:T,text:L}]}:I))}catch(B){console.error(B)}},F=P=>{b(L=>({...L,[P]:!L[P]}))};return A.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[A.jsx("h1",{className:"text-5xl font-bold mb-2 text-center bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 via-pink-500 to-yellow-500",children:"Forum"}),A.jsx("p",{className:"mb-8 text-center text-gray-700 dark:text-gray-300 max-w-2xl mx-auto text-lg",children:"Connect, chat, and read posts from other users. Share your experiences, ask questions, and join the discussion."}),A.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 mb-8",children:[A.jsxs("select",{value:t,onChange:P=>i(P.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[A.jsx("option",{value:"new",children:"Newest"}),A.jsx("option",{value:"old",children:"Oldest"}),A.jsx("option",{value:"mostLiked",children:"Most Liked"})]}),A.jsxs("select",{value:a,onChange:P=>r(P.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[A.jsx("option",{value:"",children:"All Topics"}),_.map(P=>A.jsx("option",{value:P,children:P},P))]}),A.jsx("button",{className:"bg-indigo-600 text-white p-3 rounded-full hover:bg-indigo-700 shadow-md",onClick:()=>c(!0),children:A.jsx(Voe,{size:18})})]}),A.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:n.map(P=>A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl transition-all duration-300 p-5 flex flex-col justify-between border border-transparent dark:border-gray-700 hover:shadow-2xl hover:backdrop-blur-sm hover:-translate-y-1",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-start mb-3",children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:P.title}),A.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-full",children:P.topic})]}),A.jsx("p",{className:"text-gray-800 dark:text-gray-200 mb-3 text-lg",children:P.question}),A.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:["By ",P.createdBy,"  ",new Date(P.createdAt).toLocaleString()]})]}),A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("button",{onClick:()=>D(P),className:`flex items-center gap-3 text-2xl ${P.likes.includes(T)?"text-red-500":"text-gray-500 dark:text-gray-300"}`,children:[A.jsx(Foe,{size:28})," ",P.likeCount||0]}),A.jsxs("button",{onClick:()=>F(P._id),className:"flex items-center gap-2 text-xl text-gray-500 dark:text-gray-300",children:[A.jsx(Ioe,{size:24})," ",P.comments.length]})]}),y[P._id]&&A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("div",{className:"max-h-40 overflow-y-auto",children:P.comments.map((L,B)=>A.jsxs("div",{className:"border-t pt-1 text-base text-gray-800 dark:text-gray-200",children:[A.jsx("span",{className:"font-semibold",children:L.name}),": ",L.text]},B))}),A.jsxs("div",{className:"flex gap-2 mt-2",children:[A.jsx("input",{type:"text",placeholder:"Add a comment...",value:m[P._id]||"",onChange:L=>g({...m,[P._id]:L.target.value}),className:"border rounded-xl px-3 py-2 w-2/3 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base"}),A.jsx("button",{onClick:()=>U(P._id),className:"px-4 py-2 bg-indigo-600 text-white rounded-xl w-1/3 hover:bg-indigo-700 text-base",children:"Comment"})]})]})]},P._id))}),o&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl w-full max-w-md shadow-lg",children:[A.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Create New Post"}),A.jsxs("form",{onSubmit:R,className:"flex flex-col gap-3",children:[A.jsx("input",{type:"text",placeholder:"Title",value:f.title,onChange:P=>d({...f,title:P.target.value}),className:"border rounded-xl px-3 py-2 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",required:!0}),A.jsx("textarea",{placeholder:"Question / Content",value:f.question,onChange:P=>d({...f,question:P.target.value}),className:"border rounded-xl px-3 py-2 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",rows:4,required:!0}),A.jsx("select",{value:f.topic,onChange:P=>d({...f,topic:P.target.value}),className:"border rounded-xl px-3 py-2 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",children:_.map(P=>A.jsx("option",{value:P,children:P},P))}),A.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[A.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border rounded-xl",children:"Cancel"}),A.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700",children:"Post"})]})]})]})})]})}const Hoe=j6([{path:"/",element:A.jsx(pY,{}),children:[{path:"/",element:A.jsx(ure,{}),errorElement:A.jsx(eo,{})},{path:"/dashboard",element:A.jsx(xoe,{}),errorElement:A.jsx(eo,{})},{path:"/edit-user",element:A.jsx(boe,{}),errorElement:A.jsx(eo,{})},{path:"/trials",element:A.jsx(Soe,{}),errorElement:A.jsx(eo,{})},{path:"/publications",element:A.jsx(Eoe,{}),errorElement:A.jsx(eo,{})},{path:"/experts",element:A.jsx(woe,{}),errorElement:A.jsx(eo,{})},{path:"/interestedtrials",element:A.jsx(Toe,{}),errorElement:A.jsx(eo,{})},{path:"/favoritePublication",element:A.jsx(Aoe,{}),errorElement:A.jsx(eo,{})},{path:"/connectionRequests",element:A.jsx(Coe,{}),errorElement:A.jsx(eo,{})},{path:"/meetingRequests",element:A.jsx(Roe,{}),errorElement:A.jsx(eo,{})},{path:"/followedExperts",element:A.jsx(Noe,{}),errorElement:A.jsx(eo,{})},{path:"/forum",element:A.jsx(koe,{}),errorElement:A.jsx(eo,{})}]}]);function joe(){return A.jsxs(A.Fragment,{children:[A.jsx(are,{position:"top-right",reverseOrder:!1,toastOptions:{duration:3e3,style:{fontSize:"14px",borderRadius:"8px"}}}),A.jsx(n8,{router:Hoe})]})}II.createRoot(document.getElementById("root")).render(A.jsx(O.StrictMode,{children:A.jsx(joe,{})}));
